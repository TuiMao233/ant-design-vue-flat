(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopOrders/myOrders"],{"30ba":function(e,n,t){"use strict";t.r(n);var r=t("6e68"),o=t("c007");for(var u in o)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(u);t("4d35");var i,a=t("f0c5"),c=Object(a["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);n["default"]=c.exports},"3c90":function(e,n,t){"use strict";(function(e){t("6cdc");var n=r(t("30ba"));function r(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"4d35":function(e,n,t){"use strict";var r=t("a0be"),o=t.n(r);o.a},"6e68":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return r}));var r={viewController:function(){return Promise.all([t.e("common/vendor"),t.e("components/controllers/view-controller")]).then(t.bind(null,"cd6b"))},uTabs:function(){return t.e("node-modules/uview-ui/components/u-tabs/u-tabs").then(t.bind(null,"5d62"))},uCard:function(){return t.e("node-modules/uview-ui/components/u-card/u-card").then(t.bind(null,"d505"))},uImage:function(){return t.e("node-modules/uview-ui/components/u-image/u-image").then(t.bind(null,"9df5"))},viewIcon:function(){return Promise.all([t.e("common/vendor"),t.e("components/view/view-icon")]).then(t.bind(null,"2807"))},uButton:function(){return t.e("node-modules/uview-ui/components/u-button/u-button").then(t.bind(null,"d9ad"))},uEmpty:function(){return t.e("node-modules/uview-ui/components/u-empty/u-empty").then(t.bind(null,"7516"))},uToast:function(){return t.e("node-modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"8e48"))}},o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.__map(e.list,(function(n,t){var r=e.__get_orig(n),o=0==n.status?{background:e.$hexColor["--color-primary-light-9"]+" !important",borderColor:e.$hexColor["--color-primary"]+" !important",color:e.$hexColor["--color-primary"]+" !important"}:null,u=3==n.status?n.orderGoods.some((function(e){return 0==e.comment_status})):null;return{$orig:r,a0:o,g0:u}})));e._isMounted||(e.e0=function(n){e.tabCurrent=n}),e.$mp.data=Object.assign({},{$root:{l0:t}})},u=[]},a0be:function(e,n,t){},bb47:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(t("4795")),o=t("79f6"),u=t("d257"),i=t("a6f4"),a=t("1bee"),c=t("1cc4"),s=d(t("0613"));function d(e){return e&&e.__esModule?e:{default:e}}function l(e,n,t,r,o,u,i){try{var a=e[u](i),c=a.value}catch(s){return void t(s)}a.done?n(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var u=e.apply(n,t);function i(e){l(u,r,o,i,a,"next",e)}function a(e){l(u,r,o,i,a,"throw",e)}i(void 0)}))}}var p=(0,i.defineComponent)({setup:function(){var e=(0,i.ref)([{id:void 0,name:"全部"},{id:0,name:"待付款"},{id:1,name:"待发货"},{id:2,name:"待收货"},{id:3,name:"已完成"},{id:-1,name:"已取消"}]),n=(0,i.ref)(0),t=(0,i.ref)(0);(0,c.onLoad)((function(e){n.value=null===e||void 0===e?void 0:e.id}));var u=(0,a.useListPaging)({prohibitInit:!0,getList:function(){var t=f(r.default.mark((function t(u){var i,a,c;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.reqGetOrderList)({status:e.value[n.value].id,page:u,limit:15});case 2:return i=t.sent,a=i.data,c=a.data,t.abrupt("return",(null===c||void 0===c?void 0:c.data)||[]);case 6:case"end":return t.stop()}}),t)})));function u(e){return t.apply(this,arguments)}return u}()}),d=u.list,l=u.resetList;(0,i.watch)(n,l);var p=(0,i.computed)((function(){return 0==d.value.length}));(0,c.onShow)((function(){l()}));var m=(0,i.computed)((function(){return s.default.getters.hexColor})),v=(0,i.computed)((function(){return"1"==s.default.state.common.commentSet.is_open_comment}));return{$hexColor:m,resetList:l,list:d,tabs:e,tabCurrent:n,currentIndex:t,is_open_comment:v,show:p}},components:{},data:function(){return{}},computed:{},methods:{cancelOrder:function(n){var t=this;return f(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.showModal({title:"取消订单",content:"您确认取消该订单吗？",success:function(){var e=f(r.default.mark((function e(i){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.confirm){e.next=6;break}return e.next=3,(0,o.reqCancelOrder)(n);case 3:return e.next=5,(0,u.showToast)({icon:"none",title:"取消订单成功"});case 5:t.resetList();case 6:case"end":return e.stop()}}),e)})));function i(n){return e.apply(this,arguments)}return i}()});case 1:case"end":return i.stop()}}),i)})))()},applyRefund:function(e){var n=this;return f(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.$navigateTo("/pages/shopOrders/selectAfterSaleType",{orderId:e.id});case 1:case"end":return t.stop()}}),t)})))()},confirmGoods:function(n){var t=this;return f(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.showModal({title:"确认·收货",content:"您确认收货吗？",success:function(){var e=f(r.default.mark((function e(i){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.confirm){e.next=6;break}return e.next=3,(0,o.reqConfirmReceipt)(n);case 3:return e.next=5,(0,u.showToast)({icon:"none",title:"确认收货成功"});case 5:t.resetList();case 6:case"end":return e.stop()}}),e)})));function i(n){return e.apply(this,arguments)}return i}()});case 1:case"end":return i.stop()}}),i)})))()},editItemAddress:function(e){var n=this;return f(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.currentIndex=e,n.$navigateTo("/pages/users/addressList",{select:!0});case 2:case"end":return t.stop()}}),t)})))()},evaluate:function(e){(0,u.navigateTo)("/pages/shopOrders/commodityEvaluation",{id:e})},buyAgain:function(e){var n=this;return f(r.default.mark((function t(){var u,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),u=[],e.forEach((function(e){u.push({goods_id:e.goods_id,sku_id:e.goods_sku_id,num:e.goods_num,price:e.goods_price})})),t.next=5,(0,o.reqAddCartLists)(u);case 5:i=[],e.forEach((function(e){i.push(e.goods_id)})),n.$navigateTo("/pages/baseTabBars/shopCart",{ids:JSON.stringify(i)});case 8:case"end":return t.stop()}}),t)})))()}},watch:{},onLoad:function(n){var t=this;"undefined"!==typeof n.id&&(this.tabCurrent=n.id),e.$on("address-select",function(){var e=f(r.default.mark((function e(n){var i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.list[t.currentIndex],e.next=3,(0,o.reqEditOrderAddress)({id:i.id,phone:n.phone,consignee:n.consignee,province_name:n.province_name,city_name:n.city_name,area_name:n.area_name,address:n.address,province_id:n.province_id,city_id:n.city_id,area_id:n.area_id});case 3:(0,u.showToast)({title:"修改地址成功!"});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){e.$off("address-select")},onPullDownRefresh:function(){e.stopPullDownRefresh()},onReachBottom:function(){}});n.default=p}).call(this,t("543d")["default"])},c007:function(e,n,t){"use strict";t.r(n);var r=t("bb47"),o=t.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=o.a}},[["3c90","common/runtime","common/vendor"]]]);