(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopOrders/refundReturnDetail"],{1642:function(e,t,n){"use strict";n.r(t);var i=n("755e"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},5982:function(e,t,n){},"6d86":function(e,t,n){"use strict";(function(e){n("6cdc");var t=i(n("747e"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"747e":function(e,t,n){"use strict";n.r(t);var i=n("9f45"),a=n("1642");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("8d95");var u,r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"2dbfdce6",null,!1,i["a"],u);t["default"]=s.exports},"755e":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n("4795")),a=n("79f6"),o=c(n("5a0c")),u=n("d257"),r=c(n("66fd")),s=n("a6f4"),l=c(n("0613")),d=n("e389");function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,i,a,o,u){try{var r=e[o](u),s=r.value}catch(l){return void n(l)}r.done?t(s):Promise.resolve(s).then(i,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){f(o,i,a,u,r,"next",e)}function r(e){f(o,i,a,u,r,"throw",e)}u(void 0)}))}}var p=r.default.extend({components:{},data:function(){return{numList:[{name:"提交申请"},{name:"商家处理"},{name:"寄回商品"},{name:"换货出库"},{name:"换货成功"}],isRevokeApply:!1,curStatus:1,createtime:0,legitimateDetail:{},successExchange:0,revokeApplyContent:"您将撤销本次申请，如果问题未解决，您还可以再次发起，确定继续吗？",orderId:"",shopId:"",logisticsInfo:[],merchantTime:0,mailTime:0,businessTime:0,deliveryTime:0}},computed:{},setup:function(){var e=(0,s.computed)((function(){return l.default.getters.hexColor}));return{$hexColor:e}},methods:{getRightDetail:function(e,t){var n=this;return m(i.default.mark((function u(){var r,s;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,a.reqLegitimateDetail)(e,t);case 2:r=i.sent,s=r.data,n.legitimateDetail=s.data,0==n.legitimateDetail.afterSales.status?(n.curStatus=1,n.merchantTime=(0,o.default)(1e3*s.data.afterSales.createtime).add(n.legitimateDetail.OrderBaseParam.toApplyForRightsOvertime.value,"day").unix()-(0,o.default)().unix()):1==n.legitimateDetail.afterSales.status?(n.curStatus=2,n.mailTime=(0,o.default)(1e3*s.data.afterSales.start_time).add(n.legitimateDetail.OrderBaseParam.cancelSafeguard.value,"day").unix()-(0,o.default)().unix()):3==n.legitimateDetail.afterSales.status?(n.curStatus=2,n.getlogisticsData(n.legitimateDetail.afterSales.express_company_code,n.legitimateDetail.afterSales.express_sn),n.businessTime=(0,o.default)(1e3*s.data.afterSales.user_shipments_time).add(n.legitimateDetail.OrderBaseParam.safeguardAutomation.value,"day").unix()-(0,o.default)().unix()):4==n.legitimateDetail.afterSales.status?(n.getlogisticsData(n.legitimateDetail.afterSales.send_express_company_code,n.legitimateDetail.afterSales.send_express_sn),n.deliveryTime=(0,o.default)(1e3*s.data.afterSales.shop_shipments_time).add(n.legitimateDetail.OrderBaseParam.safeguardAutomation.value,"day").unix()-(0,o.default)().unix(),n.curStatus=3):2==n.legitimateDetail.afterSales.status&&(n.successExchange=1,n.curStatus=4);case 6:case"end":return i.stop()}}),u)})))()},onCopyText:function(t){(0,d.setClipboardData)(t),e.hideToast(),e.showToast({title:"已复制联系方式!"})},fillExchangeEvent:function(){var e=this;return m(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:(0,u.navigateTo)("/pages/shopOrders/fillLogistics",{legitimateInfo:encodeURIComponent(JSON.stringify(e.legitimateDetail))});case 1:case"end":return t.stop()}}),t)})))()},revokeApply:function(){this.isRevokeApply=!0},applyAgain:function(){(0,u.navigateTo)("/pages/shopOrders/selectAfterSaleType",{goodsId:this.legitimateDetail.orderGoods[0].goods_id,goodsOrderId:this.legitimateDetail.orderGoods[0].id,orderId:this.legitimateDetail.id,afterSalesId:this.legitimateDetail.afterSales.id})},getlogisticsData:function(e,t){var n=this;return m(i.default.mark((function o(){var u,r;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,a.reqCheckLogistics)(e,t);case 2:u=i.sent,r=u.data,n.logisticsInfo=r.data;case 5:case"end":return i.stop()}}),o)})))()},confirmReceipt:function(){var e=this;return m(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.reqExchangeGoods)({order_after_sale_id:e.legitimateDetail.afterSales.id,order_id:e.legitimateDetail.id,order_item_id:e.legitimateDetail.orderGoods[0].id});case 2:return t.next=4,(0,u.showToast)({title:"确定收货成功",mask:!0,success:function(){setTimeout((function(){e.getRightDetail(e.orderId,e.shopId)}),1500)}});case 4:case"end":return t.stop()}}),t)})))()},revokeApplyConfirm:function(){var t=this;return m(i.default.mark((function n(){return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,a.reqCancelLegitimate)(t.legitimateDetail.afterSales.order_id,t.legitimateDetail.afterSales.order_item_id,t.legitimateDetail.afterSales.id);case 2:e.showToast({title:"撤销申请成功",mask:!0,success:function(){setTimeout((function(){(0,u.redirectTo)("/pages/shopOrders/afterSales")}),1500)}});case 3:case"end":return n.stop()}}),n)})))()}},watch:{},onLoad:function(e){this.orderId=e.orderId,this.shopId=e.shopId,this.getRightDetail(e.orderId,e.shopId)},onReady:function(){},onShow:function(){this.getRightDetail(this.orderId,this.shopId)},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){e.stopPullDownRefresh()},onReachBottom:function(){}});t.default=p}).call(this,n("543d")["default"])},"8d95":function(e,t,n){"use strict";var i=n("5982"),a=n.n(i);a.a},"9f45":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uIcon:function(){return n.e("node-modules/uview-ui/components/u-icon/u-icon").then(n.bind(null,"f86b"))},uCountDown:function(){return n.e("node-modules/uview-ui/components/u-count-down/u-count-down").then(n.bind(null,"e387"))},viewIcon:function(){return Promise.all([n.e("common/vendor"),n.e("components/view/view-icon")]).then(n.bind(null,"2807"))},uSteps:function(){return n.e("node-modules/uview-ui/components/u-steps/u-steps").then(n.bind(null,"be74"))},customCardContainer:function(){return n.e("components/customs/custom-card-container").then(n.bind(null,"6d4c"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"d9ad"))},uTimeLine:function(){return n.e("node-modules/uview-ui/components/u-time-line/u-time-line").then(n.bind(null,"34f4"))},uTimeLineItem:function(){return n.e("node-modules/uview-ui/components/u-time-line-item/u-time-line-item").then(n.bind(null,"87b7"))},uCellItem:function(){return n.e("node-modules/uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"065d8"))},commonLegitimateInfo:function(){return Promise.all([n.e("common/vendor"),n.e("components/commons/common-legitimate-info")]).then(n.bind(null,"6d6b"))},unionBlank:function(){return n.e("components/unions/union-blank").then(n.bind(null,"2902"))},linkController:function(){return n.e("components/controllers/link-controller").then(n.bind(null,"d887"))},uModal:function(){return n.e("node-modules/uview-ui/components/u-modal/u-modal").then(n.bind(null,"078c"))}},a=function(){var e=this,t=e.$createElement;e._self._c},o=[]}},[["6d86","common/runtime","common/vendor"]]]);