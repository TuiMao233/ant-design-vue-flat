import{a as e,l as a,r as l,w as t,b as s,o,c as n,g as u,Z as d,F as c,P as r,u as i,t as p,s as m,X as v,k as f,p as g,h as y,d as x}from"./vendor.71e19cde.js";import{a as _,f as w}from"./index.a53c91c6.js";import{g as b}from"./marketing.64a7433e.js";const h=f();g("data-v-c65be00c");const k={class:"all-coupon-box"},z={class:"oe-flex is-grid"},V=u("div",{class:"screen-text"},"优惠券名称",-1),C={class:"oe-flex is-grid"},S=u("div",{class:"screen-text"},"新增时间",-1),j={class:"oe-flex is-grid"},K=u("div",{class:"screen-text"},"领取方式",-1),P={class:"oe-flex is-grid"},U=u("div",{class:"screen-text"},"会员昵称",-1),F={class:"oe-flex is-grid"},I=v("搜索"),X={style:{"font-size":"12px",color:"#8c8c8c"}},Z={key:0},q={key:1},A={style:{color:"#ff9d28"}},B=v("自动领取"),D=v("手动发放"),E={key:0,style:{color:"#1ad370"}},G={key:1,style:{color:"#ff0000"}};y();var H=e({expose:[],setup(e){const{pagination:f,handleSizeChange:g,handleCurrentChange:y}=_(),H=a([{date:"默认导航",name:"王小虎",address:"维权结束",coupon:{name:"优惠券名称",type:2,money:"11.00",condition_order_amount:"11.00"},user:{nickname:"13308435101"}}]),J=l([{value:"0",label:"自动领取"},{value:"1",label:"后台发放"}]),L=a(""),M=()=>{N.value.name="",N.value.createtime="",N.value.type="",N.value.nickname=""},N=a({name:"",createtime:"",type:"",nickname:""}),O=async()=>{""!=L.value&&null!=L.value?N.value.createtime=x(L.value).unix():null==L.value&&(N.value.createtime="");const e={search:N.value,page:f.currentPage,limit:f.pageSize},{data:a}=await b(e);f.total=a.data.total,H.value=a.data.data};return t([()=>f.currentPage,()=>f.pageSize],(()=>O()),{immediate:!0}),h(((e,a)=>{const l=s("el-input"),t=s("el-col"),x=s("el-date-picker"),_=s("el-option"),b=s("el-select"),Q=s("el-button"),R=s("el-row"),T=s("el-card"),W=s("el-empty"),Y=s("el-table-column"),$=s("el-tag"),ee=s("el-table"),ae=s("el-pagination");return o(),n("div",k,[u(T,{shadow:"never",class:"screen-box"},{default:h((()=>[u(R,{gutter:24},{default:h((()=>[u(t,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:h((()=>[u("div",z,[V,u(l,{onKeyup:d(O,["enter"]),class:"oe-flex-1",modelValue:N.value.name,"onUpdate:modelValue":a[1]||(a[1]=e=>N.value.name=e),placeholder:"优惠券名称"},null,8,["onKeyup","modelValue"])])])),_:1}),u(t,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:h((()=>[u("div",C,[S,u(x,{class:"oe-flex-1",modelValue:L.value,"onUpdate:modelValue":a[2]||(a[2]=e=>L.value=e),type:"date",placeholder:"优惠券新增时间"},null,8,["modelValue"])])])),_:1}),u(t,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:h((()=>[u("div",j,[K,u(b,{modelValue:N.value.type,"onUpdate:modelValue":a[3]||(a[3]=e=>N.value.type=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:h((()=>[(o(!0),n(c,null,r(i(J),(e=>(o(),n(_,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),_:1}),u(t,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:h((()=>[u("div",P,[U,u(l,{onKeyup:d(O,["enter"]),class:"oe-flex-1",modelValue:N.value.nickname,"onUpdate:modelValue":a[4]||(a[4]=e=>N.value.nickname=e),placeholder:"会员昵称"},null,8,["onKeyup","modelValue"])])])),_:1}),u(t,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:h((()=>[u("div",F,[u(Q,{onClick:a[5]||(a[5]=e=>O()),type:"primary",size:"small"},{default:h((()=>[I])),_:1}),u("div",{class:"reset-text",onClick:M},"重置条件")])])),_:1})])),_:1})])),_:1}),u(T,{shadow:"never",class:"refund-list custom-crad-container custom-card-page"},{default:h((()=>[u(ee,{class:"revenue-list",data:H.value,style:{width:"100%"}},{empty:h((()=>[u(W,{class:"oe-m-t-30",description:"暂无发券记录"})])),default:h((()=>[u(Y,{label:"优惠券名称","min-width":"150"},{default:h((e=>[u("div",null,p(e.row.coupon.name),1),u("div",X,p(e.row.coupon.money)+"代金券 满"+p(e.row.coupon.condition_order_amount)+"可用 ",1)])),_:1}),u(Y,{label:"优惠券类型","min-width":"150"},{default:h((e=>[1==e.row.coupon.type?(o(),n("span",Z,"商品满减券")):m("",!0),2==e.row.coupon.type?(o(),n("span",q,"商品折扣券")):m("",!0)])),_:1}),u(Y,{label:"会员信息","min-width":"150"},{default:h((e=>[u("span",A,p(e.row.user.nickname),1)])),_:1}),u(Y,{label:"领取方式","min-width":"150"},{default:h((e=>[0==e.row.type?(o(),n($,{key:0,type:"success"},{default:h((()=>[B])),_:1})):m("",!0),1==e.row.type?(o(),n($,{key:1,type:"danger"},{default:h((()=>[D])),_:1})):m("",!0)])),_:1}),u(Y,{label:"领取时间","min-width":"160"},{default:h((e=>[v(p(i(w)(e.row.createtime)),1)])),_:1}),u(Y,{label:"到期时间","min-width":"160"},{default:h((e=>[v(p(i(w)(e.row.endtime)),1)])),_:1}),u(Y,{label:"优惠券状态"},{default:h((e=>[0==e.row.status?(o(),n("span",E,"未使用")):m("",!0),1==e.row.status?(o(),n("span",G,"已使用")):m("",!0)])),_:1}),u(Y,{label:"到期时间","min-width":"160"},{default:h((e=>[v(p(i(w)(e.row.begintime)),1)])),_:1})])),_:1},8,["data"]),u(t,{lg:24,class:"paging-box"},{default:h((()=>[u(ae,{background:"",onSizeChange:i(g),onCurrentChange:i(y),"current-page":i(f).currentPage,"page-sizes":i(f).pageSizes,"page-size":i(f).pageSize,total:i(f).total,layout:"total, sizes, prev, pager, next, jumper"},null,8,["onSizeChange","onCurrentChange","current-page","page-sizes","page-size","total"])])),_:1})])),_:1})])}))}});H.__scopeId="data-v-c65be00c";export default H;
