import{a as e,l as a,r as l,b as o,o as r,c as s,g as u,u as t,Z as n,t as d,k as i,p,X as c,h as m}from"./vendor.71e19cde.js";import{u as w,bm as v,bn as g,B as b}from"./index.a53c91c6.js";import{_ as D}from"./password-strength.7c260ad5.js";const f=i();p("data-v-5e9675e4");const F={class:"login-container-right-panel"},V=u("span",{class:"text"},"返回",-1),E=u("i",{class:"el-icon-arrow-right icon"},null,-1),h=u("div",{class:"login-container-title"},"欢迎注册新账户",-1),_=u("div",{class:"login-container-tips"},"Welcome to register a new account",-1),y={key:0,class:"login-container-seed-btns verification-code"},A={key:0,class:"login-container-seed-btns verification-code"},k={class:"oe-flex oe-row-between"},C=c("勾选表示你应经同意《用户服务协议》"),U=u("span",{class:"text"},"注册",-1),x={class:"login-container-page-link"},z=u("span",{class:"prompt-text"},"已有账户？",-1);m();var I=e({expose:[],setup(e){const i=w(),p=a("account"),c=()=>{},m=l({account:"",password:"",repassword:"",email:"",code:""}),I=a(),j=(e,a,l)=>{const o=/[0-9]/.test(a),r=/[A-Z]/.test(a),s=/[a-z]/.test(a);""==a&&l(new Error("密码不能为空")),o||l(new Error("密码需要包含数字")),r&&s||l(new Error("密码需要包含大小写字母")),a.length<=18&&a.length>=6||l(new Error("密码长度需要在6到18位之间")),l()},K=l({account:[{validator:(e,a,l)=>{const o=/[0-9]/.test(a),r=/^[A-z]/.test(a),s=/^(?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/.test(a);""==a&&l(new Error("账号不能为空")),s&&l(new Error("账号不能包含汉字")),r||l(new Error("账号需要以字母开头")),o||l(new Error("账号需要包含有数字")),a.length<=18&&a.length>=6||l(new Error("账号长度需要在6到18位之间")),l()},trigger:"blur"}],password:[{validator:j,trigger:"blur"}],repassword:[{validator:(e,a,l)=>{""===a?l(new Error("请再次输入密码")):a!==m.password?l(new Error("两次输入密码不一致!")):l()},trigger:"blur"}],email:[{validator:(e,a,l)=>{const o=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a);""==a?l(new Error("请输入账号")):o?l():l(new Error("格式不正确"))},trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}),Z=a(),B=l({mobile:"",password:"",repassword:"",code:""}),$=l({mobile:[{validator:(e,a,l)=>{const o=/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(a);""==a?l(new Error("请输入手机号")):o?l():l(new Error("格式不正确"))},trigger:"blur"}],password:[{validator:j,trigger:"blur"}],repassword:[{validator:(e,a,l)=>{""===a?l(new Error("请再次输入密码")):a!==B.password?l(new Error("两次输入密码不一致!")):l()},trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}),q=a(60),R=a(!1),T=async()=>{R.value=!0,await v({email:m.email});const e=setInterval((()=>{q.value--,q.value<1&&(clearInterval(e),R.value=!1)}),1e3)},W=a(2),X=a(!1),G=async()=>{X.value=!0,await g({mobile:B.mobile});const e=setInterval((()=>{W.value--,W.value<1&&(clearInterval(e),X.value=!1)}),1e3)},H=a(!1),J=()=>{H.value?"account"===p.value?I.value.validate((async e=>{if(!e)return!1;await b.dispatch("accountRegister",m)})):Z.value.validate((async e=>{if(!e)return!1;await b.dispatch("mobileRegister",B)})):alert("您还没勾选用户服务协议")},L=()=>{i.push("login")};return f(((e,a)=>{const l=o("el-input"),w=o("el-form-item"),v=o("el-form"),g=o("el-tab-pane"),b=o("el-tabs"),j=o("el-checkbox"),M=o("el-button"),N=o("el-link");return r(),s("div",F,[u("div",{class:"title-return",onClick:a[1]||(a[1]=(...e)=>t(i).back&&t(i).back(...e))},[V,E]),h,_,u(b,{class:"custom-tabs",modelValue:p.value,"onUpdate:modelValue":a[11]||(a[11]=e=>p.value=e),onTabClick:c},{default:f((()=>[u(g,{label:"账号注册",name:"account"},{default:f((()=>[u(v,{ref:I,rules:t(K),model:t(m),class:"login-container-form"},{default:f((()=>[u(w,{prop:"account"},{default:f((()=>[u(l,{placeholder:"账号",modelValue:t(m).account,"onUpdate:modelValue":a[2]||(a[2]=e=>t(m).account=e)},null,8,["modelValue"])])),_:1}),u(w,{prop:"password"},{default:f((()=>[u(l,{placeholder:"密码",type:"password",modelValue:t(m).password,"onUpdate:modelValue":a[3]||(a[3]=e=>t(m).password=e)},null,8,["modelValue"]),u(D,{input:t(m).password},null,8,["input"])])),_:1}),u(w,{prop:"repassword"},{default:f((()=>[u(l,{placeholder:"确认密码",type:"password",modelValue:t(m).repassword,"onUpdate:modelValue":a[4]||(a[4]=e=>t(m).repassword=e)},null,8,["modelValue"]),u(D,{input:t(m).repassword},null,8,["input"])])),_:1}),u(w,{prop:"email"},{default:f((()=>[u(l,{placeholder:"请输入您的邮箱",modelValue:t(m).email,"onUpdate:modelValue":a[5]||(a[5]=e=>t(m).email=e)},null,8,["modelValue"])])),_:1}),u(w,{prop:"code"},{default:f((()=>[u(l,{placeholder:"验证码",modelValue:t(m).code,"onUpdate:modelValue":a[6]||(a[6]=e=>t(m).code=e),onKeyup:n(J,["enter"])},{append:f((()=>[R.value?(r(),s("span",y,d(q.value)+"秒重新发送",1)):(r(),s("span",{key:1,onClick:T,class:"login-container-seed-btns verification-code"},"获取验证码"))])),_:1},8,["modelValue","onKeyup"])])),_:1})])),_:1},8,["rules","model"])])),_:1}),u(g,{label:"手机号注册",name:"phone"},{default:f((()=>[u(v,{ref:Z,rules:t($),model:t(B),class:"login-container-form"},{default:f((()=>[u(w,{prop:"mobile"},{default:f((()=>[u(l,{placeholder:"手机号",modelValue:t(B).mobile,"onUpdate:modelValue":a[7]||(a[7]=e=>t(B).mobile=e)},null,8,["modelValue"])])),_:1}),u(w,{prop:"code"},{default:f((()=>[u(l,{placeholder:"验证码",modelValue:t(B).code,"onUpdate:modelValue":a[8]||(a[8]=e=>t(B).code=e)},{append:f((()=>[X.value?(r(),s("span",A,d(W.value)+"秒重新发送",1)):(r(),s("span",{key:1,onClick:G,class:"login-container-seed-btns verification-code"},"获取验证码"))])),_:1},8,["modelValue"])])),_:1}),u(w,{prop:"password"},{default:f((()=>[u(l,{placeholder:"密码",type:"password",modelValue:t(B).password,"onUpdate:modelValue":a[9]||(a[9]=e=>t(B).password=e)},null,8,["modelValue"]),u(D,{input:t(B).password},null,8,["input"])])),_:1}),u(w,{prop:"repassword"},{default:f((()=>[u(l,{placeholder:"确认密码",type:"password",modelValue:t(B).repassword,"onUpdate:modelValue":a[10]||(a[10]=e=>t(B).repassword=e),onKeyup:n(J,["enter"])},null,8,["modelValue","onKeyup"]),u(D,{input:t(B).repassword},null,8,["input"])])),_:1})])),_:1},8,["rules","model"])])),_:1})])),_:1},8,["modelValue"]),u("div",k,[u(j,{modelValue:H.value,"onUpdate:modelValue":a[12]||(a[12]=e=>H.value=e)},{default:f((()=>[C])),_:1},8,["modelValue"])]),u(M,{class:"login-container-subs-btns wechat-login",type:"primary",onClick:J},{default:f((()=>[U])),_:1}),u("p",x,[z,u(N,{type:"primary",underline:!1,href:"javascript:;"},{default:f((()=>[u("span",{onClick:L,class:"font-size-12"},"去登录")])),_:1})])])}))}});I.__scopeId="data-v-5e9675e4";export default I;
