import{a as e,l,w as a,m as t,S as o,b as s,o as d,c as r,g as u,Z as i,F as n,P as c,X as m,t as v,u as p,f,s as y,k as x,p as g,h as _,d as h}from"./vendor.71e19cde.js";import{u as k,a as b,az as C,z as w,f as S,ay as V}from"./index.a53c91c6.js";import{c as z,a as T,b as U}from"./order.28ff7f57.js";import{r as F}from"./member.c7d788b5.js";import{_ as N,a as j}from"./journal.vue_vue&type=script&setup=true&lang.e59fd4d4.js";import{_ as I}from"./logistics-data.45ba351c.js";import{_ as D,a as E,b as G,c as P,d as K,e as R}from"./consignee-information.df2fa79c.js";import"./reset-time.7778decd.js";const q=x();g("data-v-03796f1e");const L={class:"date-box e-grid oe-flex"},M={class:"date-box e-grid"},A={class:"date-box e-grid"},B=u("div",{class:"form-text"},"下单时间",-1),O={class:"oe-flex e-grid"},X=u("div",{class:"form-text"},"维权状态",-1),Z={class:"oe-flex e-grid"},H=u("div",{class:"form-text"},"商品类型",-1),J={class:"oe-flex e-grid"},Q=u("div",{class:"form-text"},"支付方式",-1),W={class:"oe-flex e-grid"},Y=m("搜索"),$={class:"oe-flex oe-row-between box-title"},ee=u("span",{class:"title-all"},"待收货",-1),le={class:"title-text"},ae=m("刷新"),te=m(" （注：点击刷新后，将计算选中商品的实付金额，计算公式：所选商品实付金额*数量相加 ） "),oe=m("导出"),se={class:"order-list-box"},de={class:"oe-flex list-title"},re=m(" 商品信息"),ue=m(" 数量/单价 "),ie=m(" 维权 "),ne=m(" 订单状态 "),ce=m(" 配送方式 "),me=m(" 实际付款 "),ve=m(" 收货人 "),pe=m(" 操作 "),fe={class:"oe-flex"},ye=u("span",null,"订单来源：",-1),xe={class:"oe-flex header-right"},ge=m("日志"),_e=m("备注"),he={class:"oe-flex commodity-box oe-flex-8"},ke={class:"commodity-right"},be={class:"commodity-right-text"},Ce=m("虚拟"),we=m("卡密"),Se=m("实体"),Ve=m("计时/次"),ze=m("预约"),Te=m("批发"),Ue={class:"quantity-price oe-flex-4 frame"},Fe={class:"list-bottom"},Ne={class:"oe-flex-4 frame"},je={key:0},Ie={key:1},De={key:2},Ee={class:"state-box oe-flex-4 frame"},Ge={key:0,class:"state-text"},Pe={key:0,class:"state-text"},Ke={key:1,class:"state-text"},Re={key:2},qe={key:3},Le={class:"state-box oe-flex-4 frame"},Me={key:0},Ae={key:1},Be={key:2},Oe=u("br",null,null,-1),Xe=u("br",null,null,-1),Ze={key:0},He={class:"oe-flex oe-flex-wrap"},Je=m("查看 "),Qe=m("立即发货"),We={style:{"margin-top":"14px"},class:"oe-flex oe-flex-wrap"},Ye=m("退款 "),$e=m("修改地址"),el=m("查看 "),ll={key:2,class:"oe-flex oe-flex-wrap"},al=m("查看 "),tl=m(" 确定收货 "),ol={key:3},sl={class:"oe-flex oe-flex-wrap"},dl=m("查看 "),rl=m("确认付款"),ul={style:{"margin-top":"14px"},class:"oe-flex oe-flex-wrap"},il=m("改价"),nl=m("关闭");_();var cl=e({expose:[],setup(e){const x=k(),{pagination:g,handleSizeChange:_,handleCurrentChange:cl}=b(),ml=l({orderSwitch:"订单编号",orderNumber:"",receivingType:"会员昵称",consignee:"",timeType:"支付时间",time:"",merchantName:"",merchantTitle:"",safeguarding:"",commodityType:"",deliveryMode:"",payment:"",orderStatus:"",orderStore:"",region:"",orderType:""}),vl=l({orderSwitch:"订单编号",orderNumber:"",receivingType:"收货人姓名",consignee:"",timeType:"支付时间",time:"",merchantName:"",merchantTitle:"",safeguarding:"",commodityType:"",deliveryMode:"",payment:"",orderStatus:"",orderStore:"",region:"",orderType:""}),pl=l([]),fl=l([]),yl=async()=>{const e=["",""];ml.value.time&&(e[0]=h(ml.value.time[0]).unix().toString(),e[1]=h(ml.value.time[1]).unix().toString());const l={order_sn:ml.value.orderNumber,phone:"收货人手机号码"==ml.value.receivingType?ml.value.consignee:"",consignee:"收货人姓名"==ml.value.receivingType?ml.value.consignee:"",status:"2",pay_type:ml.value.payment,type:ml.value.commodityType,express_nos:"物流单号"==ml.value.orderSwitch?ml.value.orderNumber:"",page:g.currentPage,limit:g.pageSize,createtime:e};vl.value=l;const{data:a}=await z(l);0==a.code&&(pl.value=a.data.data,pl.value.forEach((e=>{e.select=!1})),g.total=a.data.total);for(let t=0;t<pl.value.length;t++){for(let e=0;e<xl.value.length;e++)pl.value[t].platform==xl.value[e].code&&(pl.value[t].img_url=xl.value[e].img_url,pl.value[t].sourceName=xl.value[e].name);for(let e=0;e<fl.value.length;e++)pl.value[t].pay_type==fl.value[e].key&&(pl.value[t].payTypeName=fl.value[e].name)}};C().then((e=>{fl.value=e.data.data}));const xl=l([]),gl=l({}),_l=l([]),hl=l([]),kl=l(0),bl=l(0),Cl=l({remarksState:!1,refundState:!1,confirmReceipt:!1,deliverGoods:!1,priceChange:!1,logisticsData:!1,journal:!1,address:!1,export:!1}),wl=l(0),Sl=(e,l)=>{gl.value=l,kl.value=e,Cl.value.remarksState=!0},Vl=(e,l)=>{gl.value=l,bl.value=e,Cl.value.confirmReceipt=!0},zl=e=>{x.push({path:"/order/management/orderDetails",query:{id:e.id}})};F({page:1,limit:100}).then((e=>{xl.value=e.data.data.data}));const{isSelectAll:Tl,selectIds:Ul,selectItems:Fl}=w(pl),Nl=()=>{g.currentPage=1,yl()};a(Tl,(()=>{Il.value=Fl.value})),a(Fl,(()=>{Il.value=Fl.value}));const jl=()=>{wl.value=0,Il.value.forEach((e=>{wl.value+=Number(e.goods_amount)}))},Il=l([]);l(!1);const Dl=()=>{ml.value.orderSwitch="订单编号",ml.value.orderNumber="",ml.value.receivingType="收货人姓名",ml.value.consignee="",ml.value.timeType="支付时间",ml.value.time=0,ml.value.merchantName="",ml.value.merchantTitle="",ml.value.safeguarding="",ml.value.commodityType="",ml.value.deliveryMode="",ml.value.payment="",ml.value.orderStatus="",ml.value.orderStore="",ml.value.region="",ml.value.orderType="",g.currentPage=1,yl()};return a([()=>g.currentPage,()=>g.pageSize],(()=>{yl()})),t((()=>yl())),o("resetOrderList",yl),q(((e,l)=>{const a=s("el-option"),t=s("el-select"),o=s("el-input"),h=s("el-col"),k=s("el-date-picker"),b=s("el-button"),C=s("el-row"),w=s("el-card"),z=s("el-checkbox"),F=s("el-image"),yl=s("el-tag"),xl=s("custom-button"),Ul=s("el-empty"),Fl=s("el-pagination");return d(),r(n,null,[u(w,{shadow:"never",class:"order-head"},{default:q((()=>[u(C,{gutter:20},{default:q((()=>[u(h,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[u("div",L,[u(t,{modelValue:ml.value.orderSwitch,"onUpdate:modelValue":l[1]||(l[1]=e=>ml.value.orderSwitch=e),placeholder:"请选择",class:"selectFrom",clearable:""},{default:q((()=>[u(a,{label:"订单编号",value:"订单编号"}),u(a,{label:"物流单号",value:"物流单号"})])),_:1},8,["modelValue"]),u(o,{onKeyup:i(Nl,["enter"]),placeholder:"请输入",modelValue:ml.value.orderNumber,"onUpdate:modelValue":l[2]||(l[2]=e=>ml.value.orderNumber=e)},null,8,["onKeyup","modelValue"])])])),_:1}),u(h,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[u("div",M,[u(t,{modelValue:ml.value.receivingType,"onUpdate:modelValue":l[3]||(l[3]=e=>ml.value.receivingType=e),placeholder:"请选择",class:"selectFrom",clearable:""},{default:q((()=>[u(a,{label:"收货人姓名",value:"收货人姓名"}),u(a,{label:"收货人手机号码",value:"收货人手机号码"})])),_:1},8,["modelValue"]),u(o,{onKeyup:i(Nl,["enter"]),placeholder:"请输入",modelValue:ml.value.consignee,"onUpdate:modelValue":l[4]||(l[4]=e=>ml.value.consignee=e)},null,8,["onKeyup","modelValue"])])])),_:1}),u(h,{xl:{span:"9_6"},md:8,sm:12,xs:12},{default:q((()=>[u("div",A,[B,u(k,{modelValue:ml.value.time,"onUpdate:modelValue":l[5]||(l[5]=e=>ml.value.time=e),class:"oe-flex-1",type:"datetimerange","value-format":"timestamp","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])])])),_:1}),u(h,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[u("div",O,[X,u(t,{modelValue:ml.value.safeguarding,"onUpdate:modelValue":l[6]||(l[6]=e=>ml.value.safeguarding=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:q((()=>[u(a,{label:"全部",value:"全部"}),u(a,{label:"未维权",value:"未维权"}),u(a,{label:"维权中",value:"维权中"}),u(a,{label:"维权完后",value:"维权完后"})])),_:1},8,["modelValue"])])])),_:1}),u(h,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[u("div",Z,[H,u(t,{modelValue:ml.value.commodityType,"onUpdate:modelValue":l[7]||(l[7]=e=>ml.value.commodityType=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:q((()=>[u(a,{label:"全部",value:" "}),u(a,{label:"实体商品",value:"1"}),u(a,{label:"虚拟商品",value:"2"})])),_:1},8,["modelValue"])])])),_:1}),u(h,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[u("div",J,[Q,u(t,{modelValue:ml.value.payment,"onUpdate:modelValue":l[8]||(l[8]=e=>ml.value.payment=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:q((()=>[(d(!0),r(n,null,c(fl.value,(e=>(d(),r(a,{label:e.name,value:e.key,key:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),_:1}),u(h,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[u("div",W,[u(b,{type:"primary",onClick:Nl},{default:q((()=>[Y])),_:1}),u("div",{onClick:Dl,class:"reset-text"},"重置条件")])])),_:1})])),_:1})])),_:1}),u(w,{shadow:"never",class:"order-box custom-crad-container custom-card-page"},{default:q((()=>[u(C,{gutter:24},{default:q((()=>[u(h,{lg:24},{default:q((()=>[u("div",$,[u("div",null,[ee,u("span",le,[m("总订单数："+v(p(g).total)+" 实付金额统计："+v(wl.value.toFixed(2))+"元 ",1),u(b,{type:"text",onClick:jl},{default:q((()=>[ae])),_:1}),te])]),u(b,{type:"primary",class:"export-btn",onClick:l[9]||(l[9]=e=>Cl.value.export=!0)},{default:q((()=>[oe])),_:1})])])),_:1}),u("div",se,[u("div",de,[u(z,{modelValue:p(Tl),"onUpdate:modelValue":l[10]||(l[10]=e=>f(Tl)?Tl.value=e:null),class:"selection-all"},null,8,["modelValue"]),u(C,{class:"list-title-right"},{default:q((()=>[u(h,{xl:15,md:15,sm:15,xs:15},{default:q((()=>[u(C,null,{default:q((()=>[u(h,{xl:8,md:8,sm:8,xs:8},{default:q((()=>[re])),_:1}),u(h,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[ue])),_:1}),u(h,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[ie])),_:1}),u(h,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[ne])),_:1}),u(h,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[ce])),_:1})])),_:1})])),_:1}),u(h,{xl:3,md:3,sm:3,xs:3},{default:q((()=>[me])),_:1}),u(h,{xl:3,md:3,sm:3,xs:3},{default:q((()=>[ve])),_:1}),u(h,{xl:3,md:3,sm:3,xs:3},{default:q((()=>[pe])),_:1})])),_:1})]),pl.value.length?(d(!0),r(n,{key:0},c(pl.value,((e,l)=>(d(),r("div",{class:"list-box",key:l},[u(C,{class:"list-header oe-flex"},{default:q((()=>[u(h,{xl:9,lg:15,md:15,sm:15,xs:15},{default:q((()=>[u("div",fe,[u(z,{modelValue:e.select,"onUpdate:modelValue":l=>e.select=l,class:"selection-single"},null,8,["modelValue","onUpdate:modelValue"]),m(" 订单编号："+v(e.order_sn),1),u("span",{class:"is-color copy-tetx",onClick:l=>(e=>{const l=document.createElement("input");document.body.appendChild(l),l.setAttribute("value",e),l.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(l),V({title:"成功",message:"复制成功",type:"success",duration:2e3})})(e.order_sn)}," 复制 ",8,["onClick"]),ye,u(F,{src:e.img_url,alt:""},null,8,["src"])])])),_:2},1024),u(h,{xl:10,lg:5,md:5,sm:5,xs:5},{default:q((()=>[u("div",null,"下单时间："+v(p(S)(e.createtime)),1)])),_:2},1024),u(h,{xl:5,lg:4,md:4,sm:4,xs:4,class:"header-right-box"},{default:q((()=>[u("div",xe,[u(b,{type:"text",onClick:l=>(async e=>{const{data:l}=await T({order_id:e.id});_l.value=l.data.data,Cl.value.journal=!0})(e)},{default:q((()=>[ge])),_:2},1032,["onClick"]),u(b,{type:"text",class:"is-left",onClick:l=>Sl(0,e)},{default:q((()=>[_e])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),u(C,{class:"box-content"},{default:q((()=>[u(h,{xl:15,md:15,sm:15,xs:15,class:"layer-content"},{default:q((()=>[(d(!0),r(n,null,c(e.orderGoods,((l,a)=>(d(),r("div",{key:Number(a),class:["loop-box",1==e.orderGoods.length?"completely":""]},[u("div",he,[u(F,{src:l.goods_image,fit:"cover",class:"order-information-img"},null,8,["src"]),u("div",ke,[u("div",be,v(l.goods_title),1),"2"==e.type?(d(),r(yl,{key:0,size:"mini",color:"#D4EBFF",style:{color:"#55adff"}},{default:q((()=>[Ce])),_:1})):y("",!0),"3"==e.type?(d(),r(yl,{key:1,size:"mini",color:"#FBDDD1",style:{color:"#ec672e"}},{default:q((()=>[we])),_:1})):y("",!0),"1"==e.type?(d(),r(yl,{key:2,size:"mini",color:"#E4FFF8",style:{color:"#1ad370"}},{default:q((()=>[Se])),_:1})):y("",!0),"4"==e.type?(d(),r(yl,{key:3,size:"mini",color:"#F4DFD3",style:{color:"#ef864c"}},{default:q((()=>[Ve])),_:1})):y("",!0),"5"==e.type?(d(),r(yl,{key:4,size:"mini",color:"#F8E8CF",style:{color:"#dd8a0d"}},{default:q((()=>[ze])),_:1})):y("",!0),"6"==e.type?(d(),r(yl,{key:5,size:"mini",color:"#E9D4F9",style:{color:"#8f29df"}},{default:q((()=>[Te])),_:1})):y("",!0)])]),u("div",Ue,[u("div",null,[u("div",null,"¥"+v(l.goods_original_price),1),u("div",Fe,"x"+v(l.goods_num),1)])]),u("div",Ne,[u("div",null,["1"==l.after_sale_status?(d(),r("div",je,"维权中")):y("",!0),"0"==l.after_sale_status?(d(),r("div",Ie,"-")):y("",!0),"2"==l.after_sale_status?(d(),r("div",De,"维权完成")):y("",!0),"0"!=l.after_sale_status?(d(),r("div",{key:3,onClick:a=>{return t=e,o=l.id,void x.push({path:"/order/management/protection-details",query:{id:t.id,orderId:o}});var t,o},class:"is-color touch-text list-bottom"}," 维权详情 ",8,["onClick"])):y("",!0)])]),u("div",Ee,["0"==e.status?(d(),r("div",Ge,"等待付款")):y("",!0),"0"!=e.status?(d(),r(n,{key:1},["1"==l.dispatch_status?(d(),r("div",Pe,"等待发货")):y("",!0),"2"==l.dispatch_status?(d(),r("div",Ke,"等待收货")):y("",!0),"-1"==l.dispatch_status?(d(),r("div",Re,"已关闭")):y("",!0),"3"==l.dispatch_status?(d(),r("div",qe,"已完成")):y("",!0)],64)):y("",!0)]),u("div",Le,[u("div",null,["1"==e.delivery_type?(d(),r("div",Me,"快递")):y("",!0),"3"==e.delivery_type?(d(),r("div",Ae,"自提")):y("",!0),"2"==e.delivery_type?(d(),r("div",Be,"同城配送")):y("",!0),l.express_no?(d(),r("div",{key:3,class:"is-color list-bottom touch-text",onClick:e=>(async(e,l)=>{const{data:a}=await U({send_express_company_code:e,send_express_sn:l});hl.value=a.data,Cl.value.logisticsData=!0})(l.express_code,l.express_no)},"物流信息 ",8,["onClick"])):y("",!0)])])],2)))),128))])),_:2},1024),u(h,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:q((()=>[u("div",null,[u("div",null,"¥"+v(e.pay_fee),1),Oe,u("div",null,v(e.payTypeName),1)])])),_:2},1024),u(h,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:q((()=>[u("div",null,[u("div",null,v(e.consignee),1),Xe,u("div",null,v(e.phone),1)])])),_:2},1024),u(h,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:q((()=>["1"==e.status?(d(),r("div",Ze,[u("div",He,[u(xl,{icon:"ad-see",color:"#FE6712",onClick:l=>zl(e)},{default:q((()=>[Je])),_:2},1032,["onClick"]),u(b,{size:"small",type:"primary",icon:"ad-immediately",class:"btn-deviation",onClick:l=>(e=>{gl.value=e,Cl.value.deliverGoods=!0})(e)},{default:q((()=>[Qe])),_:2},1032,["onClick"])]),u("div",We,[u(xl,{icon:"ad-refund",color:"#ff0000",onClick:l=>(e=>{gl.value=e,Cl.value.refundState=!0})(e)},{default:q((()=>[Ye])),_:2},1032,["onClick"]),u(xl,{icon:"ad-change-address",color:"#2db6f5",class:"public-move-left btn-deviation",onClick:l=>(e=>{Cl.value.address=!0,gl.value=e})(e)},{default:q((()=>[$e])),_:2},1032,["onClick"])])])):y("",!0),"3"==e.status||"-1"==e.status?(d(),r(xl,{key:1,icon:"ad-see",color:"#FE6712",onClick:l=>zl(e)},{default:q((()=>[el])),_:2},1032,["onClick"])):y("",!0),"2"==e.status?(d(),r("div",ll,[u(xl,{icon:"ad-see",color:"#FE6712",onClick:l=>zl(e)},{default:q((()=>[al])),_:2},1032,["onClick"]),u(b,{size:"small",type:"primary",class:"btn-deviation",icon:"ad-confirm-receipt",onClick:l=>Vl(0,e)},{default:q((()=>[tl])),_:2},1032,["onClick"])])):y("",!0),"0"==e.status?(d(),r("div",ol,[u("div",sl,[u(xl,{icon:"ad-see",color:"#FE6712",onClick:l=>zl(e)},{default:q((()=>[dl])),_:2},1032,["onClick"]),u(xl,{class:"btn-deviation",icon:"ad-determine",color:"#2db6f5",onClick:l=>Vl(1,e)},{default:q((()=>[rl])),_:2},1032,["onClick"])]),u("div",ul,[u(b,{size:"small",type:"primary",icon:"ad-price-change",onClick:l=>(e=>{gl.value=e,Cl.value.priceChange=!0})(e)},{default:q((()=>[il])),_:2},1032,["onClick"]),u(xl,{icon:"ad-close",color:"#ff0000",class:"btn-deviation",onClick:l=>Sl(1,e)},{default:q((()=>[nl])),_:2},1032,["onClick"])])])):y("",!0)])),_:2},1024)])),_:2},1024)])))),128)):(d(),r(Ul,{key:1,class:"oe-m-t-30","image-size":200})),u(I,{show:Cl.value.logisticsData,"onUpdate:show":l[11]||(l[11]=e=>Cl.value.logisticsData=e),logisticsList:hl.value},null,8,["show","logisticsList"]),u(D,{show:Cl.value.remarksState,"onUpdate:show":l[12]||(l[12]=e=>Cl.value.remarksState=e),close:kl.value,currentItem:gl.value},null,8,["show","close","currentItem"]),u(E,{show:Cl.value.deliverGoods,"onUpdate:show":l[13]||(l[13]=e=>Cl.value.deliverGoods=e),currentItem:gl.value},null,8,["show","currentItem"]),u(G,{show:Cl.value.refundState,"onUpdate:show":l[14]||(l[14]=e=>Cl.value.refundState=e),currentItem:gl.value},null,8,["show","currentItem"]),u(P,{show:Cl.value.confirmReceipt,"onUpdate:show":l[15]||(l[15]=e=>Cl.value.confirmReceipt=e),determine:bl.value,currentItem:gl.value},null,8,["show","determine","currentItem"]),u(K,{show:Cl.value.priceChange,"onUpdate:show":l[16]||(l[16]=e=>Cl.value.priceChange=e),option:gl.value},null,8,["show","option"]),u(N,{show:Cl.value.journal,"onUpdate:show":l[17]||(l[17]=e=>Cl.value.journal=e),option:_l.value},null,8,["show","option"]),u(R,{show:Cl.value.address,"onUpdate:show":l[18]||(l[18]=e=>Cl.value.address=e),currentItem:gl.value},null,8,["show","currentItem"]),u(j,{show:Cl.value.export,"onUpdate:show":l[19]||(l[19]=e=>Cl.value.export=e),option:vl.value},null,8,["show","option"])])])),_:1}),u(C,{class:"oe-flex oe-row-between order-bottom"},{default:q((()=>[u(Fl,{onSizeChange:p(_),onCurrentChange:p(cl),class:"e-grid paging-box","page-sizes":p(g).pageSizes,"page-size":p(g).pageSize,background:"",layout:"total, prev, pager, next,sizes, jumper",total:p(g).total,"current-page":p(g).currentPage},null,8,["onSizeChange","onCurrentChange","page-sizes","page-size","total","current-page"])])),_:1})])),_:1})],64)}))}});cl.__scopeId="data-v-03796f1e";export default cl;
