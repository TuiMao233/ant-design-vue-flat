import{a as e,l as a,w as l,m as s,b as t,o as d,c,g as i,Z as o,u,F as m,P as r,X as n,t as _,s as x,k as p,p as f,h as g,d as v}from"./vendor.71e19cde.js";import{a as y,u as h,f as b,b3 as w,c as k,b4 as C,b5 as z,b6 as V}from"./index.a53c91c6.js";const S=p();f("data-v-24f14e60");const T={class:"oe-flex is-grid"},N=i("div",{class:"screen-text"},"模板名称",-1),F={class:"oe-flex is-grid"},P=i("div",{class:"screen-text"},"收费方式",-1),U={class:"oe-flex is-grid"},K=i("div",{class:"screen-text"},"新增时间",-1),j={class:"oe-flex is-grid"},D=n("搜索"),E=n("新增模板"),q={class:"order-list-box"},H={class:"oe-flex list-title"},I=n("模板名称"),X=n("收费方式"),Z=n("配送区域"),A=n("初发件(重量)/个（Kg）"),B=n("初发运费/元"),G=n("续发件（重量）/个（Kg）"),J=n("续发运费/元"),L=n("新增时间"),M=n("是否默认"),O=n(" 操作 "),Q=n(" 按件计费 "),R=n(" 按重量计费 "),W=n(" 全国统一收费 "),Y={class:"oe-flex"},$=n("编辑"),ee=n("复制"),ae=n("删除"),le={class:"delete-box"},se=i("div",{class:"oe-flex"},[i("i",{class:"el-icon-warning"}),i("div",{class:"card-header"},[i("div",{class:"card-header-title"},"提示"),i("div",{class:"card-header-text"},"您确定删除该配送模板么？")])],-1),te={class:"footer-right"},de=n("取消"),ce=n("确定");g();var ie=e({expose:[],setup(e){const{pagination:p,handleSizeChange:f,handleCurrentChange:g}=y(),ie=h(),oe=a({couponName:"",status:"",createTime:[]}),ue=a(!1),me=a([]),re=a(""),ne=()=>{oe.value.couponName="",oe.value.status="",oe.value.createTime=[],p.currentPage=1,pe()},_e=()=>{p.currentPage=1,pe()},xe=async()=>{await C({id:re.value}),k.success("操作成功"),ue.value=!1,pe()},pe=async()=>{const e=[];oe.value.createTime.length&&(e[0]=v(oe.value.createTime[0]).unix().toString(),e[1]=v(oe.value.createTime[1]).unix().toString());const{data:a}=await z({page:p.currentPage,limit:p.pageSize,dispatch_name:oe.value.couponName,calculate_type:oe.value.status,createtime:e});me.value=a.data.data,p.total=a.data.total,me.value.forEach((e=>{if(1==e.is_default?e.switch=!0:e.switch=!1,1==e.calculate_type){const a={start_num:e.start_num,start_num_price:e.start_num_price,add_num:e.add_num,add_num_price:e.add_num_price};e.dispatch_area.unshift(a)}else{const a={start_weight:e.start_weight,start_weight_price:e.start_weight_price,add_weight:e.add_weight,add_weight_price:e.add_weight_price};e.dispatch_area.unshift(a)}}))};return l([()=>p.currentPage,()=>p.pageSize],(()=>{pe()})),s((()=>pe())),S(((e,a)=>{const l=t("el-input"),s=t("el-col"),v=t("el-option"),y=t("el-select"),h=t("el-date-picker"),C=t("el-button"),z=t("el-row"),fe=t("el-card"),ge=t("el-switch"),ve=t("custom-button"),ye=t("el-empty"),he=t("el-pagination"),be=t("el-dialog");return d(),c(m,null,[i(fe,{shadow:"never",class:"logistics-scope"},{default:S((()=>[i(z,{gutter:24},{default:S((()=>[i(s,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:S((()=>[i("div",T,[N,i(l,{onKeyup:o(_e,["enter"]),class:"oe-flex-1",modelValue:oe.value.couponName,"onUpdate:modelValue":a[1]||(a[1]=e=>oe.value.couponName=e),placeholder:"请输入模板名称"},null,8,["onKeyup","modelValue"])])])),_:1}),i(s,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:S((()=>[i("div",F,[P,i(y,{modelValue:oe.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>oe.value.status=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:S((()=>[i(v,{label:"按件计费",value:"1"}),i(v,{label:"按重量计费",value:"0"})])),_:1},8,["modelValue"])])])),_:1}),i(s,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:S((()=>[i("div",U,[K,i(h,{class:"oe-flex-1",modelValue:oe.value.createTime,"onUpdate:modelValue":a[3]||(a[3]=e=>oe.value.createTime=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])])])),_:1}),i(s,{xl:{span:"4_8"},md:8,sm:12,class:"oe-flex"},{default:S((()=>[i("div",j,[i(C,{type:"primary",size:"small",onClick:_e},{default:S((()=>[D])),_:1}),i("div",{class:"reset-text",onClick:ne},"重置条件")])])),_:1})])),_:1})])),_:1}),i(fe,{shadow:"never",class:"refund-list custom-crad-container custom-card-page"},{default:S((()=>[i(C,{type:"primary",icon:"el-icon-plus",onClick:a[4]||(a[4]=e=>u(ie).push("/system/logisticsDistribution/newTemplate"))},{default:S((()=>[E])),_:1}),i(z,null,{default:S((()=>[i("div",q,[i("div",H,[i(z,{class:"list-title-right"},{default:S((()=>[i(s,{xl:3,md:3,sm:3,xs:3},{default:S((()=>[I])),_:1}),i(s,{xl:2,md:2,sm:2,xs:2},{default:S((()=>[X])),_:1}),i(s,{xl:12,md:12,sm:12,xs:12},{default:S((()=>[i(z,null,{default:S((()=>[i(s,{xl:10,md:10,sm:10,xs:10},{default:S((()=>[Z])),_:1}),i(s,{xl:4,md:4,sm:4,xs:4},{default:S((()=>[A])),_:1}),i(s,{xl:3,md:3,sm:3,xs:3},{default:S((()=>[B])),_:1}),i(s,{xl:4,md:4,sm:4,xs:4},{default:S((()=>[G])),_:1}),i(s,{xl:3,md:3,sm:3,xs:3},{default:S((()=>[J])),_:1})])),_:1})])),_:1}),i(s,{xl:2,md:2,sm:2,xs:2},{default:S((()=>[L])),_:1}),i(s,{xl:2,md:2,sm:2,xs:2},{default:S((()=>[M])),_:1}),i(s,{xl:3,md:3,sm:3,xs:3},{default:S((()=>[O])),_:1})])),_:1})]),me.value.length?(d(!0),c(m,{key:0},r(me.value,((e,a)=>(d(),c("div",{class:"list-box",key:Number(a)},[i(z,{class:"box-content"},{default:S((()=>[i(s,{xl:3,md:3,sm:3,xs:3,class:"oe-flex box-name"},{default:S((()=>[n(_(e.dispatch_name),1)])),_:2},1024),i(s,{xl:2,md:2,sm:2,xs:2,class:"frame"},{default:S((()=>[1==e.calculate_type?(d(),c(m,{key:0},[Q],64)):x("",!0),0==e.calculate_type?(d(),c(m,{key:1},[R],64)):x("",!0)])),_:2},1024),i(s,{xl:12,md:12,sm:12,xs:12},{default:S((()=>[(d(!0),c(m,null,r(e.dispatch_area,((a,l)=>(d(),c(m,{key:Number(l)},[a.provinces?(d(),c(z,{key:0,class:"loop-box"},{default:S((()=>[i(s,{class:"oe-flex frame commodity-box",xl:10,md:10,sm:10,xs:10},{default:S((()=>[n(_(a.text),1)])),_:2},1024),i(s,{xl:4,md:4,sm:4,xs:4,class:"frame commodity-box"},{default:S((()=>[n(_(a.first_num),1)])),_:2},1024),i(s,{class:"frame commodity-box",xl:3,md:3,sm:3,xs:3},{default:S((()=>[n(" ¥"+_(a.first_price),1)])),_:2},1024),i(s,{class:"state-box frame commodity-box",xl:4,md:4,sm:4,xs:4},{default:S((()=>[n(_(a.second_num),1)])),_:2},1024),i(s,{xl:3,md:3,sm:3,xs:3,class:"frame commodity-box"},{default:S((()=>[n(" ¥"+_(a.second_price),1)])),_:2},1024)])),_:2},1024)):(d(),c(z,{key:1,class:["loop-box",[e.dispatch_area.length<2?"singleHeight":""]]},{default:S((()=>[i(s,{class:"oe-flex frame commodity-box",xl:10,md:10,sm:10,xs:10},{default:S((()=>[W])),_:1}),i(s,{xl:4,md:4,sm:4,xs:4,class:"frame commodity-box"},{default:S((()=>[1==e.calculate_type?(d(),c(m,{key:0},[n(_(a.start_num),1)],64)):x("",!0),0==e.calculate_type?(d(),c(m,{key:1},[n(_(a.start_weight),1)],64)):x("",!0)])),_:2},1024),i(s,{class:"frame commodity-box",xl:3,md:3,sm:3,xs:3},{default:S((()=>[1==e.calculate_type?(d(),c(m,{key:0},[n(" ¥"+_(a.add_num_price),1)],64)):x("",!0),0==e.calculate_type?(d(),c(m,{key:1},[n(" ¥"+_(a.start_weight_price),1)],64)):x("",!0)])),_:2},1024),i(s,{class:"state-box frame commodity-box",xl:4,md:4,sm:4,xs:4},{default:S((()=>[1==e.calculate_type?(d(),c(m,{key:0},[n(_(a.add_num),1)],64)):x("",!0),0==e.calculate_type?(d(),c(m,{key:1},[n(_(a.add_weight),1)],64)):x("",!0)])),_:2},1024),i(s,{xl:3,md:3,sm:3,xs:3,class:"frame commodity-box"},{default:S((()=>[1==e.calculate_type?(d(),c(m,{key:0},[n(" ¥"+_(a.add_num_price),1)],64)):x("",!0),0==e.calculate_type?(d(),c(m,{key:1},[n(" ¥"+_(a.add_weight_price),1)],64)):x("",!0)])),_:2},1024)])),_:2},1032,["class"]))],64)))),128))])),_:2},1024),i(s,{xl:2,md:2,sm:2,xs:2,class:"frame"},{default:S((()=>[i("div",null,_(u(b)(e.createtime)),1)])),_:2},1024),i(s,{xl:2,md:2,sm:2,xs:2,class:"frame"},{default:S((()=>[i(ge,{modelValue:e.switch,"onUpdate:modelValue":a=>e.switch=a,onChange:a=>(async(e,a)=>{e&&(await w({id:a}),k.success("操作成功"),pe())})(a,e.id),disabled:e.switch},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])])),_:2},1024),i(s,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:S((()=>[i("div",null,[i("div",Y,[i(ve,{icon:"ad-view-order",color:"#FF9D28",onClick:a=>{return l=e.id,void ie.push({path:"/system/logisticsDistribution/newTemplate",query:{id:l}});var l}},{default:S((()=>[$])),_:2},1032,["onClick"]),i(ve,{icon:"ad-view-order",class:"public-move-left",color:"#FE6712",onClick:a=>(async e=>{await V({id:e}),k.success("操作成功"),pe()})(e.id)},{default:S((()=>[ee])),_:2},1032,["onClick"])]),i("div",null,[1!=e.is_default?(d(),c(ve,{key:0,style:{"margin-top":"14px"},icon:"ad-view-order",color:"#FF0000",onClick:a=>{return l=e.id,ue.value=!0,void(re.value=l);var l}},{default:S((()=>[ae])),_:2},1032,["onClick"])):x("",!0)])])])),_:2},1024)])),_:2},1024)])))),128)):(d(),c(ye,{key:1,class:"oe-m-t-30","image-size":200}))])])),_:1}),i(s,{lg:24,class:"paging-box"},{default:S((()=>[i(he,{class:"e-grid",onSizeChange:u(f),onCurrentChange:u(g),"page-sizes":u(p).pageSizes,"page-size":u(p).pageSize,background:"","current-page":u(p).currentPage,layout:"total, prev, pager, next,sizes, jumper",total:u(p).total},null,8,["onSizeChange","onCurrentChange","page-sizes","page-size","current-page","total"])])),_:1})])),_:1}),i("div",le,[i(be,{modelValue:ue.value,"onUpdate:modelValue":a[6]||(a[6]=e=>ue.value=e),width:"550px"},{title:S((()=>[se])),footer:S((()=>[i("div",te,[i(C,{size:"mini",onClick:a[5]||(a[5]=e=>ue.value=!1)},{default:S((()=>[de])),_:1}),i(C,{size:"mini",type:"primary",onClick:xe},{default:S((()=>[ce])),_:1})])])),_:1},8,["modelValue"])])],64)}))}});ie.__scopeId="data-v-24f14e60";export default ie;
