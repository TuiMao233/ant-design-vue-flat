import{a as e,l,w as a,m as t,S as s,b as o,o as d,c as i,g as r,Z as u,F as n,P as c,X as m,t as v,u as p,f,s as y,k as x,p as g,h as _,d as h}from"./vendor.71e19cde.js";import{u as k,j as b,a as C,az as w,z as S,f as V,ay as z}from"./index.a53c91c6.js";import{c as T,a as U,b as F}from"./order.28ff7f57.js";import{r as j}from"./member.c7d788b5.js";import{_ as N,a as I}from"./journal.vue_vue&type=script&setup=true&lang.e59fd4d4.js";import{_ as D}from"./logistics-data.45ba351c.js";import{_ as E,a as G,b as P,c as K,d as R,e as q}from"./consignee-information.df2fa79c.js";import"./reset-time.7778decd.js";const L=x();g("data-v-777b90e8");const M={class:"date-box e-grid oe-flex"},A=r("div",{class:"form-text"},"订单编号",-1),B={class:"date-box e-grid"},O={class:"date-box e-grid"},X=r("div",{class:"form-text"},"下单时间",-1),Z={class:"oe-flex e-grid"},H=r("div",{class:"form-text"},"维权状态",-1),J={class:"oe-flex e-grid"},Q=r("div",{class:"form-text"},"商品类型",-1),W={class:"oe-flex e-grid"},Y=r("div",{class:"form-text"},"支付方式",-1),$={class:"oe-flex e-grid"},ee=m("搜索"),le={class:"oe-flex oe-row-between box-title"},ae=r("span",{class:"title-all"},"待付款",-1),te={class:"title-text"},se=m("刷新"),oe=m(" （注：点击刷新后，将计算选中商品的实付金额，计算公式：所选商品实付金额*数量相加 ） "),de=m("导出"),ie={class:"order-list-box"},re={class:"oe-flex list-title"},ue=m(" 商品信息"),ne=m(" 数量/单价 "),ce=m(" 维权 "),me=m(" 订单状态 "),ve=m(" 配送方式 "),pe=m(" 实际付款 "),fe=m(" 收货人 "),ye=m(" 操作 "),xe={class:"oe-flex"},ge=r("span",null,"订单来源：",-1),_e={class:"oe-flex header-right"},he=m("日志"),ke=m("备注"),be={class:"oe-flex commodity-box oe-flex-8"},Ce={class:"commodity-right"},we={class:"commodity-right-text"},Se=m("虚拟"),Ve=m("卡密"),ze=m("实体"),Te=m("计时/次"),Ue=m("预约"),Fe=m("批发"),je={class:"quantity-price oe-flex-4 frame"},Ne={class:"list-bottom"},Ie={class:"oe-flex-4 frame"},De={key:0},Ee={key:1},Ge={key:2},Pe={class:"state-box oe-flex-4 frame"},Ke={key:0,class:"state-text"},Re={key:0,class:"state-text"},qe={key:1,class:"state-text"},Le={key:2},Me={key:3},Ae={class:"state-box oe-flex-4 frame"},Be={key:0},Oe={key:1},Xe={key:2},Ze={key:0},He=r("br",null,null,-1),Je={key:1},Qe=r("br",null,null,-1),We={key:0},Ye={class:"oe-flex oe-flex-wrap"},$e=m("查看 "),el=m("立即发货"),ll={style:{"margin-top":"14px"},class:"oe-flex oe-flex-wrap"},al=m("退款 "),tl=m("修改地址"),sl=m("查看 "),ol={key:2,class:"oe-flex oe-flex-wrap"},dl=m("查看 "),il=m(" 确定收货 "),rl={key:3},ul={class:"oe-flex oe-flex-wrap"},nl=m("查看 "),cl=m("确认付款"),ml={style:{"margin-top":"14px"},class:"oe-flex oe-flex-wrap"},vl=m("改价"),pl=m("关闭");_();var fl=e({expose:[],setup(e){const x=k();b();const{pagination:g,handleSizeChange:_,handleCurrentChange:fl}=C(),yl=l({orderSwitch:"订单编号",orderNumber:"",receivingType:"收货人姓名",consignee:"",timeType:"支付时间",time:"",merchantName:"",merchantTitle:"",safeguarding:"",commodityType:"",deliveryMode:"",payment:"",orderStatus:"",orderStore:"",region:"",orderType:""});l("");const xl=l(),gl=l([]),_l=l({orderSwitch:"订单编号",orderNumber:"",receivingType:"收货人姓名",consignee:"",timeType:"支付时间",time:"",merchantName:"",merchantTitle:"",safeguarding:"",commodityType:"",deliveryMode:"",payment:"",orderStatus:"",orderStore:"",region:"",orderType:""}),hl=l(0);l(!1);const kl=l([]),bl=async()=>{const e=["",""];yl.value.time&&(e[0]=h(yl.value.time[0]).unix().toString(),e[1]=h(yl.value.time[1]).unix().toString());const l={order_sn:yl.value.orderNumber,phone:"收货人手机号码"==yl.value.receivingType?yl.value.consignee:"",consignee:"收货人姓名"==yl.value.receivingType?yl.value.consignee:"",status:"0",pay_type:yl.value.payment,type:yl.value.commodityType,express_nos:"物流单号"==yl.value.orderSwitch?yl.value.orderNumber:"",page:g.currentPage,limit:g.pageSize,createtime:e};_l.value=l;const{data:a}=await T(l);0==a.code&&(gl.value=a.data.data,gl.value.forEach((e=>{e.select=!1})),g.total=a.data.total);for(let t=0;t<gl.value.length;t++){for(let e=0;e<Sl.value.length;e++)gl.value[t].platform==Sl.value[e].code&&(gl.value[t].img_url=Sl.value[e].img_url,gl.value[t].sourceName=Sl.value[e].name);for(let e=0;e<xl.value.length;e++)gl.value[t].pay_type==xl.value[e].key&&(gl.value[t].payTypeName=xl.value[e].name)}};w().then((e=>{xl.value=e.data.data}));const Cl=()=>{g.currentPage=1,bl()},wl=()=>{yl.value.orderSwitch="订单编号",yl.value.orderNumber="",yl.value.receivingType="收货人姓名",yl.value.consignee="",yl.value.timeType="支付时间",yl.value.time=0,yl.value.merchantName="",yl.value.merchantTitle="",yl.value.safeguarding="",yl.value.commodityType="",yl.value.deliveryMode="",yl.value.payment="",yl.value.orderStatus="",yl.value.orderStore="",yl.value.region="",yl.value.orderType="",g.currentPage=1,bl()},Sl=l([]),Vl=l({}),zl=l([]),Tl=l([]),Ul=l(0),Fl=l(0),jl=l({remarksState:!1,refundState:!1,confirmReceipt:!1,deliverGoods:!1,priceChange:!1,logisticsData:!1,journal:!1,address:!1,export:!1}),Nl=(e,l)=>{Vl.value=l,Ul.value=e,jl.value.remarksState=!0},Il=(e,l)=>{Vl.value=l,Fl.value=e,jl.value.confirmReceipt=!0},Dl=e=>{x.push({path:"/order/management/orderDetails",query:{id:e.id}})};j({page:1,limit:100}).then((e=>{Sl.value=e.data.data.data}));const{isSelectAll:El,selectIds:Gl,selectItems:Pl}=S(gl);a(El,(()=>{kl.value=Pl.value})),a(Pl,(()=>{kl.value=Pl.value}));const Kl=()=>{hl.value=0,kl.value.forEach((e=>{hl.value+=Number(e.goods_amount)}))};return a([()=>g.currentPage,()=>g.pageSize],(()=>{bl()})),t((()=>{bl()})),s("resetOrderList",bl),L(((e,l)=>{const a=o("el-input"),t=o("el-col"),s=o("el-option"),h=o("el-select"),k=o("el-date-picker"),b=o("el-button"),C=o("el-row"),w=o("el-card"),S=o("el-checkbox"),T=o("el-image"),j=o("el-tag"),kl=o("custom-button"),bl=o("el-empty"),Sl=o("el-pagination");return d(),i(n,null,[r(w,{shadow:"never",class:"order-head"},{default:L((()=>[r(C,{gutter:20},{default:L((()=>[r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:L((()=>[r("div",M,[A,r(a,{onKeyup:u(Cl,["enter"]),placeholder:"请输入",class:"oe-flex-1",modelValue:yl.value.orderNumber,"onUpdate:modelValue":l[1]||(l[1]=e=>yl.value.orderNumber=e)},null,8,["onKeyup","modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:L((()=>[r("div",B,[r(h,{modelValue:yl.value.receivingType,"onUpdate:modelValue":l[2]||(l[2]=e=>yl.value.receivingType=e),placeholder:"请选择",class:"selectFrom",clearable:""},{default:L((()=>[r(s,{label:"收货人姓名",value:"收货人姓名"}),r(s,{label:"收货人手机号码",value:"收货人手机号码"})])),_:1},8,["modelValue"]),r(a,{onKeyup:u(Cl,["enter"]),placeholder:"请输入",modelValue:yl.value.consignee,"onUpdate:modelValue":l[3]||(l[3]=e=>yl.value.consignee=e)},null,8,["onKeyup","modelValue"])])])),_:1}),r(t,{xl:{span:"9_6"},md:8,sm:12,xs:12},{default:L((()=>[r("div",O,[X,r(k,{modelValue:yl.value.time,"onUpdate:modelValue":l[4]||(l[4]=e=>yl.value.time=e),"value-format":"timestamp",type:"datetimerange",class:"oe-flex-1","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:L((()=>[r("div",Z,[H,r(h,{modelValue:yl.value.safeguarding,"onUpdate:modelValue":l[5]||(l[5]=e=>yl.value.safeguarding=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:L((()=>[r(s,{label:"全部",value:"全部"}),r(s,{label:"未维权",value:"未维权"}),r(s,{label:"维权中",value:"维权中"}),r(s,{label:"维权完后",value:"维权完后"})])),_:1},8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:L((()=>[r("div",J,[Q,r(h,{modelValue:yl.value.commodityType,"onUpdate:modelValue":l[6]||(l[6]=e=>yl.value.commodityType=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:L((()=>[r(s,{label:"全部",value:" "}),r(s,{label:"实体商品",value:"1"}),r(s,{label:"虚拟商品",value:"2"})])),_:1},8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:L((()=>[r("div",W,[Y,r(h,{modelValue:yl.value.payment,"onUpdate:modelValue":l[7]||(l[7]=e=>yl.value.payment=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:L((()=>[(d(!0),i(n,null,c(xl.value,(e=>(d(),i(s,{label:e.name,value:e.key,key:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:L((()=>[r("div",$,[r(b,{type:"primary",onClick:Cl},{default:L((()=>[ee])),_:1}),r("div",{onClick:wl,class:"reset-text"},"重置条件")])])),_:1})])),_:1})])),_:1}),r(w,{shadow:"never",class:"order-box custom-crad-container custom-card-page"},{default:L((()=>[r(C,{gutter:24},{default:L((()=>[r(t,{lg:24},{default:L((()=>[r("div",le,[r("div",null,[ae,r("span",te,[m("总订单数："+v(p(g).total)+" 实付金额统计："+v(hl.value.toFixed(2))+"元 ",1),r(b,{type:"text",onClick:Kl},{default:L((()=>[se])),_:1}),oe])]),r(b,{type:"primary",class:"export-btn",onClick:l[8]||(l[8]=e=>jl.value.export=!0)},{default:L((()=>[de])),_:1})])])),_:1}),r("div",ie,[r("div",re,[r(S,{modelValue:p(El),"onUpdate:modelValue":l[9]||(l[9]=e=>f(El)?El.value=e:null),class:"selection-all"},null,8,["modelValue"]),r(C,{class:"list-title-right"},{default:L((()=>[r(t,{xl:15,md:15,sm:15,xs:15},{default:L((()=>[r(C,null,{default:L((()=>[r(t,{xl:8,md:8,sm:8,xs:8},{default:L((()=>[ue])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:L((()=>[ne])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:L((()=>[ce])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:L((()=>[me])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:L((()=>[ve])),_:1})])),_:1})])),_:1}),r(t,{xl:3,md:3,sm:3,xs:3},{default:L((()=>[pe])),_:1}),r(t,{xl:3,md:3,sm:3,xs:3},{default:L((()=>[fe])),_:1}),r(t,{xl:3,md:3,sm:3,xs:3},{default:L((()=>[ye])),_:1})])),_:1})]),gl.value.length?(d(!0),i(n,{key:0},c(gl.value,((e,l)=>(d(),i("div",{class:"list-box",key:l},[r(C,{class:"list-header oe-flex"},{default:L((()=>[r(t,{xl:9,lg:15,md:15,sm:15,xs:15},{default:L((()=>[r("div",xe,[r(S,{modelValue:e.select,"onUpdate:modelValue":l=>e.select=l,class:"selection-single"},null,8,["modelValue","onUpdate:modelValue"]),m(" 订单编号："+v(e.order_sn),1),r("span",{class:"is-color copy-tetx",onClick:l=>(e=>{const l=document.createElement("input");document.body.appendChild(l),l.setAttribute("value",e),l.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(l),z({title:"成功",message:"复制成功",type:"success",duration:2e3})})(e.order_sn)}," 复制 ",8,["onClick"]),ge,r(T,{src:e.img_url,alt:""},null,8,["src"])])])),_:2},1024),r(t,{xl:10,lg:5,md:5,sm:5,xs:5},{default:L((()=>[r("div",null,"下单时间："+v(p(V)(e.createtime)),1)])),_:2},1024),r(t,{xl:5,lg:4,md:4,sm:4,xs:4,class:"header-right-box"},{default:L((()=>[r("div",_e,[r(b,{type:"text",onClick:l=>(async e=>{const{data:l}=await U({order_id:e.id});zl.value=l.data.data,jl.value.journal=!0})(e)},{default:L((()=>[he])),_:2},1032,["onClick"]),r(b,{type:"text",class:"is-left",onClick:l=>Nl(0,e)},{default:L((()=>[ke])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),r(C,{class:"box-content"},{default:L((()=>[r(t,{xl:15,md:15,sm:15,xs:15,class:"layer-content"},{default:L((()=>[(d(!0),i(n,null,c(e.orderGoods,((l,a)=>(d(),i("div",{key:Number(a),class:["loop-box",1==e.orderGoods.length?"completely":""]},[r("div",be,[r(T,{src:l.goods_image,fit:"cover",class:"order-information-img"},null,8,["src"]),r("div",Ce,[r("div",we,v(l.goods_title),1),"2"==e.type?(d(),i(j,{key:0,size:"mini",color:"#D4EBFF",style:{color:"#55adff"}},{default:L((()=>[Se])),_:1})):y("",!0),"3"==e.type?(d(),i(j,{key:1,size:"mini",color:"#FBDDD1",style:{color:"#ec672e"}},{default:L((()=>[Ve])),_:1})):y("",!0),"1"==e.type?(d(),i(j,{key:2,size:"mini",color:"#E4FFF8",style:{color:"#1ad370"}},{default:L((()=>[ze])),_:1})):y("",!0),"4"==e.type?(d(),i(j,{key:3,size:"mini",color:"#F4DFD3",style:{color:"#ef864c"}},{default:L((()=>[Te])),_:1})):y("",!0),"5"==e.type?(d(),i(j,{key:4,size:"mini",color:"#F8E8CF",style:{color:"#dd8a0d"}},{default:L((()=>[Ue])),_:1})):y("",!0),"6"==e.type?(d(),i(j,{key:5,size:"mini",color:"#E9D4F9",style:{color:"#8f29df"}},{default:L((()=>[Fe])),_:1})):y("",!0)])]),r("div",je,[r("div",null,[r("div",null,"¥"+v(l.goods_original_price),1),r("div",Ne,"x"+v(l.goods_num),1)])]),r("div",Ie,[r("div",null,["1"==l.after_sale_status?(d(),i("div",De,"维权中")):y("",!0),"0"==l.after_sale_status?(d(),i("div",Ee,"-")):y("",!0),"2"==l.after_sale_status?(d(),i("div",Ge,"维权完成")):y("",!0),"0"!=l.after_sale_status?(d(),i("div",{key:3,onClick:a=>{return t=e,s=l.id,void x.push({path:"/order/management/protection-details",query:{id:t.id,orderId:s}});var t,s},class:"is-color touch-text list-bottom"}," 维权详情 ",8,["onClick"])):y("",!0)])]),r("div",Pe,["0"==e.status?(d(),i("div",Ke,"等待付款")):y("",!0),"0"!=e.status?(d(),i(n,{key:1},["1"==l.dispatch_status?(d(),i("div",Re,"等待发货")):y("",!0),"2"==l.dispatch_status?(d(),i("div",qe,"等待收货")):y("",!0),"-1"==l.dispatch_status?(d(),i("div",Le,"已关闭")):y("",!0),"3"==l.dispatch_status?(d(),i("div",Me,"已完成")):y("",!0)],64)):y("",!0)]),r("div",Ae,[r("div",null,["1"==e.delivery_type?(d(),i("div",Be,"快递")):y("",!0),"3"==e.delivery_type?(d(),i("div",Oe,"自提")):y("",!0),"2"==e.delivery_type?(d(),i("div",Xe,"同城配送")):y("",!0),l.express_no?(d(),i("div",{key:3,class:"is-color list-bottom touch-text",onClick:e=>(async(e,l)=>{const{data:a}=await F({send_express_company_code:e,send_express_sn:l});Tl.value=a.data,jl.value.logisticsData=!0})(l.express_code,l.express_no)},"物流信息 ",8,["onClick"])):y("",!0)])])],2)))),128))])),_:2},1024),r(t,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:L((()=>[0!=e.status?(d(),i("div",Ze,[r("div",null,"¥"+v(e.pay_fee),1),He,r("div",null,v(e.payTypeName),1)])):(d(),i("div",Je,"-"))])),_:2},1024),r(t,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:L((()=>[r("div",null,[r("div",null,v(e.consignee),1),Qe,r("div",null,v(e.phone),1)])])),_:2},1024),r(t,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:L((()=>["1"==e.status?(d(),i("div",We,[r("div",Ye,[r(kl,{icon:"ad-see",color:"#FE6712",onClick:l=>Dl(e)},{default:L((()=>[$e])),_:2},1032,["onClick"]),r(b,{size:"small",type:"primary",icon:"ad-immediately",class:"btn-deviation",onClick:l=>(e=>{Vl.value=e,jl.value.deliverGoods=!0})(e)},{default:L((()=>[el])),_:2},1032,["onClick"])]),r("div",ll,[r(kl,{icon:"ad-refund",color:"#ff0000",onClick:l=>(e=>{Vl.value=e,jl.value.refundState=!0})(e)},{default:L((()=>[al])),_:2},1032,["onClick"]),r(kl,{icon:"ad-change-address",color:"#2db6f5",class:"public-move-left btn-deviation",onClick:l=>(e=>{jl.value.address=!0,Vl.value=e})(e)},{default:L((()=>[tl])),_:2},1032,["onClick"])])])):y("",!0),"3"==e.status||"-1"==e.status?(d(),i(kl,{key:1,icon:"ad-see",color:"#FE6712",onClick:l=>Dl(e)},{default:L((()=>[sl])),_:2},1032,["onClick"])):y("",!0),"2"==e.status?(d(),i("div",ol,[r(kl,{icon:"ad-see",color:"#FE6712",onClick:l=>Dl(e)},{default:L((()=>[dl])),_:2},1032,["onClick"]),r(b,{size:"small",type:"primary",class:"btn-deviation",icon:"ad-confirm-receipt",onClick:l=>Il(0,e)},{default:L((()=>[il])),_:2},1032,["onClick"])])):y("",!0),"0"==e.status?(d(),i("div",rl,[r("div",ul,[r(kl,{icon:"ad-see",color:"#FE6712",onClick:l=>Dl(e)},{default:L((()=>[nl])),_:2},1032,["onClick"]),r(kl,{class:"btn-deviation",icon:"ad-determine",color:"#2db6f5",onClick:l=>Il(1,e)},{default:L((()=>[cl])),_:2},1032,["onClick"])]),r("div",ml,[r(b,{size:"small",type:"primary",icon:"ad-price-change",onClick:l=>(e=>{Vl.value=e,jl.value.priceChange=!0})(e)},{default:L((()=>[vl])),_:2},1032,["onClick"]),r(kl,{icon:"ad-close",color:"#ff0000",class:"btn-deviation",onClick:l=>Nl(1,e)},{default:L((()=>[pl])),_:2},1032,["onClick"])])])):y("",!0)])),_:2},1024)])),_:2},1024)])))),128)):(d(),i(bl,{key:1,class:"oe-m-t-30","image-size":200})),r(D,{show:jl.value.logisticsData,"onUpdate:show":l[10]||(l[10]=e=>jl.value.logisticsData=e),logisticsList:Tl.value},null,8,["show","logisticsList"]),r(E,{show:jl.value.remarksState,"onUpdate:show":l[11]||(l[11]=e=>jl.value.remarksState=e),close:Ul.value,currentItem:Vl.value},null,8,["show","close","currentItem"]),r(G,{show:jl.value.deliverGoods,"onUpdate:show":l[12]||(l[12]=e=>jl.value.deliverGoods=e),currentItem:Vl.value},null,8,["show","currentItem"]),r(P,{show:jl.value.refundState,"onUpdate:show":l[13]||(l[13]=e=>jl.value.refundState=e),currentItem:Vl.value},null,8,["show","currentItem"]),r(K,{show:jl.value.confirmReceipt,"onUpdate:show":l[14]||(l[14]=e=>jl.value.confirmReceipt=e),determine:Fl.value,currentItem:Vl.value},null,8,["show","determine","currentItem"]),r(R,{show:jl.value.priceChange,"onUpdate:show":l[15]||(l[15]=e=>jl.value.priceChange=e),option:Vl.value},null,8,["show","option"]),r(N,{show:jl.value.journal,"onUpdate:show":l[16]||(l[16]=e=>jl.value.journal=e),option:zl.value},null,8,["show","option"]),r(q,{show:jl.value.address,"onUpdate:show":l[17]||(l[17]=e=>jl.value.address=e),currentItem:Vl.value},null,8,["show","currentItem"]),r(I,{show:jl.value.export,"onUpdate:show":l[18]||(l[18]=e=>jl.value.export=e),option:_l.value},null,8,["show","option"])])])),_:1}),r(Sl,{onSizeChange:p(_),onCurrentChange:p(fl),class:"e-grid paging-box","page-sizes":p(g).pageSizes,"page-size":p(g).pageSize,background:"",layout:"total, prev, pager, next,sizes, jumper",total:p(g).total,"current-page":p(g).currentPage},null,8,["onSizeChange","onCurrentChange","page-sizes","page-size","total","current-page"])])),_:1})],64)}))}});fl.__scopeId="data-v-777b90e8";export default fl;
