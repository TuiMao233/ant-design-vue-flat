import{c as e,d as l}from"./finance.2ba7f690.js";import{a as s,l as t,e as a,w as i,b as o,o as v,c as u,g as d,t as c,F as n,s as r,u as x,f as m,k as f,p as y,X as p,h as _}from"./vendor.71e19cde.js";const b=f();y("data-v-9cffc51c");const w={class:"oe-flex oe-flex-row statistical-text"},k={class:"oe-flex oe-row-between statistical-title"},g={class:"statistical-left oe-flex"},h={class:"left-box"},$={class:"amount-text"},q=d("div",{class:"left-text"},"店铺营收总金额/元",-1),C={class:"amount-text"},I=d("div",{class:"left-text"},"本期期初所有会员累计余额总数",-1),j={class:"amount-text"},A=d("div",{class:"left-text"},"本期期初所有会员累计积分总数",-1),S={key:0,class:"horizontal"},U={key:1,class:"left-box"},V={class:"amount-text"},B=d("div",{class:"left-text"},"本期期初所有会员累计余额总数",-1),L={class:"amount-text"},R=d("div",{class:"left-text"},"本期期末所有会员累计积分总数",-1),z={class:"statistical-right"},E={class:"statistical-text"},F={class:"statistical-text up-text"},O={class:"statistical-box oe-flex"},X={class:"revenue-public"},D={class:"income-text"},G={key:0,class:"revenue-public-text"},H={key:1,class:"revenue-public-text"},J={key:2,class:"revenue-list-box"},K={class:"oe-flex revenue-list"},M=d("div",{class:"oe-flex-2"},"会员充值",-1),N={class:"num-text oe-flex-1"},P={class:"oe-flex-1"},Q={class:"oe-flex revenue-list"},T=d("div",{class:"oe-flex-2"},"余额调整（后台增加）",-1),W={class:"num-text oe-flex-1"},Y={class:"oe-flex-1"},Z={class:"oe-flex revenue-list"},ee=d("div",{class:"oe-flex-2"},"商品购买",-1),le={class:"num-text oe-flex-1"},se={class:"oe-flex-1"},te={key:3,class:"revenue-list-box"},ae={class:"oe-flex revenue-list"},ie=d("div",{class:"oe-flex-2"},"余额调整（后台增加）",-1),oe={class:"num-text oe-flex-1"},ve={class:"oe-flex-1"},ue={class:"oe-flex revenue-list"},de=d("div",{class:"oe-flex-2"},"会员充值",-1),ce={class:"num-text oe-flex-1"},ne={class:"oe-flex-1"},re={key:4,class:"revenue-list-box"},xe={class:"oe-flex revenue-list oe-row-between"},me=d("div",null,"签到奖励",-1),fe={class:"oe-flex revenue-list oe-row-between"},ye=d("div",null,"消费奖励",-1),pe={class:"oe-flex revenue-list oe-row-between"},_e=d("div",null,"充值奖励",-1),be={class:"revenue-public"},we={class:"expenditure-text"},ke={key:0,class:"revenue-public-text"},ge={key:1,class:"revenue-public-text"},he={key:2,class:"revenue-list-box"},$e={class:"oe-flex revenue-list"},qe=d("div",{class:"oe-flex-2"},"会员余额提现",-1),Ce={class:"num-text oe-flex-1"},Ie={class:"oe-flex-1"},je={class:"oe-flex revenue-list"},Ae=d("div",{class:"oe-flex-2"},"余额调整（后台减少）",-1),Se={class:"num-text oe-flex-1"},Ue={class:"oe-flex-1"},Ve={key:3,class:"revenue-list-box"},Be={class:"oe-flex revenue-list"},Le=d("div",{class:"oe-flex-2"},"订单支付",-1),Re={class:"num-text oe-flex-1"},ze={class:"oe-flex-1"},Ee={class:"oe-flex revenue-list"},Fe=d("div",{class:"oe-flex-2"},"余额调整（后台减少）",-1),Oe={class:"num-text oe-flex-1"},Xe={class:"oe-flex-1"},De={class:"oe-flex revenue-list"},Ge=d("div",{class:"oe-flex-2"},"会员提现",-1),He={class:"num-text oe-flex-1"},Je={class:"oe-flex-1"},Ke={key:4,class:"revenue-list-box"},Me={class:"dialog-footer"},Ne=p("取消"),Pe=p("导出报表");_();var Qe=s({expose:[],props:{show:{type:Boolean,required:!0},currentId:{type:String,required:!0},type:{type:String,required:!0},date_type:{type:String,required:!0}},setup(s,{emit:f}){const y=s,p=t(""),_=t({}),Qe=a({get:()=>y.show,set:()=>f("update:show")}),Te=async()=>{const{data:l}=await e({id:y.currentId,type:y.type,date_type:y.date_type}),s=new Blob([l]),t=window.URL.createObjectURL(s),a=document.createElement("a");a.style.display="none",a.href=t,"revenue"==y.type?a.setAttribute("download","营收报表.xlsx"):"money"==y.type?a.setAttribute("download","余额报表.xlsx"):a.setAttribute("download","积分报表.xlsx"),document.body.appendChild(a),a.click(),Qe.value=!1};return i(y,(()=>{y.show&&y.type&&(async()=>{const{data:e}=await l({id:y.currentId,type:y.type,date_type:y.date_type});_.value=e.data,p.value=`${_.value.year}年${_.value.month}月${_.value.day?`${_.value.day}日`:""}${"revenue"==y.type?"营收对账单":"money"==y.type?"余额统计表":"积分统计表"}`})()})),b(((e,l)=>{const t=o("el-button"),a=o("el-dialog");return v(),u(a,{title:p.value,modelValue:x(Qe),"onUpdate:modelValue":l[2]||(l[2]=e=>m(Qe)?Qe.value=e:null),width:"1020px",center:!0,customClass:"statistical-modality"},{footer:b((()=>[d("span",Me,[d(t,{onClick:l[1]||(l[1]=e=>Qe.value=!1)},{default:b((()=>[Ne])),_:1}),d(t,{type:"primary",onClick:Te},{default:b((()=>[Pe])),_:1})])])),default:b((()=>[d("div",w,"店铺名称："+c(_.value.shop_name),1),d("div",k,[d("div",g,[d("div",h,["revenue"==s.type?(v(),u(n,{key:0},[d("div",$,c(_.value.revenue_sum),1),q],64)):r("",!0),"money"==s.type?(v(),u(n,{key:1},[d("div",C,c(_.value.sum_total_recharge_money),1),I],64)):r("",!0),"score"==s.type?(v(),u(n,{key:2},[d("div",j,c(_.value.sum_total_score),1),A],64)):r("",!0)]),"revenue"!=s.type?(v(),u("div",S)):r("",!0),"revenue"!=s.type?(v(),u("div",U,["money"==s.type?(v(),u(n,{key:0},[d("div",V,c(_.value.sum_money),1),B],64)):r("",!0),"score"==s.type?(v(),u(n,{key:1},[d("div",L,c(_.value.sum_score),1),R],64)):r("",!0)])):r("",!0)]),d("div",z,[d("div",E," 账单周期："+c(_.value.begin_time_text)+" 至 "+c(_.value.end_time_text),1),d("div",F,"生成时间："+c(_.value.createtime),1)])]),d("div",O,[d("div",X,[d("div",D,c(_.value.income),1),"score"!=s.type?(v(),u("div",G,"收入合计/元")):(v(),u("div",H,"新增积分")),"revenue"==s.type?(v(),u("div",J,[d("div",K,[M,d("div",N,c(_.value.user_number)+"单",1),d("div",P,c(_.value.user_income),1)]),d("div",Q,[T,d("div",W,c(_.value.admin_number)+"单",1),d("div",Y,c(_.value.admin_income),1)]),d("div",Z,[ee,d("div",le,c(_.value.order_number)+"单",1),d("div",se,c(_.value.order_income),1)])])):r("",!0),"money"==s.type?(v(),u("div",te,[d("div",ae,[ie,d("div",oe,c(_.value.admin_number)+"单",1),d("div",ve,c(_.value.admin_income),1)]),d("div",ue,[de,d("div",ce,c(_.value.user_number)+"单",1),d("div",ne,c(_.value.user_income),1)])])):r("",!0),"score"==s.type?(v(),u("div",re,[d("div",xe,[me,d("div",null,c(_.value.sign_award),1)]),d("div",fe,[ye,d("div",null,c(_.value.consume_award),1)]),d("div",pe,[_e,d("div",null,c(_.value.top_up_award),1)])])):r("",!0)]),d("div",be,[d("div",we,c(_.value.outgo),1),"score"!=s.type?(v(),u("div",ke,"支出合计/元")):(v(),u("div",ge,"消耗积分")),"revenue"==s.type?(v(),u("div",he,[d("div",$e,[qe,d("div",Ce,c(_.value.user_real_number)+"单",1),d("div",Ie,c(_.value.user_real_outgo),1)]),d("div",je,[Ae,d("div",Se,c(_.value.admin_real_number)+"单",1),d("div",Ue,c(_.value.admin_real_outgo),1)])])):r("",!0),"money"==s.type?(v(),u("div",Ve,[d("div",Be,[Le,d("div",Re,c(_.value.order_balance_number)+"单",1),d("div",ze,c(_.value.order_balance_outgo),1)]),d("div",Ee,[Fe,d("div",Oe,c(_.value.admin_real_number)+"单",1),d("div",Xe,c(_.value.admin_real_outgo),1)]),d("div",De,[Ge,d("div",He,c(_.value.user_real_number)+"单",1),d("div",Je,c(_.value.user_real_outgo),1)])])):r("",!0),"score"==s.type?(v(),u("div",Ke)):r("",!0)])])])),_:1},8,["title","modelValue"])}))}});Qe.__scopeId="data-v-9cffc51c";export{Qe as _};
