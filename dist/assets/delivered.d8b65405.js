import{a as e,l,w as a,m as t,S as s,b as o,o as d,c as i,g as r,Z as u,F as n,P as c,X as m,t as v,u as p,f,s as y,k as x,p as g,h as _,d as h}from"./vendor.71e19cde.js";import{u as k,a as b,az as C,z as w,f as S,ay as V}from"./index.a53c91c6.js";import{c as z,a as T,b as U}from"./order.28ff7f57.js";import{r as F}from"./member.c7d788b5.js";import{_ as N,a as j}from"./journal.vue_vue&type=script&setup=true&lang.e59fd4d4.js";import{_ as I}from"./logistics-data.45ba351c.js";import{_ as D,a as E,b as G,c as P,d as K,e as R}from"./consignee-information.df2fa79c.js";import"./reset-time.7778decd.js";const q=x();g("data-v-85a5d318");const L={class:"date-box e-grid oe-flex"},M=r("div",{class:"form-text"},"订单编号",-1),A={class:"date-box e-grid"},B={class:"date-box e-grid"},O=r("div",{class:"form-text"},"下单时间",-1),X={class:"oe-flex e-grid"},Z=r("div",{class:"form-text"},"维权状态",-1),H={class:"oe-flex e-grid"},J=r("div",{class:"form-text"},"商品类型",-1),Q={class:"oe-flex e-grid"},W=r("div",{class:"form-text"},"支付方式",-1),Y={class:"oe-flex e-grid"},$=m("搜索"),ee={class:"oe-flex oe-row-between box-title"},le=r("span",{class:"title-all"},"待发货",-1),ae={class:"title-text"},te=m("刷新"),se=m(" （注：点击刷新后，将计算选中商品的实付金额，计算公式：所选商品实付金额*数量相加 ） "),oe=m("导出"),de={class:"order-list-box"},ie={class:"oe-flex list-title"},re=m(" 商品信息"),ue=m(" 数量/单价 "),ne=m(" 维权 "),ce=m(" 订单状态 "),me=m(" 配送方式 "),ve=m(" 实际付款 "),pe=m(" 收货人 "),fe=m(" 操作 "),ye={class:"oe-flex"},xe=r("span",null,"订单来源：",-1),ge={class:"oe-flex header-right"},_e=m("日志"),he=m("备注"),ke={class:"oe-flex commodity-box oe-flex-8"},be={class:"commodity-right"},Ce={class:"commodity-right-text"},we=m("虚拟"),Se=m("卡密"),Ve=m("实体"),ze=m("计时/次"),Te=m("预约"),Ue=m("批发"),Fe={class:"quantity-price oe-flex-4 frame"},Ne={class:"list-bottom"},je={class:"oe-flex-4 frame"},Ie={key:0},De={key:1},Ee={key:2},Ge={class:"state-box oe-flex-4 frame"},Pe={key:0,class:"state-text"},Ke={key:0,class:"state-text"},Re={key:1,class:"state-text"},qe={key:2},Le={key:3},Me={class:"state-box oe-flex-4 frame"},Ae={key:0},Be={key:1},Oe={key:2},Xe=r("br",null,null,-1),Ze=r("br",null,null,-1),He={key:0},Je={class:"oe-flex oe-flex-wrap"},Qe=m("查看 "),We=m("立即发货"),Ye={style:{"margin-top":"14px"},class:"oe-flex oe-flex-wrap"},$e=m("退款 "),el=m("修改地址"),ll=m("查看 "),al={key:2,class:"oe-flex oe-flex-wrap"},tl=m("查看 "),sl=m(" 确定收货 "),ol={key:3},dl={class:"oe-flex oe-flex-wrap"},il=m("查看 "),rl=m("确认付款"),ul={style:{"margin-top":"14px"},class:"oe-flex oe-flex-wrap"},nl=m("改价"),cl=m("关闭");_();var ml=e({expose:[],setup(e){const x=k(),{pagination:g,handleSizeChange:_,handleCurrentChange:ml}=b(),vl=l({orderSwitch:"订单编号",orderNumber:"",receivingType:"收货人姓名",consignee:"",timeType:"支付时间",time:"",merchantName:"",merchantTitle:"",safeguarding:"",commodityType:"",deliveryMode:"",payment:"",orderStatus:"",orderStore:"",region:"",orderType:""}),pl=l({orderSwitch:"订单编号",orderNumber:"",receivingType:"收货人姓名",consignee:"",timeType:"支付时间",time:"",merchantName:"",merchantTitle:"",safeguarding:"",commodityType:"",deliveryMode:"",payment:"",orderStatus:"",orderStore:"",region:"",orderType:""}),fl=l(0),yl=l([]),xl=l([]),gl=async()=>{const e=["",""];vl.value.time&&(e[0]=h(vl.value.time[0]).unix().toString(),e[1]=h(vl.value.time[1]).unix().toString());const l={order_sn:vl.value.orderNumber,phone:"收货人手机号码"==vl.value.receivingType?vl.value.consignee:"",consignee:"收货人姓名"==vl.value.receivingType?vl.value.consignee:"",status:"1",pay_type:vl.value.payment,type:vl.value.commodityType,express_nos:"物流单号"==vl.value.orderSwitch?vl.value.orderNumber:"",page:g.currentPage,limit:g.pageSize,createtime:e};pl.value=l;const{data:a}=await z(l);0==a.code&&(xl.value=a.data.data,xl.value.forEach((e=>{e.select=!1})),g.total=a.data.total);for(let t=0;t<xl.value.length;t++){for(let e=0;e<hl.value.length;e++)xl.value[t].platform==hl.value[e].code&&(xl.value[t].img_url=hl.value[e].img_url,xl.value[t].sourceName=hl.value[e].name);for(let e=0;e<yl.value.length;e++)xl.value[t].pay_type==yl.value[e].key&&(xl.value[t].payTypeName=yl.value[e].name)}};C().then((e=>{yl.value=e.data.data}));const _l=()=>{g.currentPage=1,gl()},hl=l([]),kl=l({}),bl=l([]),Cl=l([]),wl=l(0),Sl=l(0),Vl=l({remarksState:!1,refundState:!1,confirmReceipt:!1,deliverGoods:!1,priceChange:!1,logisticsData:!1,journal:!1,address:!1,export:!1}),zl=(e,l)=>{kl.value=l,wl.value=e,Vl.value.remarksState=!0},Tl=(e,l)=>{kl.value=l,Sl.value=e,Vl.value.confirmReceipt=!0},Ul=e=>{x.push({path:"/order/management/orderDetails",query:{id:e.id}})};F({page:1,limit:100}).then((e=>{hl.value=e.data.data.data}));const Fl=l([]);l(!1);const{isSelectAll:Nl,selectIds:jl,selectItems:Il}=w(xl);a(Nl,(()=>{Fl.value=Il.value})),a(Il,(()=>{Fl.value=Il.value}));const Dl=()=>{fl.value=0,Fl.value.forEach((e=>{fl.value+=Number(e.goods_amount)}))},El=()=>{vl.value.orderSwitch="订单编号",vl.value.orderNumber="",vl.value.receivingType="收货人姓名",vl.value.consignee="",vl.value.timeType="支付时间",vl.value.time=0,vl.value.merchantName="",vl.value.merchantTitle="",vl.value.safeguarding="",vl.value.commodityType="",vl.value.deliveryMode="",vl.value.payment="",vl.value.orderStatus="",vl.value.orderStore="",vl.value.region="",vl.value.orderType="",g.currentPage=1,gl()};return a([()=>g.currentPage,()=>g.pageSize],(()=>{gl()})),t((()=>gl())),s("resetOrderList",gl),q(((e,l)=>{const a=o("el-input"),t=o("el-col"),s=o("el-option"),h=o("el-select"),k=o("el-date-picker"),b=o("el-button"),C=o("el-row"),w=o("el-card"),z=o("el-checkbox"),F=o("el-image"),gl=o("el-tag"),hl=o("custom-button"),Fl=o("el-empty"),jl=o("el-pagination");return d(),i(n,null,[r(w,{shadow:"never",class:"order-head"},{default:q((()=>[r(C,{gutter:20},{default:q((()=>[r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[r("div",L,[M,r(a,{onKeyup:u(_l,["enter"]),placeholder:"请输入",class:"oe-flex-1",modelValue:vl.value.orderNumber,"onUpdate:modelValue":l[1]||(l[1]=e=>vl.value.orderNumber=e)},null,8,["onKeyup","modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[r("div",A,[r(h,{modelValue:vl.value.receivingType,"onUpdate:modelValue":l[2]||(l[2]=e=>vl.value.receivingType=e),placeholder:"请选择",class:"selectFrom",clearable:""},{default:q((()=>[r(s,{label:"收货人姓名",value:"收货人姓名"}),r(s,{label:"收货人手机号码",value:"收货人手机号码"})])),_:1},8,["modelValue"]),r(a,{onKeyup:u(_l,["enter"]),placeholder:"请输入",modelValue:vl.value.consignee,"onUpdate:modelValue":l[3]||(l[3]=e=>vl.value.consignee=e)},null,8,["onKeyup","modelValue"])])])),_:1}),r(t,{xl:{span:"9_6"},md:8,sm:12,xs:12},{default:q((()=>[r("div",B,[O,r(k,{modelValue:vl.value.time,"onUpdate:modelValue":l[4]||(l[4]=e=>vl.value.time=e),"value-format":"timestamp",type:"datetimerange",class:"oe-flex-1","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[r("div",X,[Z,r(h,{modelValue:vl.value.safeguarding,"onUpdate:modelValue":l[5]||(l[5]=e=>vl.value.safeguarding=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:q((()=>[r(s,{label:"全部",value:"全部"}),r(s,{label:"未维权",value:"未维权"}),r(s,{label:"维权中",value:"维权中"}),r(s,{label:"维权完后",value:"维权完后"})])),_:1},8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[r("div",H,[J,r(h,{modelValue:vl.value.commodityType,"onUpdate:modelValue":l[6]||(l[6]=e=>vl.value.commodityType=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:q((()=>[r(s,{label:"全部",value:" "}),r(s,{label:"实体商品",value:"1"}),r(s,{label:"虚拟商品",value:"2"})])),_:1},8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[r("div",Q,[W,r(h,{modelValue:vl.value.payment,"onUpdate:modelValue":l[7]||(l[7]=e=>vl.value.payment=e),placeholder:"全部",class:"oe-flex-1",clearable:""},{default:q((()=>[(d(!0),i(n,null,c(yl.value,(e=>(d(),i(s,{label:e.name,value:e.key,key:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),_:1}),r(t,{xl:{span:"4_8"},md:8,sm:12,xs:12},{default:q((()=>[r("div",Y,[r(b,{type:"primary",onClick:_l},{default:q((()=>[$])),_:1}),r("div",{onClick:El,class:"reset-text"},"重置条件")])])),_:1})])),_:1})])),_:1}),r(w,{shadow:"never",class:"order-box custom-crad-container custom-card-page"},{default:q((()=>[r(C,{gutter:24},{default:q((()=>[r(t,{lg:24},{default:q((()=>[r("div",ee,[r("div",null,[le,r("span",ae,[m("总订单数："+v(p(g).total)+" 实付金额统计："+v(fl.value.toFixed(2))+"元 ",1),r(b,{type:"text",onClick:Dl},{default:q((()=>[te])),_:1}),se])]),r(b,{type:"primary",class:"export-btn",onClick:l[8]||(l[8]=e=>Vl.value.export=!0)},{default:q((()=>[oe])),_:1})])])),_:1}),r("div",de,[r("div",ie,[r(z,{modelValue:p(Nl),"onUpdate:modelValue":l[9]||(l[9]=e=>f(Nl)?Nl.value=e:null),class:"selection-all"},null,8,["modelValue"]),r(C,{class:"list-title-right"},{default:q((()=>[r(t,{xl:15,md:15,sm:15,xs:15},{default:q((()=>[r(C,null,{default:q((()=>[r(t,{xl:8,md:8,sm:8,xs:8},{default:q((()=>[re])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[ue])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[ne])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[ce])),_:1}),r(t,{xl:4,md:4,sm:4,xs:4},{default:q((()=>[me])),_:1})])),_:1})])),_:1}),r(t,{xl:3,md:3,sm:3,xs:3},{default:q((()=>[ve])),_:1}),r(t,{xl:3,md:3,sm:3,xs:3},{default:q((()=>[pe])),_:1}),r(t,{xl:3,md:3,sm:3,xs:3},{default:q((()=>[fe])),_:1})])),_:1})]),xl.value.length?(d(!0),i(n,{key:0},c(xl.value,((e,l)=>(d(),i("div",{class:"list-box",key:l},[r(C,{class:"list-header oe-flex"},{default:q((()=>[r(t,{xl:9,lg:15,md:15,sm:15,xs:15},{default:q((()=>[r("div",ye,[r(z,{modelValue:e.select,"onUpdate:modelValue":l=>e.select=l,class:"selection-single"},null,8,["modelValue","onUpdate:modelValue"]),m(" 订单编号："+v(e.order_sn),1),r("span",{class:"is-color copy-tetx",onClick:l=>(e=>{const l=document.createElement("input");document.body.appendChild(l),l.setAttribute("value",e),l.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(l),V({title:"成功",message:"复制成功",type:"success",duration:2e3})})(e.order_sn)}," 复制 ",8,["onClick"]),xe,r(F,{src:e.img_url,alt:""},null,8,["src"])])])),_:2},1024),r(t,{xl:10,lg:5,md:5,sm:5,xs:5},{default:q((()=>[r("div",null,"下单时间："+v(p(S)(e.createtime)),1)])),_:2},1024),r(t,{xl:5,lg:4,md:4,sm:4,xs:4,class:"header-right-box"},{default:q((()=>[r("div",ge,[r(b,{type:"text",onClick:l=>(async e=>{const{data:l}=await T({order_id:e.id});bl.value=l.data.data,Vl.value.journal=!0})(e)},{default:q((()=>[_e])),_:2},1032,["onClick"]),r(b,{type:"text",class:"is-left",onClick:l=>zl(0,e)},{default:q((()=>[he])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),r(C,{class:"box-content"},{default:q((()=>[r(t,{xl:15,md:15,sm:15,xs:15,class:"layer-content"},{default:q((()=>[(d(!0),i(n,null,c(e.orderGoods,((l,a)=>(d(),i("div",{key:Number(a),class:["loop-box",1==e.orderGoods.length?"completely":""]},[r("div",ke,[r(F,{src:l.goods_image,fit:"cover",class:"order-information-img"},null,8,["src"]),r("div",be,[r("div",Ce,v(l.goods_title),1),"2"==e.type?(d(),i(gl,{key:0,size:"mini",color:"#D4EBFF",style:{color:"#55adff"}},{default:q((()=>[we])),_:1})):y("",!0),"3"==e.type?(d(),i(gl,{key:1,size:"mini",color:"#FBDDD1",style:{color:"#ec672e"}},{default:q((()=>[Se])),_:1})):y("",!0),"1"==e.type?(d(),i(gl,{key:2,size:"mini",color:"#E4FFF8",style:{color:"#1ad370"}},{default:q((()=>[Ve])),_:1})):y("",!0),"4"==e.type?(d(),i(gl,{key:3,size:"mini",color:"#F4DFD3",style:{color:"#ef864c"}},{default:q((()=>[ze])),_:1})):y("",!0),"5"==e.type?(d(),i(gl,{key:4,size:"mini",color:"#F8E8CF",style:{color:"#dd8a0d"}},{default:q((()=>[Te])),_:1})):y("",!0),"6"==e.type?(d(),i(gl,{key:5,size:"mini",color:"#E9D4F9",style:{color:"#8f29df"}},{default:q((()=>[Ue])),_:1})):y("",!0)])]),r("div",Fe,[r("div",null,[r("div",null,"¥"+v(l.goods_original_price),1),r("div",Ne,"x"+v(l.goods_num),1)])]),r("div",je,[r("div",null,["1"==l.after_sale_status?(d(),i("div",Ie,"维权中")):y("",!0),"0"==l.after_sale_status?(d(),i("div",De,"-")):y("",!0),"2"==l.after_sale_status?(d(),i("div",Ee,"维权完成")):y("",!0),"0"!=l.after_sale_status?(d(),i("div",{key:3,onClick:a=>{return t=e,s=l.id,void x.push({path:"/order/management/protection-details",query:{id:t.id,orderId:s}});var t,s},class:"is-color touch-text list-bottom"}," 维权详情 ",8,["onClick"])):y("",!0)])]),r("div",Ge,["0"==e.status?(d(),i("div",Pe,"等待付款")):y("",!0),"0"!=e.status?(d(),i(n,{key:1},["1"==l.dispatch_status?(d(),i("div",Ke,"等待发货")):y("",!0),"2"==l.dispatch_status?(d(),i("div",Re,"等待收货")):y("",!0),"-1"==l.dispatch_status?(d(),i("div",qe,"已关闭")):y("",!0),"3"==l.dispatch_status?(d(),i("div",Le,"已完成")):y("",!0)],64)):y("",!0)]),r("div",Me,[r("div",null,["1"==e.delivery_type?(d(),i("div",Ae,"快递")):y("",!0),"3"==e.delivery_type?(d(),i("div",Be,"自提")):y("",!0),"2"==e.delivery_type?(d(),i("div",Oe,"同城配送")):y("",!0),l.express_no?(d(),i("div",{key:3,class:"is-color list-bottom touch-text",onClick:e=>(async(e,l)=>{const{data:a}=await U({send_express_company_code:e,send_express_sn:l});Cl.value=a.data,Vl.value.logisticsData=!0})(l.express_code,l.express_no)},"物流信息 ",8,["onClick"])):y("",!0)])])],2)))),128))])),_:2},1024),r(t,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:q((()=>[r("div",null,[r("div",null,"¥"+v(e.pay_fee),1),Xe,r("div",null,v(e.payTypeName),1)])])),_:2},1024),r(t,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:q((()=>[r("div",null,[r("div",null,v(e.consignee),1),Ze,r("div",null,v(e.phone),1)])])),_:2},1024),r(t,{xl:3,md:3,sm:3,xs:3,class:"frame"},{default:q((()=>["1"==e.status?(d(),i("div",He,[r("div",Je,[r(hl,{icon:"ad-see",color:"#FE6712",onClick:l=>Ul(e)},{default:q((()=>[Qe])),_:2},1032,["onClick"]),r(b,{size:"small",type:"primary",icon:"ad-immediately",class:"btn-deviation",onClick:l=>(e=>{kl.value=e,Vl.value.deliverGoods=!0})(e)},{default:q((()=>[We])),_:2},1032,["onClick"])]),r("div",Ye,[r(hl,{icon:"ad-refund",color:"#ff0000",onClick:l=>(e=>{kl.value=e,Vl.value.refundState=!0})(e)},{default:q((()=>[$e])),_:2},1032,["onClick"]),r(hl,{icon:"ad-change-address",color:"#2db6f5",class:"public-move-left btn-deviation",onClick:l=>(e=>{Vl.value.address=!0,kl.value=e})(e)},{default:q((()=>[el])),_:2},1032,["onClick"])])])):y("",!0),"3"==e.status||"-1"==e.status?(d(),i(hl,{key:1,icon:"ad-see",color:"#FE6712",onClick:l=>Ul(e)},{default:q((()=>[ll])),_:2},1032,["onClick"])):y("",!0),"2"==e.status?(d(),i("div",al,[r(hl,{icon:"ad-see",color:"#FE6712",onClick:l=>Ul(e)},{default:q((()=>[tl])),_:2},1032,["onClick"]),r(b,{size:"small",type:"primary",class:"btn-deviation",icon:"ad-confirm-receipt",onClick:l=>Tl(0,e)},{default:q((()=>[sl])),_:2},1032,["onClick"])])):y("",!0),"0"==e.status?(d(),i("div",ol,[r("div",dl,[r(hl,{icon:"ad-see",color:"#FE6712",onClick:l=>Ul(e)},{default:q((()=>[il])),_:2},1032,["onClick"]),r(hl,{class:"btn-deviation",icon:"ad-determine",color:"#2db6f5",onClick:l=>Tl(1,e)},{default:q((()=>[rl])),_:2},1032,["onClick"])]),r("div",ul,[r(b,{size:"small",type:"primary",icon:"ad-price-change",onClick:l=>(e=>{kl.value=e,Vl.value.priceChange=!0})(e)},{default:q((()=>[nl])),_:2},1032,["onClick"]),r(hl,{icon:"ad-close",color:"#ff0000",class:"btn-deviation",onClick:l=>zl(1,e)},{default:q((()=>[cl])),_:2},1032,["onClick"])])])):y("",!0)])),_:2},1024)])),_:2},1024)])))),128)):(d(),i(Fl,{key:1,class:"oe-m-t-30","image-size":200})),r(I,{show:Vl.value.logisticsData,"onUpdate:show":l[10]||(l[10]=e=>Vl.value.logisticsData=e),logisticsList:Cl.value},null,8,["show","logisticsList"]),r(D,{show:Vl.value.remarksState,"onUpdate:show":l[11]||(l[11]=e=>Vl.value.remarksState=e),close:wl.value,currentItem:kl.value},null,8,["show","close","currentItem"]),r(E,{show:Vl.value.deliverGoods,"onUpdate:show":l[12]||(l[12]=e=>Vl.value.deliverGoods=e),currentItem:kl.value},null,8,["show","currentItem"]),r(G,{show:Vl.value.refundState,"onUpdate:show":l[13]||(l[13]=e=>Vl.value.refundState=e),currentItem:kl.value},null,8,["show","currentItem"]),r(P,{show:Vl.value.confirmReceipt,"onUpdate:show":l[14]||(l[14]=e=>Vl.value.confirmReceipt=e),determine:Sl.value,currentItem:kl.value},null,8,["show","determine","currentItem"]),r(K,{show:Vl.value.priceChange,"onUpdate:show":l[15]||(l[15]=e=>Vl.value.priceChange=e),option:kl.value},null,8,["show","option"]),r(N,{show:Vl.value.journal,"onUpdate:show":l[16]||(l[16]=e=>Vl.value.journal=e),option:bl.value},null,8,["show","option"]),r(R,{show:Vl.value.address,"onUpdate:show":l[17]||(l[17]=e=>Vl.value.address=e),currentItem:kl.value},null,8,["show","currentItem"]),r(j,{show:Vl.value.export,"onUpdate:show":l[18]||(l[18]=e=>Vl.value.export=e),option:pl.value},null,8,["show","option"])])])),_:1}),r(jl,{onSizeChange:p(_),onCurrentChange:p(ml),class:"e-grid paging-box","page-sizes":p(g).pageSizes,"page-size":p(g).pageSize,background:"",layout:"total, prev, pager, next,sizes, jumper",total:p(g).total,"current-page":p(g).currentPage},null,8,["onSizeChange","onCurrentChange","page-sizes","page-size","total","current-page"])])),_:1})],64)}))}});ml.__scopeId="data-v-85a5d318";export default ml;
