import{u as a,a as e,f as t,aK as l,c as s,_ as o,aL as n,aM as r}from"./index.a53c91c6.js";import{a as i,l as c,w as d,b as u,o as p,c as g,g as m,u as f,t as h,s as b,F as k,X as v,k as y,p as C,h as w}from"./vendor.71e19cde.js";const _=y();C("data-v-7d588ac2");const z={class:"store-manage"},x={class:"card-header"},F=v("新增员工"),S={class:"header-right"},j={key:0},B={key:0},P={key:0,class:"start-up"},V={key:1},D={class:"oe-flex"},I=v(" 编辑 "),T=v(" 禁用 "),q=v(" 启用 "),E=v(" 删除 ");w();var K=i({expose:[],setup(i){const y=a(),{pagination:C,handleSizeChange:w,handleCurrentChange:K}=e(),L=c([]),M=c(""),U=async(a,e,t)=>{await l([e],{status:t}),a.status=t,s.success(1==t?"启用成功!":"禁用成功!")};return d([()=>C.currentPage,()=>C.pageSize,M],(async()=>{const{data:a}=await r({page:C.currentPage,limit:C.pageSize,search:{name:M.value}});C.total=a.data.total,L.value=a.data.data}),{immediate:!0}),_(((a,e)=>{const l=u("el-button"),s=u("el-input"),r=u("el-empty"),i=u("el-table-column"),c=u("custom-button"),d=u("el-table"),X=u("el-pagination"),$=u("el-card");return p(),g("div",z,[m($,{shadow:"never",class:"custom-crad-container custom-card-page"},{header:_((()=>[m("div",x,[m(l,{class:"button",type:"primary",icon:"el-icon-plus",onClick:e[1]||(e[1]=a=>f(y).push({path:"staff-details"}))},{default:_((()=>[F])),_:1}),m("div",S,[m(s,{placeholder:"请输入员工姓名/手机号/账号/角色",modelValue:M.value,"onUpdate:modelValue":e[2]||(e[2]=a=>M.value=a),"suffix-icon":"el-icon-search"},null,8,["modelValue"])])])])),default:_((()=>[m(d,{class:"table-box","cell-style":{background:"#fff"},data:L.value,style:{width:"100%"},"default-sort":{prop:"date",order:"descending"}},{empty:_((()=>[m(r,{class:"oe-m-t-30",description:"暂无员工"})])),default:_((()=>[m(i,{label:"员工ID",prop:"id",sortable:""}),m(i,{label:"姓名",prop:"name"}),m(i,{label:"手机号",prop:"mobile"}),m(i,{label:"账号"},{default:_((({row:a})=>[a.manager?(p(),g("div",j,h(a.manager.username),1)):b("",!0)])),_:1}),m(i,{label:"角色"},{default:_((({row:a})=>[a.group?(p(),g(k,{key:0},[v(h(a.group.name),1)],64)):b("",!0)])),_:1}),m(i,{label:"新增时间","min-width":"100",sortable:""},{default:_((({row:a})=>[v(h(f(t)(a.createtime)),1)])),_:1}),m(i,{label:"添加人"},{default:_((({row:a})=>[a.addmanager?(p(),g("div",B,h(a.addmanager.username),1)):b("",!0)])),_:1}),m(i,{label:"状态"},{default:_((({row:a})=>[1==a.status?(p(),g("div",P,"启用")):b("",!0),0==a.status?(p(),g("div",V,"禁用")):b("",!0)])),_:1}),m(i,{prop:"address",label:"操作","min-width":"200px"},{default:_((({row:a,$index:e})=>[m("div",D,[m(c,{icon:"el-icon-edit-outline",class:"oe-m-r-8",color:"#FE6712",onClick:e=>f(y).push({path:"staff-details",query:{id:a.id}})},{default:_((()=>[I])),_:2},1032,["onClick"]),1==a.status?(p(),g(c,{key:0,class:"oe-m-r-8",icon:"ad-blacklist",color:"#FF0000",onClick:e=>U(a,a.id,0)},{default:_((()=>[T])),_:2},1032,["onClick"])):(p(),g(c,{key:1,class:"oe-m-r-8",icon:"ad-grade",color:"#2DB6F5",onClick:e=>U(a,a.id,1)},{default:_((()=>[q])),_:2},1032,["onClick"])),m(c,{class:"oe-m-r-8",icon:"el-icon-delete",color:"#FF0000",onClick:t=>(async(a,e)=>{await o.confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await n([e]),L.value.splice(a,1),C.total-=1})(e,a.id)},{default:_((()=>[E])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),m(X,{class:"pagination-right","page-sizes":f(C).pageSizes,"page-size":f(C).pageSize,background:"","current-page":f(C).currentPage,layout:"total, prev, pager, next,sizes, jumper",total:f(C).total,onSizeChange:f(w),onCurrentChange:f(K)},null,8,["page-sizes","page-size","current-page","total","onSizeChange","onCurrentChange"])])),_:1})])}))}});K.__scopeId="data-v-7d588ac2";export default K;
