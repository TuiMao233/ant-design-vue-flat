import{a as e,u as a,f as l,b9 as t,c as s,ba as i}from"./index.a53c91c6.js";import{q as o}from"./order.28ff7f57.js";import{a as d,l as n,w as r,m as c,b as u,o as p,c as h,g as v,u as g,X as m,t as w,F as f,k as b,p as _,h as C}from"./vendor.71e19cde.js";const y=b();_("data-v-588cbb80");const k={class:"card-header"},x=m("新增退货地址"),z=v("div",{class:"header-right"},null,-1),S=m("我是默认模板名称"),V={class:"oe-flex"},j=m("编辑 "),F=m("删除 "),U={class:"oe-flex oe-row-between e-grid"},A={class:"operation-text"},D=m("全选当前页"),P=m("删除"),q={class:"delete-box"},E={class:"oe-flex"},I=v("i",{class:"el-icon-warning"},null,-1),X={class:"card-header"},B=v("div",{class:"card-header-title"},"提示",-1),G={key:0,class:"card-header-text"},H={key:1,class:"card-header-text"},J={class:"footer-right"},K=m("取消"),L=m("确定");C();var M=d({expose:[],setup(d){const{pagination:b,handleSizeChange:_,handleCurrentChange:C}=e(),M=n(!1),N=a(),O=n(),Q=n([]),R=n([]),T=n(""),W=n(!1),Y=n(0),Z=e=>{R.value=e};r(R,(()=>{R.value.length==Q.value.length?M.value=!0:M.value=!1}));const $=e=>{var a,l;e&&R.value?1==e&&(null==(l=O.value)||l.toggleAllSelection()):null==(a=O.value)||a.clearSelection()},ee=(e,a)=>{a&&(T.value=a.id),W.value=!0,Y.value=e},ae=async()=>{if(0==Y.value)await i({id:[T.value]});else{const e=[];R.value.forEach((a=>e.push(a.id))),await i({id:e})}W.value=!1,s.success("操作成功!!"),le()},le=async()=>{const{data:e}=await o({page:b.currentPage,limit:b.pageSize});Q.value=e.data.data,Q.value.forEach((e=>{1==e.is_default?e.switch=!0:e.switch=!1})),b.total=e.data.total};return r([()=>b.currentPage,()=>b.pageSize],(()=>{le()})),c((()=>{le()})),y(((e,a)=>{const i=u("el-button"),o=u("el-empty"),d=u("el-table-column"),n=u("el-switch"),r=u("custom-button"),c=u("el-table"),T=u("el-checkbox"),te=u("el-link"),se=u("el-col"),ie=u("el-pagination"),oe=u("el-row"),de=u("el-card"),ne=u("el-dialog");return p(),h(f,null,[v(de,{shadow:"never",class:"refund-list custom-crad-container custom-card-page"},{default:y((()=>[v("div",k,[v(i,{type:"primary",icon:"el-icon-plus",onClick:a[1]||(a[1]=e=>g(N).push({path:"/system/logisticsDistribution/newAddress"}))},{default:y((()=>[x])),_:1}),z]),v(c,{ref:O,class:"revenue-list",data:Q.value,style:{width:"100%"},onSelectionChange:Z},{empty:y((()=>[v(o,{class:"oe-m-t-30",description:"暂无退货地址"})])),default:y((()=>[v(d,{type:"selection",width:"55"}),v(d,{prop:"title",label:"地址名称","min-width":"150"},{default:y((()=>[S])),_:1}),v(d,{prop:"consignee",label:"收货人","min-width":"150"}),v(d,{prop:"phone",label:"联系方式","min-width":"150"}),v(d,{label:"收货地址","min-width":"250"},{default:y((e=>[m(w(e.row.province_name)+w(e.row.city_name)+w(e.row.area_name)+w(e.row.address),1)])),_:1}),v(d,{prop:"date",label:"是否默认","min-width":"150"},{default:y((e=>[v(n,{modelValue:e.row.switch,"onUpdate:modelValue":a=>e.row.switch=a,onChange:a=>(async(e,a)=>{e&&(await t({id:a}),s.success("操作成功"),le())})(a,e.row.id),disabled:e.row.switch},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])])),_:1}),v(d,{prop:"date",label:"新增时间","min-width":"150"},{default:y((e=>[m(w(g(l)(e.row.createtime)),1)])),_:1}),v(d,{prop:"address",label:"操作","min-width":"310"},{default:y((e=>[v("div",V,[v(r,{icon:"ad-view-order",color:"#FF9D28",onClick:a=>{var l;(l=e.row.id)&&N.push({path:"/system/logisticsDistribution/newAddress",query:{id:l}})}},{default:y((()=>[j])),_:2},1032,["onClick"]),v(r,{icon:"ad-view-order",class:"public-move-left",color:"#FF0000",onClick:a=>ee(0,e.row)},{default:y((()=>[F])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),v(oe,{gutter:24,style:{margin:"0"},class:"oe-flex oe-row-between order-bottom"},{default:y((()=>[v(se,{lg:12},{default:y((()=>[v("div",U,[v("div",A,[v(T,{modelValue:M.value,"onUpdate:modelValue":a[2]||(a[2]=e=>M.value=e),onChange:$},{default:y((()=>[D])),_:1},8,["modelValue"]),v(te,{href:"javascript:;",underline:!1,class:[{"public-red":R.value.length},"public"],disabled:!R.value.length,onClick:a[3]||(a[3]=e=>ee(1))},{default:y((()=>[P])),_:1},8,["class","disabled"])])])])),_:1}),v(se,{lg:12},{default:y((()=>[v(ie,{class:"e-grid","page-sizes":g(b).pageSizes,"page-size":g(b).pageSize,onSizeChange:g(_),onCurrentChange:g(C),background:"","current-page":g(b).currentPage,layout:"total, prev, pager, next,sizes, jumper",total:g(b).total},null,8,["page-sizes","page-size","onSizeChange","onCurrentChange","current-page","total"])])),_:1})])),_:1})])),_:1}),v("div",q,[v(ne,{modelValue:W.value,"onUpdate:modelValue":a[5]||(a[5]=e=>W.value=e),width:"550px"},{title:y((()=>[v("div",E,[I,v("div",X,[B,0==Y.value?(p(),h("div",G,"您确定删除该退货地址么？")):(p(),h("div",H,"您确定删除选中的退货地址么？"))])])])),footer:y((()=>[v("div",J,[v(i,{size:"mini",onClick:a[4]||(a[4]=e=>W.value=!1)},{default:y((()=>[K])),_:1}),v(i,{size:"mini",type:"primary",onClick:ae},{default:y((()=>[L])),_:1})])])),_:1},8,["modelValue"])])],64)}))}});M.__scopeId="data-v-588cbb80";export default M;
