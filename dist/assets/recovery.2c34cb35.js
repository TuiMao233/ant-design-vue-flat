var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,t=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{a as o,l as n,e as u,r as d,b as r,o as i,c,g as p,u as m,R as v,X as g,t as f,k as y,p as _,h as b,w as h,Z as w,F as x,P as V,s as C,M as k,V as S}from"./vendor.71e19cde.js";import{a as z,f as T,at as B,a1 as P,_ as U,au as j,c as K,av as E}from"./index.a53c91c6.js";import{_ as O}from"./seePopup.567d0a68.js";const D=y();_("data-v-3d6c9772");const F={class:"recovery-input"},I={class:"oe-flex"},q=p("span",{class:"both-sides"},null,-1);b();var A=o({expose:[],props:{titleTetx:{type:String,required:!0},company:{type:String},modelValue:{type:Array,required:!0}},setup(e,{emit:a}){const l=e,t=n(),s=u({get:()=>l.modelValue,set:e=>a("update:modelValue",e)}),o=d({section:[{required:!1,validator:(e,a,l)=>{Number(s.value[0])>Number(s.value[1])?l(new Error("最小范围的值不能大于最大范围的值")):l()},trigger:"change"}]});return D(((a,l)=>{const n=r("el-input"),u=r("el-form-item"),d=r("el-form");return i(),c("div",F,[p(d,{ref:t,rules:m(o),"label-width":"65px","label-position":"left"},{default:D((()=>[p(u,{label:e.titleTetx,prop:"section"},{default:D((()=>[p("div",I,[p(n,{modelValue:m(s)[0],"onUpdate:modelValue":l[1]||(l[1]=e=>m(s)[0]=e),class:"oe-flex-1",placeholder:"请输入",type:"number"},v({_:2},[e.company?{name:"append",fn:D((()=>[g(f(e.company),1)]))}:void 0]),1032,["modelValue"]),q,p(n,{modelValue:m(s)[1],"onUpdate:modelValue":l[2]||(l[2]=e=>m(s)[1]=e),class:"oe-flex-1",placeholder:"请输入",type:"number"},v({_:2},[e.company?{name:"append",fn:D((()=>[g(f(e.company),1)]))}:void 0]),1032,["modelValue"])])])),_:1},8,["label"])])),_:1},8,["rules"])])}))}});A.__scopeId="data-v-3d6c9772";const N=y();_("data-v-65508657");const J=p("span",{class:"tips"},"商品名称",-1),M=p("span",{class:"tips"},"商品ID",-1),R=p("span",{class:"tips"},"商品状态",-1),X=g("搜索"),Z=g("重置条件"),G=g(" 全部恢复 "),H={class:"goods"},L={class:"picture oe-m-r-10"},Q={class:"classification"},W={class:"navigation"},Y={class:"name"},$=g("多规格"),ee=g("实体"),ae=g("虚拟"),le={key:0},te={class:"edit oe-flex"},se=g("查看"),oe=g("恢复"),ne=g("删除"),ue={class:"goods-list-footer"},de={class:"select-all"},re=g(" 全选当前页 "),ie=g(" 删除 "),ce=g(" 恢复 "),pe={class:"completePager"};b();var me=o({expose:[],setup(e){const o=n({title:"",id:"",goods_state:"",sales:["",""],price:["",""]}),u=n(!1),d=n({}),v=()=>{o.value={title:"",id:"",goods_state:"",sales:["",""],price:["",""]}},g=async()=>{const e=[];ve.value.forEach((a=>{e.push(a.id)})),U.confirm("您确定恢复选中的商品么？确定后选中的商品将会放到商品管理列表","恢复商品",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await j({id:e}),K({type:"success",message:"恢复成功!"}),he()}))},y=async()=>{const e=[];D.value.forEach((a=>{e.push(a.id)})),U.confirm("您确定恢复全部的商品么？确定后所有的商品将会放到商品管理列表","恢复商品",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await j({id:e}),K({type:"success",message:"恢复成功!"}),he()}))},_=async()=>{const e=[];ve.value.forEach((a=>{e.push(a.id)})),U.confirm("您确定删除选中的商品么？确定后将会永久删除选中的商品","删除商品",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await E({id:e}),K({type:"success",message:"删除成功!"}),he()}))},b=n([{value:" ",label:"全部"},{value:"1",label:"待出售"},{value:"2",label:"出售中"},{value:"3",label:"已售罄"},{value:"5",label:"仓库中"}]),D=n([{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",isShow:!0},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄",isShow:!0},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄",isShow:!0},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄",isShow:!0}]),{pagination:F,handleSizeChange:I,handleCurrentChange:q}=z(),me=n(),ve=n([]),ge=()=>{ve.value.length?fe.value=!0:fe.value=!1},fe=n(!1),ye=e=>{var a,l;e&&ve.value?1==e&&(null==(l=me.value)||l.toggleAllSelection()):null==(a=me.value)||a.clearSelection()};h(ve,(()=>{ve.value.length==D.value.length?fe.value=!0:fe.value=!1}));const _e=e=>{ve.value=e},be=()=>{he()},he=async()=>{const e=((e,o)=>{for(var n in o||(o={}))a.call(o,n)&&s(e,n,o[n]);if(l)for(var n of l(o))t.call(o,n)&&s(e,n,o[n]);return e})({page:F.currentPage,limit:F.pageSize,del:1},o.value),{data:n}=await B(e);F.total=n.data.total,D.value=n.data.data};return h([()=>F.currentPage,()=>F.pageSize,()=>o.value.goods_state],(()=>he()),{immediate:!0}),N(((e,a)=>{const l=r("el-input"),t=r("el-col"),s=r("el-option"),n=r("el-select"),h=r("el-button"),z=r("el-row"),we=r("el-card"),xe=r("el-empty"),Ve=r("el-table-column"),Ce=r("el-image"),ke=r("el-tag"),Se=r("custom-button"),ze=r("el-table"),Te=r("el-checkbox"),Be=r("el-pagination");return i(),c(x,null,[p(we,{shadow:"never",class:"oe-m-b-15"},{default:N((()=>[p(z,{gutter:60},{default:N((()=>[p(t,{class:"form-item",xs:12,sm:12,lg:8,xl:{span:"4_8"}},{default:N((()=>[J,p(l,{onKeyup:w(be,["enter"]),modelValue:o.value.title,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.title=e),placeholder:"请输入内容"},null,8,["onKeyup","modelValue"])])),_:1}),p(t,{class:"form-item",xs:12,sm:12,lg:8,xl:{span:"4_8"}},{default:N((()=>[M,p(l,{onKeyup:w(be,["enter"]),modelValue:o.value.id,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.id=e),placeholder:"请输入内容"},null,8,["onKeyup","modelValue"])])),_:1}),p(t,{class:"form-item",xs:12,sm:12,lg:8,xl:{span:"4_8"}},{default:N((()=>[R,p(n,{clearable:"",modelValue:o.value.goods_state,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.goods_state=e),placeholder:"全部"},{default:N((()=>[(i(!0),c(x,null,V(b.value,(e=>(i(),c(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(t,{xs:12,sm:12,lg:8,xl:{span:"4_8"}},{default:N((()=>[p(A,{onKeyup:w(be,["enter"]),modelValue:o.value.price,"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.price=e),titleTetx:"商品价格"},null,8,["onKeyup","modelValue"])])),_:1}),p(t,{xs:12,sm:12,lg:8,xl:{span:"4_8"}},{default:N((()=>[p(A,{onKeyup:w(be,["enter"]),modelValue:o.value.sales,"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.sales=e),titleTetx:"实际销量"},null,8,["onKeyup","modelValue"])])),_:1}),p(t,{xs:12,sm:12,lg:8,xl:{span:"4_8"}},{default:N((()=>[p(h,{onClick:be,class:"search-button",type:"primary",size:"small"},{default:N((()=>[X])),_:1}),p(h,{onClick:v,class:"search-button",type:"text",size:"small"},{default:N((()=>[Z])),_:1})])),_:1})])),_:1})])),_:1}),p(we,{shadow:"never",class:"custom-crad-container"},{default:N((()=>[p(h,{onClick:y,type:"primary",class:"add-goods",size:"small"},{default:N((()=>[G])),_:1}),p(ze,{border:!1,class:"goods-list",ref:me,data:D.value,"tooltip-effect":"dark",style:{width:"100%"},onSelectAll:ge,onSelectionChange:_e,"default-sort":{prop:"id",order:"descending"}},{empty:N((()=>[p(xe,{class:"oe-m-t-30",description:"暂无回收站商品"})])),default:N((()=>[p(Ve,{type:"selection",width:"55"}),p(Ve,{label:"商品ID",width:"120",prop:"id",sortable:""}),p(Ve,{label:"商品",width:"220"},{default:N((e=>[p("div",H,[p("div",L,[p(Ce,{fit:"cover",class:"image",src:e.row.main_picture},null,8,["src"])]),p("div",Q,[p("div",W,[p("div",Y,f(e.row.title),1),1==e.row.norms_type?(i(),c(ke,{key:0},{default:N((()=>[$])),_:1})):C("",!0)]),(e.row.goods_type=1)?(i(),c(ke,{key:0,size:"mini",class:"label-type",type:"success"},{default:N((()=>[ee])),_:1})):(i(),c(ke,{key:1,size:"mini",class:"label-type"},{default:N((()=>[ae])),_:1}))])])])),_:1}),p(Ve,{prop:"price",label:"价格"}),p(Ve,{label:"库存",prop:"stock",sortable:""}),p(Ve,{prop:"sales",label:"销量",sortable:""}),p(Ve,{label:"商品状态",width:"160"},{default:N((e=>[k(p("span",null,"待出售",512),[[S,1==e.row.goods_state]]),k(p("span",null,"出售中",512),[[S,2==e.row.goods_state]]),k(p("span",null,"已售罄",512),[[S,3==e.row.goods_state]]),k(p("span",null,"已下架",512),[[S,5==e.row.goods_state]])])),_:1}),p(Ve,{label:"新增时间",width:"200",prop:"createtime",sortable:""},{default:N((e=>[0!=e.row.createtime?(i(),c("span",le,f(m(T)(e.row.createtime)),1)):C("",!0)])),_:1}),p(Ve,{label:"操作",width:"260"},{default:N((e=>[p("div",te,[p(Se,{onClick:a=>{return l=e.row.id,B({id:l,del:1}).then((e=>{d.value=e.data.data.data[0],4==d.value.goods_param_type&&""!=d.value.goods_param&&(d.value.goods_param=JSON.parse(d.value.goods_param)),2==d.value.goods_param_type&&""!=d.value.goods_param&&P({page:1,limit:1e3}).then((e=>{e.data.data.data.forEach((e=>{e.id==d.value.goods_param&&(d.value.goods_param=[],d.value.goods_param.push(e))}))}))})),void(u.value=!0);var l},icon:"ad-see",color:"#FE6712",class:"public-move-left oe-m-l-0"},{default:N((()=>[se])),_:2},1032,["onClick"]),p(Se,{onClick:a=>(async e=>{U.confirm("您确定恢复该商品么？确定后该商品将会放到商品管理列表","恢复商品",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await j({id:e}),K({type:"success",message:"恢复成功!"}),he()}))})(e.row.id),icon:"ad-recovery1",color:"#2DB6F5",class:"public-move-left"},{default:N((()=>[oe])),_:2},1032,["onClick"]),p(Se,{onClick:a=>{return l=e.row.id,void U.confirm("您确定删除该商品么？确定后将会永久删除该商品","删除商品",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await E({id:l}),K({type:"success",message:"删除成功!"}),he()}));var l},icon:"ad-delete",color:"#FF0000",class:"public-move-left"},{default:N((()=>[ne])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),p("div",ue,[p("div",de,[p(Te,{class:"oe-m-r-14",modelValue:fe.value,"onUpdate:modelValue":a[6]||(a[6]=e=>fe.value=e),onChange:ye},{default:N((()=>[re])),_:1},8,["modelValue"]),p(h,{disabled:!ve.value.length,onClick:_,type:"text"},{default:N((()=>[ie])),_:1},8,["disabled"]),p(h,{disabled:!ve.value.length,onClick:g,type:"text"},{default:N((()=>[ce])),_:1},8,["disabled"])]),p("div",pe,[p(Be,{background:"",onSizeChange:m(I),onCurrentChange:m(q),"current-page":m(F).currentPage,"page-sizes":m(F).pageSizes,"page-size":m(F).pageSize,total:m(F).total,layout:"total, sizes, prev, pager, next, jumper"},null,8,["onSizeChange","onCurrentChange","current-page","page-sizes","page-size","total"])])])])),_:1}),p(O,{productDetail:d.value,modelValue:u.value,"onUpdate:modelValue":a[7]||(a[7]=e=>u.value=e)},null,8,["productDetail","modelValue"])],64)}))}});me.__scopeId="data-v-65508657";export default me;
