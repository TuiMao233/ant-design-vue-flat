import{u as e,Y as a,w as l,aa as s,c as t}from"./index.a53c91c6.js";import{n as d}from"./nzh.f3d19486.js";import{a as i,l as n,b as o,o as c,c as u,g as r,s as h,X as m,t as v,u as f,F as p,k as x,p as y,h as b}from"./vendor.71e19cde.js";const C=x();y("data-v-13b8516c");const _={class:"table-header-container"},k=r("div",{class:"add-button-box"},[r("i",{class:"ad-shapePlus"}),r("span",{class:"text"},"新增一级标签")],-1),V=r("div",{class:"table-header oe-flex"},[r("div",{style:{flex:"5%"}}),r("div",{style:{flex:"50%"}},"标签名称"),r("div",{style:{flex:"40%"}},"状态"),r("div",{style:{flex:"5%"}},"操作")],-1),g={class:"table-slot-item oe-flex"},w=r("div",{style:{flex:"5%"},class:"oe-flex oe-row-between"},[r("i",{class:"ad-tableIcon icon"})],-1),j={style:{flex:"50%"}},U={style:{flex:"40%"}},z={style:{flex:"5%"}},E=m(" 删除 "),I={class:"button-box"},L=m("取消"),F=m("保存");b();var P=i({expose:[],setup(i){const x=e(),y=n([{name:"",status:1,thumb:"",hideChildren:!1,children:[]}]),b=n({datas:[]});function P(e){e.forEach((e=>{e.children?(e.hideChildren=!1,P(e.children)):(e.children=[],e.hideChildren=!1)}))}a().then((e=>{const a=e.data.data;y.value=a.data,P(y.value)}));const S=n([]),X=()=>{!function e(a){a.forEach((a=>{a.children?(delete a.hideChildren,e(a.children)):delete a.hideChildren}))}(y.value),b.value.datas=y.value,b.value.del_datas=S.value.join(),s(b.value).then((e=>{t.success("编辑成功"),x.push("/commodity/productLabeling")}))};return C(((e,a)=>{const s=o("el-button"),t=o("el-input"),i=o("el-link"),n=o("el-switch"),b=o("el-scrollbar"),P=o("el-card");return c(),u(p,null,[r(P,{shadow:"never",class:"e-grid classification-edit"},{default:C((()=>[r("div",_,[r(s,{class:"add-goods",size:"small",type:"primary",onClick:a[1]||(a[1]=e=>y.value.unshift({name:"",status:1,thumb:"",hideChildren:!1,children:[]}))},{default:C((()=>[k])),_:1}),V]),r(b,{class:"table-content"},{default:C((()=>[r(l,{style:{width:"100%"},modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e)},{item:C((({nestedIndex:e,item:a,items:l,index:s})=>[r("div",g,[w,r("div",j,[e?(c(),u("i",{key:0,class:"ad-Frame1 oe-m-r-14",style:{marginLeft:1==e?0:20*e+"px"}},null,4)):h("",!0),r(t,{modelValue:a.name,"onUpdate:modelValue":e=>a.name=e,placeholder:"请输入名称",maxlength:"10","show-word-limit":""},null,8,["modelValue","onUpdate:modelValue"]),e<2?(c(),u(i,{key:1,href:"javascript:;",class:"oe-m-l-14",type:"primary",onClick:e=>a.children.unshift({name:"",status:1,thumb:"",hideChildren:!1,children:[]})},{default:C((()=>[m(" +新增"+v(f(d).cn.encodeS(e+2))+"级标签 ",1)])),_:2},1032,["onClick"])):h("",!0)]),r("div",U,[r(n,{modelValue:a.status,"onUpdate:modelValue":e=>a.status=e,"active-value":1,"inactive-value":2,"active-color":"#13ce66",onChange:e=>(e=>{const a=l=>{l.forEach((l=>{l.status=e.status,l.children&&a(l.children)}))};e.children&&a(e.children)})(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),r("div",z,[r(i,{href:"javascript:;",type:"primary",onClick:e=>((e,a,l)=>{e.splice(a,1),S.value.push(l.id)})(l,s,a)},{default:C((()=>[E])),_:2},1032,["onClick"])])])])),_:1},8,["modelValue"])])),_:1})])),_:1}),r(P,{shadow:"never",class:"fixed-footer"},{default:C((()=>[r("div",I,[r(s,{onClick:a[3]||(a[3]=e=>f(x).push("/commodity/productLabeling")),size:"small"},{default:C((()=>[L])),_:1}),r(s,{onClick:X,type:"primary",size:"small"},{default:C((()=>[F])),_:1})])])),_:1})],64)}))}});P.__scopeId="data-v-13b8516c";export default P;
