import{aB as e,aC as l,c as a}from"./index.a53c91c6.js";import{a as t,l as s,m as u,b as c,o as r,c as o,g as d,k as i,p,X as m,h as v}from"./vendor.71e19cde.js";const n=i();p("data-v-0ec18467");const y=d("div",{class:"tips-box"}," 只可生效一种存储配置，配置保存时，以前正在使用的配置将会失效且自动生效当前保存的配置 ",-1),k={class:"local-box"},_=d("div",null,"本地存储无需配置，直接保存即可",-1),b=m("保存并生效"),f={class:"alicloud-box"},K=d("div",{class:"alicloud-text"},[m("如果切换到OSS后，需要将原有设置的附件传输至阿里云OSS 相关工具："),d("br"),m(" 官方推荐OSS客户端工具（Windows版）"),d("a",{href:"https://market.aliyun.com/products/53690006/cmgj000281.html#sku=biaozhunban",target:"_blank"}," https://market.aliyun.com/products/53690006/cmgj000281.html#sku=biaozhunban "),d("br"),m(" 其他官方推荐工具 "),d("a",{href:"https://developer.aliyun.com/ask/191405?spm=a2c6h.13524658",target:"_balnk"}," https://developer.aliyun.com/ask/191405?spm=a2c6h.13524658 ")],-1),h=d("div",{class:"tips-text"},"Access Key ID是您访问阿里云API的密钥",-1),V=d("div",{class:"tips-text"},"Access Key Secret是您访问阿里云API的密钥",-1),I=d("div",{class:"tips-text"},"请保证存储空间(Bucket)，为可公共读取的",-1),g=d("div",{class:"tips-text"}," 自定义访问域名，请确保域名支持 https 协议，如不填写会使用OSS默认域名 ",-1),D=m("保存并生效"),S=d("div",{class:"alicloud-text"},[m(" 如果切换到COS后，需要将原有设置的附件传输至腾讯COS, 相关工具： "),d("a",{href:"https://console.cloud.tencent.com/cos5",target:"_balnk"}," https://console.cloud.tencent.com/cos5 ")],-1),x=d("div",{class:"tips-text"},"App DI是您项目的ID",-1),A=d("div",{class:"tips-text"}," Secret ID 是您项目的安全秘钥，具有该账户完全的权限，请妥善保管 ",-1),U=d("div",{class:"tips-text"}," Secret ID 是您项目的安全秘钥，具有该账户完全的权限，请妥善保管 ",-1),q=d("div",{class:"tips-text"},"请保证空间属性为 公有读私有写 ",-1),w=d("div",{class:"tips-text"}," 自定义访问域名，请确保域名支持 https 协议，如不填写会使用COS默认域名 ",-1),C=d("div",{class:"tips-text"}," 存储空间(Bucket)所在的地域 ",-1),B=m("保存并生效"),O=d("div",{class:"alicloud-text"},[m(" 如果切换到七牛存储后，需要将原有设置的附件传输至七牛存储, 相关工具： "),d("a",{href:"https://developer.qiniu.com/sdk#tool",target:"_blank"}," https://developer.qiniu.com/sdk#tool ")],-1),j=d("div",{class:"tips-text"},[m("用于签名的公钥, 从 "),d("a",{href:"https://portal.qiniu.com/user/key",target:"_balnk"},"https://portal.qiniu.com/user/key"),m(" 获取")],-1),T=d("div",{class:"tips-text"},[m("用于签名的私钥, 从 "),d("a",{href:"https://portal.qiniu.com/user/key",target:"_balnk"},"https://portal.qiniu.com/user/key"),m(" 获取")],-1),z=d("div",{class:"tips-text"},"空间名称，请保证为公开空间",-1),N=d("div",{class:"tips-text"}," 自定义访问域名，请确保域名支持 https 协议，如不填写会使用七牛云默认域名 ",-1),P=m("保存并生效");v();var Q=t({expose:[],setup(t){const i=s({KeyId:"",secretKey:"",memory:"",visit:"",compress:"",styleCode:""}),p=s({AppID:"",secretID:"",secretKey:"",memory:"",visit:"",region:""}),m=s({accessKey:"",secretKey:"",memory:"",visit:"",compress:"",styleCode:""}),v=s({accessKey:[{required:!0,message:"请输入App ID",trigger:"blur"}],secretKey:[{required:!0,message:"请输入Secret Key",trigger:"blur"}],memory:[{required:!0,message:"请输入Bucket",trigger:"blur"}],visit:[{required:!0,message:"请输入Url",trigger:"blur"}],AppID:[{required:!0,message:"请输入App ID",trigger:"blur"}],secretID:[{required:!0,message:"请输入Secret ID",trigger:"blur"}],KeyId:[{required:!0,message:"请输入Access Key ID",trigger:"blur"}]}),Q=s(""),Y=s(),L=s(),W=s(),X=async l=>{if(4==l.props.name){const{data:l}=await e({key:"QiNiu"}),a=l.data;m.value.accessKey=a.ak,m.value.secretKey=a.sk,m.value.memory=a.bucket,m.value.visit=a.cdn}else if(5==l.props.name){const{data:l}=await e({key:"Tencent"}),a=l.data;p.value.AppID=a.app_id,p.value.secretID=a.secret_id,p.value.secretKey=a.secret_key,p.value.memory=a.bucket,p.value.visit=a.cdn,p.value.region=a.region}else if(7==l.props.name){const{data:l}=await e({key:"AliYun"}),a=l.data;i.value.KeyId=a.access_key_id,i.value.secretKey=a.access_key_secret,i.value.memory=a.bucket,i.value.visit=a.cdn}},E=()=>{Y.value.validate((async e=>{if(e){const e="AliYun",t={access_key_id:i.value.KeyId,access_key_secret:i.value.secretKey,bucket:i.value.memory,cdn:i.value.visit};await l(e,t),a.success("操作成功"),J()}}))},F=()=>{L.value.validate((async e=>{if(e){const e="Tencent",t={app_id:p.value.AppID,secret_id:p.value.secretID,secret_key:p.value.secretKey,bucket:p.value.memory,region:p.value.region,cdn:p.value.visit};await l(e,t),a.success("操作成功"),J()}}))},G=()=>{W.value.validate((async e=>{if(e){const e="QiNiu",t={ak:m.value.accessKey,sk:m.value.secretKey,bucket:m.value.memory,cdn:m.value.visit};await l(e,t),a.success("操作成功"),J()}}))},H=async()=>{await l("Local",{value:"1"}),a.success("操作成功"),J()},J=async()=>{const{data:l}=await e({key:"oss"}),a=l.data;if(Q.value=a.config_id,Q.value=Q.value.toString(),"24"==Q.value)return!1;"4"==Q.value?(m.value.accessKey=a.ak,m.value.secretKey=a.sk,m.value.memory=a.bucket,m.value.visit=a.cdn):"5"==Q.value?(p.value.AppID=a.app_id,p.value.secretID=a.secret_id,p.value.secretKey=a.secret_key,p.value.memory=a.bucket,p.value.visit=a.cdn,p.value.region=a.region):"7"==Q.value&&(i.value.KeyId=a.access_key_id,i.value.secretKey=a.access_key_secret,i.value.memory=a.bucket,i.value.visit=a.cdn)};return u((()=>J())),n(((e,l)=>{const a=c("el-button"),t=c("el-tab-pane"),s=c("el-input"),u=c("el-form-item"),J=c("el-form"),M=c("el-tabs"),R=c("el-card");return r(),o(R,{shadow:"never",class:"configure-box"},{default:n((()=>[y,d(M,{class:"custom-tabs",modelValue:Q.value,"onUpdate:modelValue":l[15]||(l[15]=e=>Q.value=e),onTabClick:X},{default:n((()=>[d(t,{label:"本地存储",name:"24"},{default:n((()=>[d("div",k,[_,d(a,{type:"primary",onClick:H},{default:n((()=>[b])),_:1})])])),_:1}),d(t,{label:"阿里云OSS",name:"7"},{default:n((()=>[d("div",f,[K,d(J,{model:i.value,ref:Y,rules:v.value,"label-width":"170px"},{default:n((()=>[d(u,{label:"Access Key ID",prop:"KeyId"},{default:n((()=>[d(s,{modelValue:i.value.KeyId,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value.KeyId=e),placeholder:"请输入Access Key ID"},null,8,["modelValue"]),h])),_:1}),d(u,{label:"Access Secret Key",prop:"secretKey"},{default:n((()=>[d(s,{modelValue:i.value.secretKey,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value.secretKey=e),placeholder:"请输入Access Secret Key"},null,8,["modelValue"]),V])),_:1}),d(u,{label:"存储空间（Bucket）",prop:"memory"},{default:n((()=>[d(s,{modelValue:i.value.memory,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value.memory=e),placeholder:"请输入Bucket"},null,8,["modelValue"]),I])),_:1}),d(u,{label:"访问Url"},{default:n((()=>[d(s,{modelValue:i.value.visit,"onUpdate:modelValue":l[4]||(l[4]=e=>i.value.visit=e),placeholder:"请输入Url"},null,8,["modelValue"]),g])),_:1}),d(u,null,{default:n((()=>[d(a,{type:"primary",onClick:E},{default:n((()=>[D])),_:1})])),_:1})])),_:1},8,["model","rules"])])])),_:1}),d(t,{label:"腾讯云COS",name:"5"},{default:n((()=>[S,d(J,{model:p.value,ref:L,rules:v.value,"label-width":"170px"},{default:n((()=>[d(u,{label:"App ID",prop:"AppID"},{default:n((()=>[d(s,{modelValue:p.value.AppID,"onUpdate:modelValue":l[5]||(l[5]=e=>p.value.AppID=e),placeholder:"请输入App ID"},null,8,["modelValue"]),x])),_:1}),d(u,{label:"Secret ID",prop:"secretID"},{default:n((()=>[d(s,{modelValue:p.value.secretID,"onUpdate:modelValue":l[6]||(l[6]=e=>p.value.secretID=e),placeholder:"请输入Secret ID"},null,8,["modelValue"]),A])),_:1}),d(u,{label:"Secret Key",prop:"secretKey"},{default:n((()=>[d(s,{modelValue:p.value.secretKey,"onUpdate:modelValue":l[7]||(l[7]=e=>p.value.secretKey=e),placeholder:"请输入Secret Key"},null,8,["modelValue"]),U])),_:1}),d(u,{label:"存储空间（Bucket）",prop:"memory"},{default:n((()=>[d(s,{modelValue:p.value.memory,"onUpdate:modelValue":l[8]||(l[8]=e=>p.value.memory=e),placeholder:"请输入Bucket"},null,8,["modelValue"]),q])),_:1}),d(u,{label:"访问Url"},{default:n((()=>[d(s,{modelValue:p.value.visit,"onUpdate:modelValue":l[9]||(l[9]=e=>p.value.visit=e),placeholder:"请输入Url"},null,8,["modelValue"]),w])),_:1}),d(u,{label:"所在地域"},{default:n((()=>[d(s,{modelValue:p.value.region,"onUpdate:modelValue":l[10]||(l[10]=e=>p.value.region=e),placeholder:"请输入样式代码"},null,8,["modelValue"]),C])),_:1}),d(u,null,{default:n((()=>[d(a,{type:"primary",onClick:F},{default:n((()=>[B])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1}),d(t,{label:"七牛云",name:"4"},{default:n((()=>[d(J,{model:m.value,ref:W,rules:v.value,"label-width":"170px"},{default:n((()=>[O,d(u,{label:"Access Key",prop:"accessKey"},{default:n((()=>[d(s,{modelValue:m.value.accessKey,"onUpdate:modelValue":l[11]||(l[11]=e=>m.value.accessKey=e),placeholder:"请输入App ID"},null,8,["modelValue"]),j])),_:1}),d(u,{label:"Secret Key",prop:"secretKey"},{default:n((()=>[d(s,{modelValue:m.value.secretKey,"onUpdate:modelValue":l[12]||(l[12]=e=>m.value.secretKey=e),placeholder:"请输入Secret Key"},null,8,["modelValue"]),T])),_:1}),d(u,{label:"存储空间（Bucket）",prop:"memory"},{default:n((()=>[d(s,{modelValue:m.value.memory,"onUpdate:modelValue":l[13]||(l[13]=e=>m.value.memory=e),placeholder:"请输入Bucket"},null,8,["modelValue"]),z])),_:1}),d(u,{label:"访问Url",prop:"visit"},{default:n((()=>[d(s,{modelValue:m.value.visit,"onUpdate:modelValue":l[14]||(l[14]=e=>m.value.visit=e),placeholder:"请输入Url"},null,8,["modelValue"]),N])),_:1}),d(u,null,{default:n((()=>[d(a,{type:"primary",onClick:G},{default:n((()=>[P])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}))}});Q.__scopeId="data-v-0ec18467";export default Q;
