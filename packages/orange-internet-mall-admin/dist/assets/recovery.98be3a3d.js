import{a as e,l as a,w as l,b as t,o as s,c as n,g as o,Z as c,F as i,P as r,u,G as d,s as p,t as m,f as v,k as f,p as g,X as y,h}from"./vendor.71e19cde.js";import{a as k,z as w,f as x,_ as b,K as _,N as C,O as z,P as V,Q as B}from"./index.a53c91c6.js";import{u as S}from"./use-grid-detector.bb68f42c.js";const T=f();g("data-v-a9f20a76");const P={class:"header-container"},j={class:"btn-box"},U=y("全部还原"),K=y("删除"),I={class:"oe-flex oe-row-between"},N={class:"material-list"},A={class:"image-edit-block"},F=y("裁剪"),G=y("查看"),O=o("i",{class:"el-icon-check"},null,-1),Q=o("i",{class:"el-icon-delete"},null,-1),X=o("span",{class:"text"},"彻底删除",-1),Z={class:"title"},q={class:"tips"},D={class:"control-container oe-flex oe-row-between"},E={class:"left-column"},H=y(" 全选当前页 "),J=y(" 还原 "),L=y(" 彻底删除 "),M={class:"view-resources"};h();var R=e({expose:[],setup(e){const{pagination:f,handleSizeChange:g,handleCurrentChange:y}=k(),h=S(),R=a("1"),W=a(!1),Y=a(""),$=a([]),ee=a(""),{isSelectAll:ae,selectIds:le}=w($),te=async()=>{const{data:e}=await B({type:R.value,page:f.currentPage,limit:f.pageSize,searchName:ee.value});0==e.code&&($.value=e.data.list,f.total=e.data.count,$.value.map((e=>{e.select=!1})))},se=async()=>{await b.confirm("确认还原吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const{data:e}=await _({recover_ids:le.value,type:R.value});0==e.code&&te()},ne=async e=>{await b.confirm("确认彻底删除文件吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const{data:a}=await C({delete_ids:e,type:R.value});0==a.code&&te()},oe=async()=>{await b.confirm("确认删除全部文件吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const{data:e}=await z({type:R.value});0==e.code&&te()},ce=async()=>{await b.confirm("确认还原全部文件吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const{data:e}=await V({type:R.value});0==e.code&&te()},ie=()=>{f.currentPage=1,te()};return l(R,(()=>{f.currentPage=1,te()})),l([()=>f.currentPage,()=>f.pageSize],(()=>te()),{immediate:!0}),T(((e,a)=>{const l=t("el-button"),k=t("el-tab-pane"),w=t("el-tabs"),b=t("el-input"),_=t("el-image"),C=t("el-col"),z=t("el-row"),V=t("el-empty"),B=t("el-checkbox"),S=t("el-link"),te=t("el-pagination"),re=t("el-main"),ue=t("el-container"),de=t("el-dialog"),pe=t("el-card");return s(),n(pe,{shadow:"never",class:"custom-crad-container"},{default:T((()=>[o("div",P,[o("div",j,[o(l,{type:"primary",onClick:ce},{default:T((()=>[U])),_:1}),o(l,{plain:"",onClick:oe},{default:T((()=>[K])),_:1})]),o("div",I,[o(w,{class:"custom-tabs",modelValue:R.value,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value=e)},{default:T((()=>[o(k,{label:"图片",name:"1"}),o(k,{label:"音频",name:"2"}),o(k,{label:"视频",name:"3"})])),_:1},8,["modelValue"]),o(b,{onKeyup:c(ie,["enter"]),placeholder:"请输入图标名称",style:{width:"auto"},modelValue:ee.value,"onUpdate:modelValue":a[2]||(a[2]=e=>ee.value=e),class:"search-inp"},{suffix:T((()=>[o("i",{class:"el-input__icon el-icon-search",style:{cursor:"pointer"},onClick:ie})])),_:1},8,["onKeyup","modelValue"])])]),o(ue,{class:"body-container"},{default:T((()=>[o(re,null,{default:T((()=>[o("div",N,[o(z,null,{default:T((()=>[(s(!0),n(i,null,r($.value,((e,a)=>(s(),n(C,{class:"image-edit-item",xs:4,sm:4,xl:3,key:a,onClick:a=>e.select=!e.select},{default:T((()=>[o("div",A,[o("div",{class:["image-mark oe-flex oe-row-center",{on:e.select}]},[o(l,{size:"xl"==u(h)?"":"mini",plain:""},{default:T((()=>[F])),_:1},8,["size"]),o(l,{size:"xl"==u(h)?"":"mini",type:"primary",onClick:d((a=>{return l=e.path.url,Y.value=l,void(W.value=!0);var l}),["stop"])},{default:T((()=>[G])),_:2},1032,["size","onClick"]),O,e.select?(s(),n("div",{key:0,class:"foot-btns",onClick:a=>ne([e.id])},[Q,X],8,["onClick"])):p("",!0)],2),"1"==R.value?(s(),n(_,{key:0,fit:"cover",src:e.path.url},null,8,["src"])):p("",!0),"3"==R.value?(s(),n("video",{key:1,src:e.path.url,controls:"controls"},null,8,["src"])):p("",!0),"2"==R.value?(s(),n("audio",{key:2,src:e.path.url},null,8,["src"])):p("",!0)]),o("div",Z,m(e.name),1),o("div",q,m(u(x)(e.createtime)),1)])),_:2},1032,["onClick"])))),128))])),_:1}),$.value.length?p("",!0):(s(),n(V,{key:0,class:"oe-m-t-30",description:"暂无数据"})),o("div",D,[o("div",E,[o(B,{modelValue:u(ae),"onUpdate:modelValue":a[3]||(a[3]=e=>v(ae)?ae.value=e:null)},{default:T((()=>[H])),_:1},8,["modelValue"]),o(S,{type:"primary",disabled:!u(le).length,href:"javascript:;",onClick:se},{default:T((()=>[J])),_:1},8,["disabled"]),o(S,{type:"primary",disabled:!u(le).length,href:"javascript:;",onClick:a[4]||(a[4]=e=>ne(u(le)))},{default:T((()=>[L])),_:1},8,["disabled"])]),o(te,{class:"right-column",onSizeChange:u(g),onCurrentChange:u(y),"page-sizes":u(f).pageSizes,"page-size":u(f).pageSize,background:"",layout:"total, prev, pager, next,sizes, jumper",total:u(f).total,"current-page":u(f).currentPage},null,8,["onSizeChange","onCurrentChange","page-sizes","page-size","total","current-page"])])])])),_:1})])),_:1}),o("div",M,[o(de,{modelValue:W.value,"onUpdate:modelValue":a[5]||(a[5]=e=>W.value=e),title:"查看",width:"580px"},{default:T((()=>["1"==R.value?(s(),n(_,{key:0,fit:"cover",src:Y.value},null,8,["src"])):p("",!0),"3"==R.value?(s(),n("video",{key:1,controls:"controls",src:Y.value},null,8,["src"])):p("",!0),"2"==R.value?(s(),n("audio",{key:2,src:Y.value,controls:"controls"},null,8,["src"])):p("",!0)])),_:1},8,["modelValue"])])])),_:1})}))}});R.__scopeId="data-v-a9f20a76";export default R;
