import{a as e,l,b as a,o as s,c as i,g as t,F as c,P as n,t as o,k as u,p as d,h as r,M as v,V as m,s as p,X as h,u as b}from"./vendor.71e19cde.js";import{Z as f,u as g,U as y,l as x,w as _,M as k,a8 as C}from"./index.a53c91c6.js";import{l as w}from"./options.119c0fd3.js";import{_ as L}from"./LinkItem.c2fdbd3b.js";import{_ as j}from"./previewLevel3.b10135f4.js";import{n as V}from"./nzh.f3d19486.js";const q=u();d("data-v-4a7e81fc");const G={class:"container"},I={class:"sidebar"},U={class:"list"},S={class:"banner"},z={class:"items"},A={class:"product"},E=t("div",{style:{width:"30%"}},null,-1),F=t("div",{style:{width:"30%"}},null,-1);r();var M=e({expose:[],props:{tableList:{type:Array,required:!0},banner:{type:String,required:!0}},setup(e){const u=l(0);return q(((l,d)=>{const r=a("el-image"),v=a("mobile-emulator");return s(),i(v,null,{default:q((()=>{var l;return[t("div",G,[t("div",I,[(s(!0),i(c,null,n(e.tableList,((e,l)=>(s(),i("div",{class:["sidebar-item",{active:u.value==l}],key:l,onClick:e=>u.value=l},o(e.name),11,["onClick"])))),128))]),t("div",U,[t("div",S,[t(r,{fit:"cover",src:e.banner},null,8,["src"])]),t("div",z,[(s(!0),i(c,null,n(null==(l=e.tableList[u.value])?void 0:l.children,((e,l)=>(s(),i("div",{class:"item",key:l},[t("div",A,[t(r,{fit:"cover",src:e.thumb},null,8,["src"])]),t("span",null,o(e.name),1)])))),128)),E,F])])])]})),_:1})}))}});M.__scopeId="data-v-4a7e81fc";const T=u();d("data-v-64e100f8");const D={class:"container"},P={class:"sidebar"},X={class:"list"},Z={class:"banner"},B=t("div",{class:"image-slot"},[t("i",{class:"el-icon-picture-outline"})],-1),H={class:"name"};r();var J=e({expose:[],props:{tableList:{type:Array,required:!0},banner:{type:String,required:!0}},setup(e){const u=l(0);return T(((l,d)=>{const r=a("el-image"),v=a("mobile-emulator");return s(),i(v,null,{default:T((()=>{var l;return[t("div",D,[t("div",P,[(s(!0),i(c,null,n(e.tableList,((e,l)=>(s(),i("div",{class:["sidebar-item",{active:u.value==l}],key:l,onClick:e=>u.value=l},o(e.name),11,["onClick"])))),128))]),t("div",X,[t("div",Z,[t(r,{fit:"cover",src:e.banner},null,8,["src"])]),(s(!0),i(c,null,n(null==(l=e.tableList[u.value])?void 0:l.children,(e=>(s(),i("div",{class:"items",key:e.id},[t(r,{fit:"cover",src:e.thumb},{error:T((()=>[B])),_:2},1032,["src"]),t("span",H,o(e.name),1)])))),128))])])]})),_:1})}))}});J.__scopeId="data-v-64e100f8";const K=u();d("data-v-2e0b4e74");const N={class:"container"},O={class:"list"},Q={class:"banner"},R={class:"items"},W={class:"product"},Y=t("div",{style:{width:"17%",margin:"0 4% 10px"}},null,-1),$=t("div",{style:{width:"17%",margin:"0 4% 10px"}},null,-1),ee=t("div",{style:{width:"17%",margin:"0 4% 10px"}},null,-1);r();var le=e({expose:[],props:{tableList:{type:Array,required:!0},banner:{type:String,required:!0}},setup:e=>(l(0),K(((l,o)=>{const u=a("el-image"),d=a("mobile-emulator");return s(),i(d,null,{default:K((()=>[t("div",N,[t("div",O,[t("div",Q,[t(u,{fit:"cover",src:e.banner},null,8,["src"])]),t("div",R,[(s(!0),i(c,null,n(e.tableList,((e,l)=>(s(),i("div",{class:"item",key:l},[t("div",W,[t(u,{fit:"cover",src:e.thumb},null,8,["src"])])])))),128)),Y,$,ee])])])])),_:1})})))});le.__scopeId="data-v-2e0b4e74";const ae=u();d("data-v-5b8497b0");const se={class:"container"},ie={class:"sidebar"},te={class:"list"},ce={class:"banner"},ne={class:"item"},oe={class:"product"},ue={class:"information"},de={class:"title"},re={class:"bottom"},ve={class:"left"},me={class:"right"};r();var pe=e({expose:[],props:{tableList:{type:Array,required:!0},banner:{type:String,required:!0}},setup(e){const u=e,d=l(0),r=l([]),v=l([]),m=async e=>{const{data:l}=await f({limit:10,page:1,classId:e});v.value=l.data.data};function p(e){e.forEach((e=>{e.children?(r.value.push(e.id),p(e.children)):r.value.push(e.id)}))}setTimeout((()=>{var e,l,a;r.value.push(null==(e=u.tableList[0])?void 0:e.id),(null==(l=u.tableList[0])?void 0:l.children)&&p(null==(a=u.tableList[0])?void 0:a.children),m(r.value.join())}),300);return ae(((l,u)=>{const h=a("el-image"),b=a("mobile-emulator");return s(),i(b,null,{default:ae((()=>[t("div",se,[t("div",ie,[(s(!0),i(c,null,n(e.tableList,((e,l)=>(s(),i("div",{class:["sidebar-item",{active:d.value==l}],key:l,onClick:a=>((e,l)=>{r.value=[],d.value=e,r.value.push(l.id),l.children&&p(l.children),m(r.value.join())})(l,e)},o(e.name),11,["onClick"])))),128))]),t("div",te,[t("div",ce,[t(h,{fit:"cover",src:e.banner},null,8,["src"])]),(s(!0),i(c,null,n(v.value,((e,l)=>(s(),i("div",{class:"items",key:l},[t("div",ne,[t("div",oe,[t(h,{fit:"cover",src:e.main_picture},null,8,["src"])])]),t("div",ue,[t("div",de,o(e.title),1),t("div",re,[t("span",ve,"¥"+o(e.price),1),t("span",me,"销量: "+o(e.sales),1)])])])))),128))])])])),_:1})}))}});pe.__scopeId="data-v-5b8497b0";const he=u();d("data-v-f117abee");const be={class:"template-list"},fe={class:"icon-box"},ge=t("i",{class:"icon el-icon-close"},null,-1),ye={class:"info-text oe-flex"},xe=t("span",null,"模板1",-1),_e=t("i",{class:"ad-question-circle"},null,-1),ke={class:"icon-box"},Ce=t("i",{class:"icon el-icon-close"},null,-1),we={class:"info-text oe-flex"},Le=t("span",null,"模板2",-1),je=t("i",{class:"ad-question-circle"},null,-1),Ve={class:"template-list"},qe={class:"icon-box"},Ge=t("i",{class:"icon el-icon-close"},null,-1),Ie={class:"info-text oe-flex"},Ue=t("span",null,"模板1",-1),Se=t("i",{class:"ad-question-circle"},null,-1),ze={class:"icon-box"},Ae=t("i",{class:"icon el-icon-close"},null,-1),Ee={class:"info-text oe-flex"},Fe=t("span",null,"模板2",-1),Me=t("i",{class:"ad-question-circle"},null,-1),Te={class:"template-list"},De={class:"icon-box"},Pe=t("i",{class:"icon el-icon-close"},null,-1),Xe={class:"info-text oe-flex"},Ze=t("span",null,"模板1",-1),Be=t("i",{class:"ad-question-circle"},null,-1),He=t("div",{class:"title"},"宣传图片",-1),Je={class:"image-list"},Ke={key:0,class:"upload-image-container"},Ne=h("替换"),Oe=t("i",{class:"el-icon-plus"},null,-1),Qe=t("span",{class:"tips"},"添加图片",-1),Re={class:"linkChoice"},We=t("div",null,"图片链接",-1),Ye={class:"selector"},$e={class:"table-header-container"},el=t("div",{class:"oe-flex"},[t("i",{class:"el-icon-plus"}),h(" 新增一级分类 ")],-1),ll=t("div",{class:"table-header oe-flex"},[t("div",{style:{flex:"5%"}}),t("div",{style:{flex:"50%"}},"分类名称"),t("div",{style:{flex:"20%"}},"分类图片"),t("div",{style:{flex:"20%"}},"状态"),t("div",{style:{flex:"5%"}},"操作")],-1),al={key:0,class:"table-slot-item oe-flex"},sl=t("div",{style:{flex:"5%"},class:"oe-flex oe-row-between"},[t("i",{class:"ad-tableIcon icon"})],-1),il={style:{flex:"50%"}},tl={style:{flex:"20%"}},cl={class:"table-upload-image"},nl={key:0,class:"class-image"},ol={style:{flex:"20%"}},ul={style:{flex:"5%"}},dl=h(" 删除 "),rl=t("div",{class:"title"},"预览",-1),vl={class:"assembly-box"},ml={class:"button-box"},pl=h("取消"),hl=h("保存");r();var bl=e({expose:[],setup(e){const n=g();l("");const u=l(""),d=l(1),r=l([]),f=()=>{"1"==q.value?d.value=1:"2"==q.value?d.value=3:"3"==q.value&&(d.value=5)},q=l("1"),G=l({template_level:"",template_num:-1,category_img:[],datas:[]}),I=()=>{k({multiple:!1}).then((e=>{u.value=e[0].path.url}))},U=e=>{k({multiple:!1}).then((l=>{e.thumb=l[0].path.url}))},S=l(w);function z(e){e.forEach((e=>{e.children?(e.hideChildren=!1,z(e.children)):(e.children=[],e.hideChildren=!1)}))}y().then((e=>{const l=e.data.data;l.data.length>0&&(r.value=x.cloneDeep(l.data),z(r.value)),null==l.template_level?q.value="1":q.value=l.template_level.toString(),null==l.template_num?d.value=1:d.value=l.template_num,null==l.category_img||(u.value=l.category_img[0],S.value=l.category_img[1])}));const A=l([]),E=()=>{!function e(l){l.forEach((l=>{l.children?(delete l.hideChildren,e(l.children)):delete l.hideChildren}))}(r.value),G.value.datas=r.value,G.value.template_level=q.value,G.value.template_num=d.value,G.value.del_datas=A.value.join(),G.value.category_img.push(u.value),G.value.category_img.push(S.value),C(G.value).then((e=>{n.push("/commodity/classification")}))};return he(((e,l)=>{const g=a("el-tab-pane"),y=a("el-tabs"),x=a("el-image"),k=a("el-popover"),C=a("el-card"),w=a("el-col"),G=a("el-link"),z=a("el-button"),F=a("el-input"),T=a("el-switch"),D=a("el-scrollbar"),P=a("el-row");return s(),i(c,null,[t(P,{class:"classification-container",gutter:20},{default:he((()=>[t(w,{sm:24,xl:4},{default:he((()=>[t(C,{shadow:"never",class:"e-grid type-selects"},{default:he((()=>[t(y,{class:"custom-tabs",modelValue:q.value,"onUpdate:modelValue":l[1]||(l[1]=e=>q.value=e),onTabClick:f},{default:he((()=>[t(g,{label:"一级分类",name:"1"}),t(g,{label:"二级分类",name:"2"}),t(g,{label:"三级分类",name:"3"})])),_:1},8,["modelValue"]),v(t("div",be,[t("div",{onClick:l[2]||(l[2]=e=>d.value=1),class:"template-item"},[t("div",{class:["item-box",1==d.value?"active":""]},[v(t("div",fe,[ge],512),[[m,1==d.value]]),t(x,{class:"iii",src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-a1.jpg",style:{width:"120px",height:"135px"}})],2),t("div",ye,[xe,t(k,{placement:"right",width:50,trigger:"hover"},{reference:he((()=>[_e])),default:he((()=>[t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-hover-a2.jpg",class:"examples-img",style:{width:"100%",height:"400px"}})])),_:1})])]),t("div",{onClick:l[3]||(l[3]=e=>d.value=2),class:"template-item"},[t("div",{class:["item-box",2==d.value?"active":""]},[v(t("div",ke,[Ce],512),[[m,2==d.value]]),t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-a2.jpg",style:{width:"120px",height:"135px"}})],2),t("div",we,[Le,t(k,{placement:"right",width:50,trigger:"hover"},{reference:he((()=>[je])),default:he((()=>[t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-hover-a1.jpg",class:"examples-img",style:{width:"100%",height:"400px"}})])),_:1})])])],512),[[m,"1"==q.value]]),v(t("div",Ve,[t("div",{onClick:l[4]||(l[4]=e=>d.value=3),class:"template-item"},[t("div",{class:["item-box",3==d.value?"active":""]},[v(t("div",qe,[Ge],512),[[m,3==d.value]]),t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-b1.jpg",style:{width:"120px",height:"135px"}})],2),t("div",Ie,[Ue,t(k,{placement:"right",width:50,trigger:"hover"},{reference:he((()=>[Se])),default:he((()=>[t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-hover-b2.jpg",class:"examples-img",style:{width:"100%",height:"400px"}})])),_:1})])]),t("div",{onClick:l[5]||(l[5]=e=>d.value=4),class:"template-item"},[t("div",{class:["item-box",4==d.value?"active":""]},[v(t("div",ze,[Ae],512),[[m,4==d.value]]),t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-b2.jpg",style:{width:"120px",height:"135px"}})],2),t("div",Ee,[Fe,t(k,{placement:"right",width:50,trigger:"hover"},{reference:he((()=>[Me])),default:he((()=>[t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-hover-b1.jpg",class:"examples-img",style:{width:"100%",height:"400px"}})])),_:1})])])],512),[[m,"2"==q.value]]),v(t("div",Te,[t("div",{onClick:l[6]||(l[6]=e=>d.value=5),class:"template-item"},[t("div",{class:["item-box",5==d.value?"active":""]},[v(t("div",De,[Pe],512),[[m,5==d.value]]),t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-c1.jpg",style:{width:"120px",height:"135px"}})],2),t("div",Xe,[Ze,t(k,{placement:"right",width:50,trigger:"hover"},{reference:he((()=>[Be])),default:he((()=>[t(x,{src:"/addons/weitshop_shop/weshop/public/home/backend/images/classificationGoods/class-hover-c1.jpg",class:"examples-img",style:{width:"100%",height:"400px"}})])),_:1})])])],512),[[m,"3"==q.value]])])),_:1})])),_:1}),t(w,{sm:13},{default:he((()=>[t(C,{shadow:"never",class:"e-grid propaganda-image"},{default:he((()=>[He,t("div",Je,[u.value?(s(),i("div",Ke,[t(x,{class:"upload-image",src:u.value},null,8,["src"]),t("i",{class:"el-icon-close",onClick:l[7]||(l[7]=e=>u.value="")}),t(G,{onClick:I,type:"primary",href:"javascript:;"},{default:he((()=>[Ne])),_:1})])):(s(),i("div",{key:1,onClick:I,class:"custom-upload-container"},[Oe,Qe])),t("div",Re,[We,t("div",Ye,[t(L,{class:"link-input",type:["commodity","classification"],modelValue:S.value,"onUpdate:modelValue":l[8]||(l[8]=e=>S.value=e)},null,8,["modelValue"])])])])])),_:1}),t(C,{shadow:"never",class:"e-grid classification-edit"},{default:he((()=>[t("div",$e,[t(z,{class:"oe-m-b-5",size:"small",type:"primary",onClick:l[9]||(l[9]=e=>r.value.unshift({name:"",status:1,thumb:"",hideChildren:!1,children:[]}))},{default:he((()=>[el])),_:1}),ll]),t(D,{class:"table-content"},{default:he((()=>[t(_,{style:{width:"100%"},modelValue:r.value,"onUpdate:modelValue":l[10]||(l[10]=e=>r.value=e)},{item:he((({nestedIndex:e,item:l,items:a,index:c})=>[e<q.value?(s(),i("div",al,[sl,t("div",il,[e?(s(),i("i",{key:0,class:"ad-Frame1 oe-m-r-14",style:{marginLeft:1==e?0:20*e+"px"}},null,4)):p("",!0),t(F,{modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,placeholder:"请输入名称",maxlength:"10","show-word-limit":""},null,8,["modelValue","onUpdate:modelValue"]),e<q.value-1?(s(),i(G,{key:1,href:"javascript:;",class:"oe-m-l-14",type:"primary",onClick:e=>{var a;return null==(a=l.children)?void 0:a.unshift({name:"",status:1,thumb:"",hideChildren:!1,children:[]})}},{default:he((()=>[h(" +新增"+o(b(V).cn.encodeS(e+2))+"级归类 ",1)])),_:2},1032,["onClick"])):p("",!0)]),t("div",tl,[t("div",cl,[l.thumb?(s(),i("div",nl,[t(x,{onClick:e=>U(l),fit:"cover",src:l.thumb},null,8,["onClick","src"]),t("i",{class:"el-icon-close",onClick:e=>l.thumb=""},null,8,["onClick"])])):(s(),i("i",{key:1,onClick:e=>U(l),class:"el-icon-plus"},null,8,["onClick"]))])]),t("div",ol,[t(T,{modelValue:l.status,"onUpdate:modelValue":e=>l.status=e,"active-value":1,"inactive-value":2,"active-color":"#13ce66",onChange:e=>(e=>{const l=a=>{a.forEach((a=>{a.status=e.status,a.children&&l(a.children)}))};e.children&&l(e.children)})(l)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),t("div",ul,[t(G,{href:"javascript:;",type:"primary",onClick:e=>((e,l,a)=>{e.splice(l,1),A.value.push(a.id)})(a,c,l)},{default:he((()=>[dl])),_:2},1032,["onClick"])])])):p("",!0)])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),t(w,{sm:8,xl:7},{default:he((()=>[t(C,{shadow:"never",class:"e-grid mobile-browse"},{default:he((()=>[rl,t("div",vl,[v(t(le,{banner:u.value,tableList:r.value},null,8,["banner","tableList"]),[[m,2==d.value]]),v(t(pe,{banner:u.value,tableList:r.value},null,8,["banner","tableList"]),[[m,1==d.value]]),v(t(M,{banner:u.value,tableList:r.value},null,8,["banner","tableList"]),[[m,4==d.value]]),v(t(J,{banner:u.value,tableList:r.value},null,8,["banner","tableList"]),[[m,3==d.value]]),v(t(j,{banner:u.value,tableList:r.value},null,8,["banner","tableList"]),[[m,5==d.value]])])])),_:1})])),_:1})])),_:1}),t(C,{shadow:"never",class:"fixed-footer"},{default:he((()=>[t("div",ml,[t(z,{onClick:l[11]||(l[11]=e=>b(n).push("/commodity/classification")),size:"small"},{default:he((()=>[pl])),_:1}),t(z,{onClick:E,type:"primary",size:"small"},{default:he((()=>[hl])),_:1})])])),_:1})],64)}))}});bl.__scopeId="data-v-f117abee";export default bl;
