import{j as e,az as s,f as l,ay as a}from"./index.a53c91c6.js";import{e as t,c as o,d as i,_ as c,a as u,b as d}from"./consignee-information.df2fa79c.js";import{_ as n}from"./logistics-data.45ba351c.js";import{a as r,e as v,b as p,o as f,c as x,g as m,t as y,u as b,f as k,k as _,p as g,X as h,h as w,l as C,m as I,s as D,F,P as R}from"./vendor.71e19cde.js";import{o as U,b as S}from"./order.28ff7f57.js";import{r as j}from"./member.c7d788b5.js";import"./reset-time.7778decd.js";const V=_();g("data-v-d8a8b7b6");const z={key:0,class:"noter-text"},N={key:1,class:"noter-text"},G={class:"dialog-footer"},O=h("取消"),E=h("确定");w();var q=r({expose:[],props:{show:{type:Boolean,required:!0},isIdentity:{type:Number,required:!0},remarksVal:{type:String,required:!0}},setup(e,{emit:s}){const l=e,a=v({get:()=>l.show,set:()=>s("update:show")});return V(((s,l)=>{const t=p("el-button"),o=p("el-dialog");return f(),x(o,{title:0==e.isIdentity?"查看卖家备注":"查看会员备注",modelValue:b(a),"onUpdate:modelValue":l[3]||(l[3]=e=>k(a)?a.value=e:null),width:"554px"},{footer:V((()=>[m("span",G,[m(t,{onClick:l[1]||(l[1]=e=>a.value=!1)},{default:V((()=>[O])),_:1}),m(t,{type:"primary",onClick:l[2]||(l[2]=e=>a.value=!1)},{default:V((()=>[E])),_:1})])])),default:V((()=>[e.remarksVal?(f(),x("div",z,y(e.remarksVal),1)):(f(),x("div",N,"暂无"))])),_:1},8,["title","modelValue"])}))}});q.__scopeId="data-v-d8a8b7b6";const B=_();g("data-v-c983357c");const L={class:"oe-flex process-box"},T={key:0,class:"oe-flex-col process-box-left"},X={class:"process"},A=m("div",{class:"process-text"}," 会员下单 ",-1),P={class:"process-date"},H={key:0,class:"process"},J=m("div",{class:"process-text"},"关闭订单",-1),K={key:0,class:"process-date"},M=m("div",{class:"triangle"},null,-1),Q={class:"process"},W={key:0,class:"process-date"},Y={key:1,class:"triangle"},Z={class:"process"},$={key:0,class:"process-date"},ee={key:1,class:"triangle"},se={class:"process"},le={key:0,class:"process-date"},ae=m("div",{class:"triangle"},null,-1),te={key:0,class:"process-date"},oe=m("div",{class:"triangle"},null,-1),ie={class:"oe-flex-1 order-information"},ce=m("div",{class:"right-title"},"订单信息",-1),ue={class:"information-list"},de={class:"oe-flex"},ne=m("span",null,"订单状态",-1),re={key:0,class:"e-left oe-flex-1"},ve={key:1,class:"e-left oe-flex-1"},pe={key:2,class:"e-left oe-flex-1"},fe={key:3,class:"e-left oe-flex-1"},xe={key:4,class:"e-left oe-flex-1"},me={class:"public-box oe-flex"},ye=m("span",null,"订单编号",-1),be={class:"e-left oe-flex-1"},ke={class:"public-box oe-flex"},_e=m("span",null,"订单来源",-1),ge={class:"e-left oe-flex-1"},he={class:"public-box oe-flex"},we=m("span",null,"支付状态",-1),Ce={key:0,class:"e-left oe-flex-1 hang-air"},Ie={key:1,class:"e-left oe-flex-1 paid"},De={class:"public-box oe-flex"},Fe=m("span",null,"支付方式",-1),Re={key:0,class:"e-left oe-flex-1"},Ue={key:1,class:"e-left oe-flex-1"},Se={key:0,class:"btn-box"},je=h("确认付款"),Ve=h("订单改价"),ze=h("关闭订单"),Ne={key:1,class:"btn-box"},Ge=h("确认发货"),Oe=h("退款"),Ee={key:2,class:"btn-box"},qe=h("确认收货"),Be={class:"oe-flex-1 receiving-address"},Le=m("div",{class:"right-title"},"会员及收货信息",-1),Te={class:"receiving-address-list"},Xe={class:"oe-flex"},Ae=m("span",null,"会员备注",-1),Pe=h("查看会员备注"),He={class:"public-box oe-flex"},Je=m("span",null,"配送方式",-1),Ke={key:0,class:"e-left oe-flex-1"},Me={key:1,class:"e-left oe-flex-1"},Qe={key:2,class:"e-left oe-flex-1"},We={class:"public-box oe-flex"},Ye=m("span",null,"收货人",-1),Ze={class:"e-left oe-flex-1"},$e={class:"public-box oe-flex"},es=m("span",null,"收货地址",-1),ss={class:"e-left oe-flex-1"},ls={class:"public-box oe-flex"},as=m("span",null,"手机号码",-1),ts={class:"e-left oe-flex-1"},os={class:"public-box logistics-box"},is=m("div",null,"物流信息",-1),cs={class:"logistics-box-right"},us={class:"e-left oe-flex-1"},ds=h(" 查看物流信息 "),ns={key:0,class:"btn-box"},rs=h("修改收货地址"),vs={key:1,class:"btn-box"},ps={class:"oe-flex-1 receiving-address"},fs=m("div",{class:"right-title"},"其他",-1),xs={key:0,class:"public-box oe-flex"},ms=m("span",null,"卖家备注",-1),ys=h(" 查看卖家备注 "),bs=m("div",{class:"product-title"},"商品信息",-1),ks=m("div",{class:"product-box oe-flex"},[m("div",{class:"oe-flex-2 list-box"},"商品"),m("div",{class:"oe-flex-1 list-box"},"售卖价"),m("div",{class:"oe-flex-1 list-box"},"数量"),m("div",{class:"oe-flex-1 list-box"},"商品规格"),m("div",{class:"oe-flex-1 list-box"},"优惠金额"),m("div",{class:"oe-flex-1 list-box"},"小计"),m("div",{class:"oe-flex-1 list-box"},"状态")],-1),_s={class:"oe-flex-2 oe-flex list-box"},gs={class:"content-left"},hs={class:"content-left-text"},ws=h("虚拟"),Cs=h("卡密"),Is=h("实体"),Ds=h("计时/次"),Fs=h("预约"),Rs=h("批发"),Us={class:"oe-flex-1 list-box"},Ss={class:"oe-flex-1 list-box"},js={class:"oe-flex-1 list-box"},Vs={class:"oe-flex-1 list-box"},zs={class:"oe-flex-1 list-box"},Ns={key:0,class:"oe-flex-1 list-box"},Gs={key:0,class:"oe-flex-1 list-box"},Os={key:1,class:"oe-flex-1 list-box"},Es={key:2,class:"oe-flex-1 list-box"},qs={key:3,class:"oe-flex-1 list-box"},Bs={class:"total-box"},Ls={class:"total-box-text1"},Ts={class:"total-box-text1"},Xs=m("div",{class:"total-box-text1"},"余额抵扣：¥0.00",-1),As=m("div",{class:"total-box-text1"},"积分抵扣：¥0.00",-1),Ps={class:"total-box-text2"};w();var Hs=r({expose:[],setup(r){const v=e(),k=C({refundState:!1,confirmReceipt:!1,deliverGoods:!1,priceChange:!1,logisticsData:!1,modifyLogistics:!1,consignee:!1,notes:!1,remarksState:!1,address:!1}),_=C([]),g=C([]),w=C(0),V=C([]),z=C({}),N=C(0),G=e=>{w.value=e,k.value.confirmReceipt=!0},O=async()=>{const{data:e}=await U({id:v.query.id});z.value=e.data.data[0];for(let s=0;s<g.value.length;s++)z.value.platform==g.value[s].code&&(z.value.sourceName=g.value[s].name);for(let s=0;s<_.value.length;s++)z.value.pay_type==_.value[s].key&&(z.value.payTypeName=_.value[s].name)},E=()=>{k.value.priceChange=!0},Hs=()=>{k.value.remarksState=!0},Js=()=>{k.value.deliverGoods=!0},Ks=()=>{k.value.address=!0},Ms=e=>{N.value=e,k.value.notes=!0};return s().then((e=>{_.value=e.data.data})),j({page:1,limit:100}).then((e=>{g.value=e.data.data.data})),I((()=>O())),B(((e,s)=>{const r=p("el-button"),v=p("el-col"),_=p("el-row"),g=p("el-card"),C=p("el-image"),I=p("el-tag");return f(),x(F,null,[m("div",L,[z.value?(f(),x("div",T,[m("div",X,[A,m("div",P,y(b(l)(z.value.createtime)),1)]),-1==z.value.status?(f(),x("div",H,[J,z.value.cancel_time?(f(),x("div",K,y(b(l)(z.value.cancel_time)),1)):D("",!0),M])):(f(),x(F,{key:1},[m("div",Q,[m("div",{class:["process-text",0==z.value.status?"current-status":""]}," 会员付款 ",2),z.value.status>=1?(f(),x("div",W,y(b(l)(z.value.paytime)),1)):D("",!0),0==z.value.status?(f(),x("div",Y)):D("",!0)]),m("div",Z,[m("div",{class:["process-text",1==z.value.status?"current-status":""]}," 卖家发货 ",2),z.value.status>=1?(f(),x(F,{key:0},[z.value.status>=2?(f(),x("div",$,y(b(l)(z.value.shipments_time)),1)):D("",!0),1==z.value.status?(f(),x("div",ee)):D("",!0)],64)):D("",!0)]),m("div",se,[m("div",{class:["process-text",2==z.value.status?"current-status":""]}," 交易完成 ",2),2==z.value.status?(f(),x(F,{key:0},[3==z.value.status?(f(),x("div",le,y(b(l)(z.value.take_delivery_time)),1)):D("",!0),ae],64)):D("",!0),3==z.value.status?(f(),x(F,{key:1},[3==z.value.status?(f(),x("div",te,y(b(l)(z.value.take_delivery_time)),1)):D("",!0),oe],64)):D("",!0)])],64))])):D("",!0),m(g,{shadow:"never",class:"oe-flex-1 process-box-right"},{default:B((()=>[m(_,{class:"information-box"},{default:B((()=>[m(v,{xl:8,md:9,xs:9,sm:9},{default:B((()=>[m("div",ie,[ce,m("div",ue,[m("div",de,[ne,"1"==z.value.status?(f(),x("span",re,"等待发货")):D("",!0),"2"==z.value.status?(f(),x("span",ve,"等待收货")):D("",!0),"0"==z.value.status?(f(),x("span",pe,"等待付款")):D("",!0),"-1"==z.value.status?(f(),x("span",fe,"已关闭")):D("",!0),"3"==z.value.status?(f(),x("span",xe,"已完成")):D("",!0)]),m("div",me,[ye,m("span",be,y(z.value.order_sn),1)]),m("div",ke,[_e,m("span",ge,y(z.value.sourceName),1)]),m("div",he,[we,0==z.value.status?(f(),x("span",Ce,"未支付")):D("",!0),z.value.status>0?(f(),x("span",Ie,"已支付")):D("",!0)]),m("div",De,[Fe,z.value.pay_type&&z.value.status>0?(f(),x("span",Re,y(z.value.payTypeName),1)):(f(),x("span",Ue,"无"))])]),"0"==z.value.status?(f(),x("div",Se,[m(r,{type:"primary",onClick:s[1]||(s[1]=e=>G(1))},{default:B((()=>[je])),_:1}),m(r,{onClick:E},{default:B((()=>[Ve])),_:1}),m(r,{onClick:Hs},{default:B((()=>[ze])),_:1})])):D("",!0),"1"==z.value.status?(f(),x("div",Ne,[m(r,{type:"primary",onClick:Js},{default:B((()=>[Ge])),_:1}),m(r,{onClick:s[2]||(s[2]=e=>k.value.refundState=!0)},{default:B((()=>[Oe])),_:1})])):D("",!0),"2"==z.value.status?(f(),x("div",Ee,[m(r,{type:"primary",onClick:s[3]||(s[3]=e=>G(0))},{default:B((()=>[qe])),_:1})])):D("",!0)])])),_:1}),m(v,{xl:8,md:9,xs:9,sm:9},{default:B((()=>[m("div",Be,[Le,m("div",Te,[m("div",Xe,[Ae,m(r,{plain:"",class:"e-left e-color",onClick:s[4]||(s[4]=e=>Ms(1))},{default:B((()=>[Pe])),_:1})]),m("div",He,[Je,"1"==z.value.delivery_type?(f(),x("span",Ke,"快递")):D("",!0),"3"==z.value.delivery_type?(f(),x("span",Me,"自提")):D("",!0),"2"==z.value.delivery_type?(f(),x("span",Qe,"同城配送")):D("",!0)]),m("div",We,[Ye,m("span",Ze,y(z.value.consignee),1)]),m("div",$e,[es,m("span",ss,y(z.value.province_name)+" "+y(z.value.city_name)+" "+y(z.value.area_name)+" "+y(z.value.address),1)]),m("div",ls,[as,m("span",ts,y(z.value.phone),1)]),m("div",os,[is,m("div",cs,[(f(!0),x(F,null,R(z.value.orderGoods,((e,s)=>(f(),x("div",{key:Number(s)},[e.express_name?(f(),x(F,{key:0},[m("span",us,[h(y(e.express_name)+" "+y(e.express_no)+" ",1),m("i",{class:"e-color",style:{cursor:"pointer"},onClick:s=>(e=>{const s=document.createElement("input");document.body.appendChild(s),s.setAttribute("value",e),s.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(s),a({title:"成功",message:"复制成功",type:"success",duration:2e3})})(e.express_no)}," 复制 ",8,["onClick"])]),m(r,{onClick:s=>(async(e,s)=>{const{data:l}=await S({send_express_company_code:e,send_express_sn:s});V.value=l.data,k.value.logisticsData=!0})(e.express_code,e.express_no)},{default:B((()=>[ds])),_:2},1032,["onClick"])],64)):D("",!0)])))),128))])])]),"1"==z.value.status?(f(),x("div",ns,[m(r,{onClick:Ks},{default:B((()=>[rs])),_:1})])):D("",!0),"2"==z.value.status?(f(),x("div",vs)):D("",!0)])])),_:1}),m(v,{xl:8,md:6,xs:6,sm:6},{default:B((()=>[m("div",ps,[fs,z.value.status>=1?(f(),x("div",xs,[ms,m(r,{plain:"",class:"e-left e-color",onClick:s[5]||(s[5]=e=>Ms(0))},{default:B((()=>[ys])),_:1})])):D("",!0)])])),_:1})])),_:1})])),_:1})]),m(_,null,{default:B((()=>[m(v,null,{default:B((()=>[m(g,{shadow:"never",class:"product e-grid"},{default:B((()=>[bs,ks,(f(!0),x(F,null,R(z.value.orderGoods,((e,s)=>(f(),x("div",{class:"product-content oe-flex",key:Number(s)},[m("div",_s,[m(C,{src:e.goods_image,fit:"cover",class:"content-img"},null,8,["src"]),m("div",gs,[m("div",hs,y(e.goods_title),1),"2"==z.value.type?(f(),x(I,{key:0,size:"mini",color:"#D4EBFF",style:{color:"#55adff"}},{default:B((()=>[ws])),_:1})):D("",!0),"3"==z.value.type?(f(),x(I,{key:1,size:"mini",color:"#FBDDD1",style:{color:"#ec672e"}},{default:B((()=>[Cs])),_:1})):D("",!0),"1"==z.value.type?(f(),x(I,{key:2,size:"mini",color:"#E4FFF8",style:{color:"#1ad370"}},{default:B((()=>[Is])),_:1})):D("",!0),"4"==z.value.type?(f(),x(I,{key:3,size:"mini",color:"#F4DFD3",style:{color:"#ef864c"}},{default:B((()=>[Ds])),_:1})):D("",!0),"5"==z.value.type?(f(),x(I,{key:4,size:"mini",color:"#F8E8CF",style:{color:"#dd8a0d"}},{default:B((()=>[Fs])),_:1})):D("",!0),"6"==z.value.type?(f(),x(I,{key:5,size:"mini",color:"#E9D4F9",style:{color:"#8f29df"}},{default:B((()=>[Rs])),_:1})):D("",!0)])]),m("div",Us,"¥"+y(e.goods_original_price),1),m("div",Ss,"X"+y(e.goods_num),1),m("div",js,y(0==e.goods_sku_text?"无":e.goods_sku_text),1),m("div",Vs,"¥"+y(e.discount_fee),1),m("div",zs,"¥"+y((e.goods_price*e.goods_num).toFixed(2)),1),"0"==z.value.status?(f(),x("div",Ns,"等待付款")):D("",!0),"0"!=z.value.status?(f(),x(F,{key:1},["1"==e.dispatch_status?(f(),x("div",Gs,"等待发货")):D("",!0),"2"==e.dispatch_status?(f(),x("div",Os,"等待收货")):D("",!0),"-1"==e.dispatch_status?(f(),x("div",Es,"已关闭")):D("",!0),"3"==e.dispatch_status?(f(),x("div",qs,"已完成")):D("",!0)],64)):D("",!0)])))),128)),m("div",Bs,[m("div",Ls,"商品总计：¥"+y(z.value.goods_amount),1),m("div",Ts,"运费：¥"+y(z.value.dispatch_amount),1),Xs,As,m("div",Ps,"实付款：¥"+y(z.value.pay_fee),1)])])),_:1})])),_:1})])),_:1}),m(t,{currentItem:z.value,show:k.value.consignee,"onUpdate:show":s[6]||(s[6]=e=>k.value.consignee=e)},null,8,["currentItem","show"]),m(n,{show:k.value.logisticsData,"onUpdate:show":s[7]||(s[7]=e=>k.value.logisticsData=e),logisticsList:V.value},null,8,["show","logisticsList"]),m(o,{show:k.value.confirmReceipt,"onUpdate:show":s[8]||(s[8]=e=>k.value.confirmReceipt=e),determine:w.value,currentItem:z.value,onResetOrderDetails:O},null,8,["show","determine","currentItem"]),m(q,{show:k.value.notes,"onUpdate:show":s[9]||(s[9]=e=>k.value.notes=e),isIdentity:N.value,remarksVal:0==N.value?z.value.memo:z.value.remark},null,8,["show","isIdentity","remarksVal"]),m(i,{show:k.value.priceChange,"onUpdate:show":s[10]||(s[10]=e=>k.value.priceChange=e),onResetOrderDetails:O,option:z.value},null,8,["show","option"]),m(c,{show:k.value.remarksState,"onUpdate:show":s[11]||(s[11]=e=>k.value.remarksState=e),close:1,onResetOrderDetails:O,currentItem:z.value},null,8,["show","currentItem"]),m(t,{show:k.value.address,"onUpdate:show":s[12]||(s[12]=e=>k.value.address=e),onResetOrderDetails:O,currentItem:z.value},null,8,["show","currentItem"]),m(u,{show:k.value.deliverGoods,"onUpdate:show":s[13]||(s[13]=e=>k.value.deliverGoods=e),currentItem:z.value,onResetOrderDetails:O},null,8,["show","currentItem"]),m(d,{show:k.value.refundState,"onUpdate:show":s[14]||(s[14]=e=>k.value.refundState=e),onResetOrderDetails:O,currentItem:z.value},null,8,["show","currentItem"])],64)}))}});Hs.__scopeId="data-v-c983357c";export default Hs;
