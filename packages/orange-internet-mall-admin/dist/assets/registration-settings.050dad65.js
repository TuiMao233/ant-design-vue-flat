import{u as e,aB as a,aC as l,c as s}from"./index.a53c91c6.js";import{a as t,r as o,l as n,m as d,b as u,o as c,c as r,g as i,u as v,F as m,P as b,X as p,t as f,k as _,p as h,h as g}from"./vendor.71e19cde.js";const y=_();h("data-v-53743e4f");const k={class:"card-title"},x=i("h3",null,"绑定手机号",-1),w={class:"tips-text"},V=p("当开关开启时，注册账号时需要手机号验证码验证，需要先配置短信接口，"),C={class:"el-flex-layout"},S=p("保存"),j=p("取消");g();var U=t({expose:[],setup(t){const _=e(),h=o({name:""}),g=n(!1);n();const U=n([]),B=n([{val:"会员领取优惠券",label:"member_discounts"},{val:"会员签到",label:"member_sign"},{val:"加入购物车",label:"shopping_trolley"},{val:"点击立即购买",label:"buy"},{val:"点击提交订单",label:"order"}]),F=async()=>{const{data:e}=await a({key:"registerSet"});U.value=e.data.scene,g.value="1"==e.data.bind_phone},I=async()=>{const e={scene:U.value,bind_phone:1==g.value?"1":"0"};await l("registerSet",e),s.success("操作成功"),F()};return d((()=>F())),y(((e,a)=>{const l=u("el-checkbox"),s=u("el-checkbox-group"),t=u("el-form-item"),o=u("el-switch"),n=u("el-form"),d=u("el-button"),M=u("el-card");return c(),r(M,{shadow:"never",class:"registration-settings"},{default:y((()=>[i("div",k,[x,i(n,{model:v(h),"label-width":"120px"},{default:y((()=>[i(t,{label:"绑定场景"},{default:y((()=>[i(s,{modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e)},{default:y((()=>[(c(!0),r(m,null,b(B.value,(e=>(c(),r(l,{label:e.label,key:e.val},{default:y((()=>[p(f(e.val),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(t,{label:"注册绑定手机号"},{default:y((()=>[i(o,{modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e)},null,8,["modelValue"]),i("div",w,[V,i("span",{onClick:a[3]||(a[3]=e=>(e=>{const{href:a}=_.resolve({path:e});window.open(a,"_blank")})("/system/other-settings/SMS-configuration"))},"去配置")])])),_:1})])),_:1},8,["model"])]),i("div",C,[i(d,{type:"primary",onClick:I},{default:y((()=>[S])),_:1}),i(d,{onClick:F},{default:y((()=>[j])),_:1})])])),_:1})}))}});U.__scopeId="data-v-53743e4f";export default U;
