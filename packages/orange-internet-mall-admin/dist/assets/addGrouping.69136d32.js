import{j as e,u as a,W as l,ac as s,c as r}from"./index.a53c91c6.js";import{a as t,l as o,r as u,b as d,o as m,c as n,g as c,u as i,k as p,p as g,X as b,h}from"./vendor.71e19cde.js";const v=p();g("data-v-00e967b8");const f={class:"box-card"},x={class:"footer-button"},_=b("保存"),w=b("取消");h();var y=t({expose:[],setup(t){const p=e(),g=a(),b=p.query.id,h=o([]),y=u({name:"",summarize:"",id:""});o([{value:0,label:"默认 "},{value:1,label:"新增时间升序"},{value:2,label:"新增时间降序"},{value:3,label:"浏览量降序"},{value:4,label:"销量降序"}]);const z=u({name:[{required:!0,message:"请输入分组名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}]});null!=b&&l({id:b}).then((e=>{const a=e.data.data.data[0],l=a.goods;y.name=a.name,y.summarize=a.summarize,l.forEach((e=>{h.value.push({label:e.title,image:e.video_cover,value:e.id,price:e.price})}))}));const V=()=>{null!=b?(y.id=b,s(y).then((e=>{0==e.data.code?(g.push("grouping"),r.success("编辑成功")):r.error({message:"服务端异常,添加失败",type:"error"})}))):s(y).then((e=>{0==e.data.code?(g.push("grouping"),r.success("新增成功")):r.error({message:"服务端异常,添加失败",type:"error"})}))};return v(((e,a)=>{const l=d("el-input"),s=d("el-form-item"),r=d("el-form"),t=d("el-button"),o=d("el-card");return m(),n("div",f,[c(o,{shadow:"never",class:"left-card custom-crad-container"},{default:v((()=>[c(r,{model:i(y),rules:i(z),"label-width":"80px",class:"demo-ruleForm"},{default:v((()=>[c(s,{label:"分组名称",prop:"name"},{default:v((()=>[c(l,{type:"text",class:"w-percentage",modelValue:i(y).name,"onUpdate:modelValue":a[1]||(a[1]=e=>i(y).name=e),maxlength:"20","show-word-limit":""},null,8,["modelValue"])])),_:1}),c(s,{label:"概述"},{default:v((()=>[c(l,{type:"textarea",class:"w-percentage",placeholder:"请输入分组简介内容",modelValue:i(y).summarize,"onUpdate:modelValue":a[2]||(a[2]=e=>i(y).summarize=e),maxlength:"140","show-word-limit":""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),c("div",x,[c(t,{size:"small btn",type:"primary",onClick:V},{default:v((()=>[_])),_:1}),c(t,{size:"small btn",onClick:a[3]||(a[3]=e=>i(g).push("grouping"))},{default:v((()=>[w])),_:1})])])),_:1})])}))}});y.__scopeId="data-v-00e967b8";export default y;
