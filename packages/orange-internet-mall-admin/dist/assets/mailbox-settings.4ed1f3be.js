import{aC as e,c as a,aB as l}from"./index.a53c91c6.js";import{a as t,l as u,r as s,m as d,b as n,o,c as i,g as m,s as r,u as c,k as p,p as v,X as b,h as f}from"./vendor.71e19cde.js";const y=p();v("data-v-71f7124a");const h={class:"integral-box"},g=b("QQ邮箱"),V=b("网易163邮箱"),_={key:0,class:"tips-box"},S=b("如未申请QQ邮箱的SMTP身份验证码，请点击 "),k=m("a",{href:"https://mail.qq.com/",target:"_blank"},"如何获取Smtp申请验证码",-1),w=b(" 进行申请"),j={key:1,class:"tips-box"},N=b(" 如未申请网易163邮箱的SMTP身份验证码，请点击 "),Q=m("a",{href:"https://mail.163.com/",target:"_blank"},"如何获取Smtp申请验证码",-1),x=b(" 进行申请 "),q=b("保存并生效");f();var U=t({expose:[],setup(t){const p=u(),v=s({type:[{required:!0,message:"请选择类型",trigger:"blur"}],senderName:[{required:!0,message:"请输入发件人名称",trigger:"blur"}],authentication:[{required:!0,message:"请输入Smtp身份验证码",trigger:"blur"}]}),b=u({open:!0,type:0,senderName:"",emailSubject:"",authentication:"",encryption:!1,testAddress:""}),f=()=>{p.value.validate((e=>{e&&U()}))},U=async()=>{const l=8==b.value.type?"QQemail":"163email",t={email:b.value.senderName,password:b.value.authentication,nickname:b.value.emailSubject};await e(l,t),a.success("操作成功"),M()},C=async e=>{if(8==e){const{data:e}=await l({key:"QQemail"}),a=e.data;b.value.senderName=a.email,b.value.authentication=a.password,b.value.emailSubject=a.nickname}else{const{data:e}=await l({key:"163email"}),a=e.data;b.value.senderName=a.email,b.value.authentication=a.password,b.value.emailSubject=a.nickname}},M=async()=>{const{data:e}=await l({key:"email"}),a=e.data;b.value.type=a.config_id,b.value.senderName=a.email,b.value.authentication=a.password,b.value.emailSubject=a.nickname};return d((()=>M())),y(((e,a)=>{const l=n("el-radio"),t=n("el-form-item"),u=n("el-input"),s=n("el-button"),d=n("el-card"),U=n("el-form");return o(),i("div",h,[m(U,{ref:p,class:"setting-from",rules:c(v),model:b.value,"label-width":"150px"},{default:y((()=>[m(d,{shadow:"never"},{default:y((()=>[m(t,{label:"选择邮箱类型",prop:"type"},{default:y((()=>[m(l,{modelValue:b.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value.type=e),label:8,onChange:C},{default:y((()=>[g])),_:1},8,["modelValue"]),m(l,{modelValue:b.value.type,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value.type=e),label:25,onChange:C},{default:y((()=>[V])),_:1},8,["modelValue"])])),_:1}),m(t,{label:"发件人名称",prop:"senderName"},{default:y((()=>[m(u,{modelValue:b.value.senderName,"onUpdate:modelValue":a[3]||(a[3]=e=>b.value.senderName=e),placeholder:"请输入发件人名称"},null,8,["modelValue"])])),_:1}),m(t,{label:"发送邮件主题"},{default:y((()=>[m(u,{modelValue:b.value.emailSubject,"onUpdate:modelValue":a[4]||(a[4]=e=>b.value.emailSubject=e),placeholder:"请输入发送邮件主题"},null,8,["modelValue"])])),_:1}),m(t,{label:"Smtp身份验证码",prop:"authentication"},{default:y((()=>[m(u,{modelValue:b.value.authentication,"onUpdate:modelValue":a[5]||(a[5]=e=>b.value.authentication=e),placeholder:"请输入Smtp身份验证码"},null,8,["modelValue"]),8==b.value.type?(o(),i("div",_,[S,k,w])):r("",!0),25==b.value.type?(o(),i("div",j,[N,Q,x])):r("",!0)])),_:1}),m(t,null,{default:y((()=>[m(s,{type:"primary",onClick:f},{default:y((()=>[q])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"])])}))}});U.__scopeId="data-v-71f7124a";export default U;
