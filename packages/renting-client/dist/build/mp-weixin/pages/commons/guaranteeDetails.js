(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/commons/guaranteeDetails"],{"0e74":function(t,e,n){"use strict";n.r(e);var u=n("4cb8"),a=n.n(u);for(var i in u)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return u[t]}))}(i);e["default"]=a.a},"23d4":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return u}));var u={uCard:function(){return n.e("node-modules/uview-ui/components/u-card/u-card").then(n.bind(null,"d505"))},uTag:function(){return n.e("node-modules/uview-ui/components/u-tag/u-tag").then(n.bind(null,"2ad6"))},uImage:function(){return n.e("node-modules/uview-ui/components/u-image/u-image").then(n.bind(null,"9df5"))},uSteps:function(){return n.e("node-modules/uview-ui/components/u-steps/u-steps").then(n.bind(null,"be74"))},uModal:function(){return n.e("node-modules/uview-ui/components/u-modal/u-modal").then(n.bind(null,"078c"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"d9ad"))}},a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.getStatusText(t.detail.status)),u=t.getStatusText(t.detail.status),a=t.$format(t.detail.update_time),i=t.getStatusText(t.detail.status),o=t.getStatusText(t.detail.status),r=t.$format(t.detail.update_time);t._isMounted||(t.e0=function(e){t.showCancel=!0}),t.$mp.data=Object.assign({},{$root:{m0:n,m1:u,m2:a,m3:i,m4:o,m5:r}})},i=[]},"4cb8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=s(n("a34a")),a=n("79f6"),i=s(n("0613")),o=n("d257"),r=s(n("66fd"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,u,a,i,o){try{var r=t[i](o),s=r.value}catch(c){return void n(c)}r.done?e(s):Promise.resolve(s).then(u,a)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(u,a){var i=t.apply(e,n);function o(t){c(i,u,a,o,r,"next",t)}function r(t){c(i,u,a,o,r,"throw",t)}o(void 0)}))}}var l=r.default.extend({components:{},data:function(){return{showCancel:!1,type:"user",detail:{},stepsList:[]}},computed:{},methods:{getStatusText:function(t){var e={0:{color:"#FF7E5F",text:"待处理"},1:{color:"#FF0000",text:"处理中"},2:{color:"#23B929",text:"已完成"},"-1":{color:"#9E9E9E",text:"已取消"}};return e[t]},onPreviewImage:function(e){t.previewImage({current:e,urls:this.detail.images_text})},initDetail:function(t){var e=this;return d(u.default.mark((function n(){var i,o,r;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i="user"==e.type?a.reqRepairsDetail:a.reqAdminRepairsDetail,n.next=3,i(t);case 3:o=n.sent,r=o.data,4==r.status?r.status=-1:r.status-=1,e.stepsList=[{name:"报修(".concat(e.$format(r.createtime),")")},{name:"处理中(".concat(e.$format(r.repairs_time),")")},{name:"已完成(".concat(e.$format(-1==r.status?0:r.finish_time),")")}],r.update_time=r.finish_time||r.dispose_time||r.repairs_time||r.createtime,e.detail=r;case 9:case"end":return n.stop()}}),n)})))()},onCancelRepair:function(){var t=this;return d(u.default.mark((function e(){var n;return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.reqRepairsCancel)(t.detail.id);case 2:return e.next=4,(0,o.showToast)({title:"取消成功!"});case 4:t.initDetail(t.detail.id),t.$uma.trackEvent("Um_Event_Item_Unrepair",{Um_Key_ItemName:t.detail.title,Um_Key_ItemPhone:t.detail.tel,Um_Key_ItemDeclare:t.detail.declare,Um_Key_UserID:null===(n=i.default.state.user.info)||void 0===n?void 0:n.user_id.toString()});case 6:case"end":return e.stop()}}),e)})))()},onEditRepair:function(t){var e=this;return d(u.default.mark((function n(){return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,a.reqAdminEditRepairs)(e.detail.id,t);case 2:return n.next=4,(0,o.showToast)({title:"提交成功!"});case 4:e.initDetail(e.detail.id);case 5:case"end":return n.stop()}}),n)})))()}},watch:{},onLoad:function(t){this.type=t.type||this.type,this.initDetail(t.id)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){t.stopPullDownRefresh()},onReachBottom:function(){}});e.default=l}).call(this,n("543d")["default"])},"6c4a":function(t,e,n){"use strict";(function(t){n("6cdc"),n("921b");var e=u(n("cf24"));function u(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},b658:function(t,e,n){},cf24:function(t,e,n){"use strict";n.r(e);var u=n("23d4"),a=n("0e74");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("ef0a");var o,r=n("f0c5"),s=Object(r["a"])(a["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],o);e["default"]=s.exports},ef0a:function(t,e,n){"use strict";var u=n("b658"),a=n.n(u);a.a}},[["6c4a","common/runtime","common/vendor"]]]);