(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shopOrders-cashier"],{"0d3b6":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 文字溢出处理(一行) */\n/* 文字溢出处理(多行) */\n/* 填充页面 */\n/* 除了最后一个元素 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 全局容器 */uni-page-body[data-v-18df9027]{height:100%}.cashier[data-v-18df9027]{min-height:100%;background-color:#f8f8f8}.cashier[data-v-18df9027]{padding-top:%?15?%}.order-code[data-v-18df9027]{margin-top:%?20?%;margin-bottom:%?28?%;text-align:center}.order-price[data-v-18df9027]{text-align:center;font-size:%?80?%;color:#ff3d00;font-weight:700;margin-bottom:%?200?%}.payment-type[data-v-18df9027]:not(:last-child){margin-bottom:%?40?%}.payment-type .u-checkbox-container[data-v-18df9027]{margin-right:%?-30?%}.balance-tips[data-v-18df9027]{color:#acacac;font-size:%?24?%;margin-left:%?60?%}\n/* 底部操作栏 */.footer-btns[data-v-18df9027]{position:fixed;padding:%?20?% %?56?%;background-color:#fff;width:100%;bottom:0}',""]),e.exports=t},"1e79":function(e,t,n){"use strict";n.r(t);var a=n("445c"),i=n("9237");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("c691");var o,c=n("f0c5"),d=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"e0fd4f24",null,!1,a["a"],o);t["default"]=d.exports},"21c9":function(e,t,n){var a=n("c088");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("4c1e1a85",a,!0,{sourceMap:!1,shadowMode:!1})},"2da6":function(e,t,n){"use strict";n.r(t);var a=n("4584"),i=n("57b3");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("7f4b");var o,c=n("f0c5"),d=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"18df9027",null,!1,a["a"],o);t["default"]=d.exports},"3b08":function(e,t,n){"use strict";var a=n("ee27").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d81d"),n("d3b7"),n("25f0"),n("96cf");var i=a(n("c964")),r=n("79f6"),o=a(n("0613")),c=n("d257"),d=n("a6f4"),s=a(n("e143")),u=s.default.extend({props:{},components:{},data:function(){return{type:"BalancePay",order:{},listPay:[],payPrice:"",ids:""}},computed:{},methods:{getPayTypeIcon:function(e){var t={WxPay:{text:"微信支付",icon:"weixin-circle-fill",color:"#41B035"},AliPay:{text:"支付宝",icon:"zhifubao-circle-fill",color:"#108EE9"},BalancePay:{text:"余额支付",icon:"rmb-circle",color:"#FE9B2A"}};return t[e]},getOrderDetial:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,r.reqGetOrderDetial)(e);case 2:a=n.sent,i=a.data,t.order=i.data.order[0],console.log(t.order);case 6:case"end":return n.stop()}}),n)})))()},getPaymentTypes:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.reqGetPayMethod)();case 2:n=t.sent,a=n.data,e.listPay=a.data.map((function(t){return t.showInfo=e.getPayTypeIcon(t.pay_code),t}));case 5:case"end":return t.stop()}}),t)})))()},onWeChatPayment:function(e){var t=this;uni.requestPayment({timeStamp:e.timestamp,nonceStr:e.nonce_str,package:"prepay_id="+e.prepay_id,signType:"MD5",paySign:e.paySign,success:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.showToast)({title:"支付成功!",mask:!0});case 2:t.$redirectTo("/pages/shopOrders/paymentSuccessful",{ids:t.ids});case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},onAlipayPayment:function(e){var t=document.getElementsByTagName("divform");t.length&&document.body.removeChild(t[0]);var n=document.createElement("divform");n.innerHTML=e,document.body.appendChild(n),document.getElementById("alipay_submit").submit(),this.$redirectTo("/pages/shopOrders/paymentSuccessful",{ids:this.ids})},onClickPaymentSubmit:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.reqToPay)(e.ids,e.type);case 2:if(n=t.sent,a=n.data,"BalancePay"!=e.type){t.next=9;break}return t.next=7,(0,c.showToast)({title:"支付成功"});case 7:o.default.dispatch("getMoney"),e.$redirectTo("/pages/shopOrders/paymentSuccessful",{ids:e.ids});case 9:if("url"!=a.data.type){t.next=13;break}return location.href=a.data.data,e.$redirectTo("/pages/shopOrders/myOrders",{id:0}),t.abrupt("return",!1);case 13:"data"==a.data.type&&(a.data.data.timestamp=a.timestamp.toString(),e.onWeChatPayment(a.data.data)),"form"==a.data.type&&e.onAlipayPayment(a.data.data);case 15:case"end":return t.stop()}}),t)})))()}},watch:{},setup:function(){var e=(0,d.computed)((function(){return o.default.getters.hexColor}));return{$hexColor:e}},onLoad:function(e){void 0!=e.orderInfo?(this.ids=JSON.parse(decodeURIComponent(e.orderInfo)).id,this.payPrice=JSON.parse(decodeURIComponent(e.orderInfo)).payPrice):(this.ids=e.id,this.getOrderDetial(e.id)),this.getPaymentTypes()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){uni.stopPullDownRefresh()},onReachBottom:function(){}});t.default=u},"445c":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={uIcon:n("f86b").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-checkbox",style:[e.checkboxStyle]},[n("v-uni-view",{staticClass:"u-checkbox__icon-wrap",class:[e.iconClass],style:[e.iconStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggle.apply(void 0,arguments)}}},[n("u-icon",{staticClass:"u-checkbox__icon-wrap__icon",attrs:{name:"checkbox-mark",size:e.checkboxIconSize,color:e.iconColor}})],1),n("v-uni-view",{staticClass:"u-checkbox__label",style:{fontSize:e.$u.addUnit(e.labelSize)},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickLabel.apply(void 0,arguments)}}},[e._t("default")],2)],1)},r=[]},4584:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={uCard:n("d505").default,uIcon:n("f86b").default,uCheckbox:n("1e79").default,unionBlank:n("2902").default,customFixedFooter:n("707a").default,uButton:n("d9ad").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.order||e.payPrice?n("div",{staticClass:"cashier"},[n("u-card",{attrs:{"show-head":!1,border:!1,padding:"44",margin:"20rpx 34rpx"}},[n("div",{staticClass:"cashier-container",attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"order-code"}),e.payPrice?n("div",{staticClass:"order-price"},[e._v("¥"+e._s(Number(e.payPrice).toFixed(2)))]):e._e(),e.order.total_fee?n("div",{staticClass:"order-price"},[e._v("¥"+e._s(Number(e.order.total_fee).toFixed(2)))]):e._e(),e._l(e.listPay,(function(t,a){return n("div",{key:a,staticClass:"payment-type",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.type=t.pay_code}}},[n("div",{staticClass:"u-flex"},[n("u-icon",{attrs:{name:t.showInfo.icon,color:t.showInfo.color,size:"40"}}),n("span",{staticClass:"u-margin-left-20 u-flex-1"},[e._v(e._s(t.showInfo.text))]),n("u-checkbox",{attrs:{shape:"circle",size:"40","icon-size":"30",value:e.type==t.pay_code,"active-color":e.$hexColor["--color-primary"]}})],1),t.money?n("span",{staticClass:"balance-tips"},[e._v("可用余额 "+e._s(t.money))]):e._e()])}))],2)]),n("union-blank",{attrs:{height:120}}),n("custom-fixed-footer",[n("u-button",{attrs:{shape:"circle",type:"primary",ripple:!0,"custom-style":{background:e.$hexColor["--color-primary"]}},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickPaymentSubmit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1):e._e()},r=[]},"4bdd":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-card",class:{"u-border":e.border,"u-card-full":e.full,"u-card--border":e.borderRadius>0},style:{borderRadius:e.borderRadius+"rpx",margin:e.margin,boxShadow:e.boxShadow},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.click.apply(void 0,arguments)}}},[e.showHead?n("v-uni-view",{staticClass:"u-card__head",class:{"u-border-bottom":e.headBorderBottom},style:[{padding:e.padding+"rpx"},e.headStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.headClick.apply(void 0,arguments)}}},[e.$slots.head?e._t("head"):n("v-uni-view",{staticClass:"u-flex u-row-between"},[e.title?n("v-uni-view",{staticClass:"u-card__head--left u-flex u-line-1"},[e.thumb?n("v-uni-image",{staticClass:"u-card__head--left__thumb",style:{height:e.thumbWidth+"rpx",width:e.thumbWidth+"rpx",borderRadius:e.thumbCircle?"100rpx":"6rpx"},attrs:{src:e.thumb,mode:"aspectfull"}}):e._e(),n("v-uni-text",{staticClass:"u-card__head--left__title u-line-1",style:{fontSize:e.titleSize+"rpx",color:e.titleColor}},[e._v(e._s(e.title))])],1):e._e(),e.subTitle?n("v-uni-view",{staticClass:"u-card__head--right u-line-1"},[n("v-uni-text",{staticClass:"u-card__head__title__text",style:{fontSize:e.subTitleSize+"rpx",color:e.subTitleColor}},[e._v(e._s(e.subTitle))])],1):e._e()],1)],2):e._e(),n("v-uni-view",{staticClass:"u-card__body",style:[{padding:e.padding+"rpx"},e.bodyStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bodyClick.apply(void 0,arguments)}}},[e._t("body")],2),e.showFoot?n("v-uni-view",{staticClass:"u-card__foot",class:{"u-border-top":e.footBorderTop},style:[{padding:e.$slots.foot?e.padding+"rpx":0},e.footStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.footClick.apply(void 0,arguments)}}},[e._t("foot")],2):e._e()],1)},r=[]},"57b3":function(e,t,n){"use strict";n.r(t);var a=n("3b08"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},"6f8f":function(e,t,n){"use strict";n.r(t);var a=n("dd33"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},"7f4b":function(e,t,n){"use strict";var a=n("95f2"),i=n.n(a);i.a},9237:function(e,t,n){"use strict";n.r(t);var a=n("a90d"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},"95f2":function(e,t,n){var a=n("0d3b6");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("64fd5d17",a,!0,{sourceMap:!1,shadowMode:!1})},"976d":function(e,t,n){"use strict";var a=n("21c9"),i=n.n(a);i.a},"97e6":function(e,t,n){var a=n("cfdc");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("1554239a",a,!0,{sourceMap:!1,shadowMode:!1})},a90d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3"),n("a15b"),n("d81d");var a={name:"u-checkbox",props:{name:{type:[String,Number],default:""},shape:{type:String,default:""},value:{type:Boolean,default:!1},disabled:{type:[String,Boolean],default:""},labelDisabled:{type:[String,Boolean],default:""},activeColor:{type:String,default:""},iconSize:{type:[String,Number],default:""},labelSize:{type:[String,Number],default:""},size:{type:[String,Number],default:""}},data:function(){return{parentDisabled:!1,newParams:{}}},created:function(){this.parent=this.$u.$parent.call(this,"u-checkbox-group"),this.parent&&this.parent.children.push(this)},computed:{isDisabled:function(){return""!==this.disabled?this.disabled:!!this.parent&&this.parent.disabled},isLabelDisabled:function(){return""!==this.labelDisabled?this.labelDisabled:!!this.parent&&this.parent.labelDisabled},checkboxSize:function(){return this.size?this.size:this.parent?this.parent.size:34},checkboxIconSize:function(){return this.iconSize?this.iconSize:this.parent?this.parent.iconSize:20},elActiveColor:function(){return this.activeColor?this.activeColor:this.parent?this.parent.activeColor:"primary"},elShape:function(){return this.shape?this.shape:this.parent?this.parent.shape:"square"},iconStyle:function(){var e={};return this.elActiveColor&&this.value&&!this.isDisabled&&(e.borderColor=this.elActiveColor,e.backgroundColor=this.elActiveColor),e.width=this.$u.addUnit(this.checkboxSize),e.height=this.$u.addUnit(this.checkboxSize),e},iconColor:function(){return this.value?"#ffffff":"transparent"},iconClass:function(){var e=[];return e.push("u-checkbox__icon-wrap--"+this.elShape),1==this.value&&e.push("u-checkbox__icon-wrap--checked"),this.isDisabled&&e.push("u-checkbox__icon-wrap--disabled"),this.value&&this.isDisabled&&e.push("u-checkbox__icon-wrap--disabled--checked"),e.join(" ")},checkboxStyle:function(){var e={};return this.parent&&this.parent.width&&(e.width=this.parent.width,e.flex="0 0 ".concat(this.parent.width)),this.parent&&this.parent.wrap&&(e.width="100%",e.flex="0 0 100%"),e}},methods:{onClickLabel:function(){this.isLabelDisabled||this.isDisabled||this.setValue()},toggle:function(){this.isDisabled||this.setValue()},emitEvent:function(){var e=this;this.$emit("change",{value:!this.value,name:this.name}),setTimeout((function(){e.parent&&e.parent.emitEvent&&e.parent.emitEvent()}),80)},setValue:function(){var e=0;if(this.parent&&this.parent.children&&this.parent.children.map((function(t){t.value&&e++})),1==this.value)this.emitEvent(),this.$emit("input",!this.value);else{if(this.parent&&e>=this.parent.max)return this.$u.toast("最多可选".concat(this.parent.max,"项"));this.emitEvent(),this.$emit("input",!this.value)}}}};t.default=a},c088:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 文字溢出处理(一行) */\n/* 文字溢出处理(多行) */\n/* 填充页面 */\n/* 除了最后一个元素 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-card[data-v-541dc022]{position:relative;overflow:hidden;font-size:%?28?%;background-color:#fff;box-sizing:border-box}.u-card-full[data-v-541dc022]{margin-left:0!important;margin-right:0!important;width:100%}.u-card--border[data-v-541dc022]:after{border-radius:%?16?%}.u-card__head--left[data-v-541dc022]{color:#303133}.u-card__head--left__thumb[data-v-541dc022]{margin-right:%?16?%}.u-card__head--left__title[data-v-541dc022]{max-width:%?400?%}.u-card__head--right[data-v-541dc022]{color:#909399;margin-left:%?6?%}.u-card__body[data-v-541dc022]{color:#606266}.u-card__foot[data-v-541dc022]{color:#909399}',""]),e.exports=t},c691:function(e,t,n){"use strict";var a=n("97e6"),i=n.n(a);i.a},cfdc:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 文字溢出处理(一行) */\n/* 文字溢出处理(多行) */\n/* 填充页面 */\n/* 除了最后一个元素 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-checkbox[data-v-e0fd4f24]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden;-webkit-user-select:none;user-select:none;line-height:1.8}.u-checkbox__icon-wrap[data-v-e0fd4f24]{color:#606266;-webkit-box-flex:0;-webkit-flex:none;flex:none;display:-webkit-flex;\ndisplay:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;box-sizing:border-box;width:%?42?%;height:%?42?%;color:transparent;text-align:center;-webkit-transition-property:color,border-color,background-color;transition-property:color,border-color,background-color;font-size:20px;border:1px solid #c8c9cc;-webkit-transition-duration:.2s;transition-duration:.2s}.u-checkbox__icon-wrap--circle[data-v-e0fd4f24]{border-radius:100%}.u-checkbox__icon-wrap--square[data-v-e0fd4f24]{border-radius:%?6?%}.u-checkbox__icon-wrap--checked[data-v-e0fd4f24]{color:#fff;background-color:#fe9b2a;border-color:#fe9b2a}.u-checkbox__icon-wrap--disabled[data-v-e0fd4f24]{background-color:#ebedf0;border-color:#c8c9cc}.u-checkbox__icon-wrap--disabled--checked[data-v-e0fd4f24]{color:#c8c9cc!important}.u-checkbox__label[data-v-e0fd4f24]{word-wrap:break-word;margin-left:%?10?%;margin-right:%?24?%;color:#606266;font-size:%?30?%}.u-checkbox__label--disabled[data-v-e0fd4f24]{color:#c8c9cc}',""]),e.exports=t},d505:function(e,t,n){"use strict";n.r(t);var a=n("4bdd"),i=n("6f8f");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("976d");var o,c=n("f0c5"),d=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"541dc022",null,!1,a["a"],o);t["default"]=d.exports},dd33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var a={name:"u-card",props:{full:{type:Boolean,default:!1},title:{type:String,default:""},titleColor:{type:String,default:"#303133"},titleSize:{type:[Number,String],default:"30"},subTitle:{type:String,default:""},subTitleColor:{type:String,default:"#909399"},subTitleSize:{type:[Number,String],default:"26"},border:{type:Boolean,default:!0},index:{type:[Number,String,Object],default:""},margin:{type:String,default:"30rpx"},borderRadius:{type:[Number,String],default:"16"},headStyle:{type:Object,default:function(){return{}}},bodyStyle:{type:Object,default:function(){return{}}},footStyle:{type:Object,default:function(){return{}}},headBorderBottom:{type:Boolean,default:!0},footBorderTop:{type:Boolean,default:!0},thumb:{type:String,default:""},thumbWidth:{type:[String,Number],default:"60"},thumbCircle:{type:Boolean,default:!1},padding:{type:[String,Number],default:"30"},showHead:{type:Boolean,default:!0},showFoot:{type:Boolean,default:!0},boxShadow:{type:String,default:"none"}},data:function(){return{}},methods:{click:function(){this.$emit("click",this.index)},headClick:function(){this.$emit("head-click",this.index)},bodyClick:function(){this.$emit("body-click",this.index)},footClick:function(){this.$emit("foot-click",this.index)}}};t.default=a}}]);