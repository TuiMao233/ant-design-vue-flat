(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/phoneEdit"],{"0215":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=c(t("4795")),u=c(t("0613")),r=t("d257"),i=c(t("66fd"));function c(n){return n&&n.__esModule?n:{default:n}}function a(n,e,t,o,u,r,i){try{var c=n[r](i),a=c.value}catch(d){return void t(d)}c.done?e(a):Promise.resolve(a).then(o,u)}function d(n){return function(){var e=this,t=arguments;return new Promise((function(o,u){var r=n.apply(e,t);function i(n){a(r,o,u,i,c,"next",n)}function c(n){a(r,o,u,i,c,"throw",n)}i(void 0)}))}}var s=i.default.extend({components:{},data:function(){return{code:"",newPhone:""}},computed:{phone:function(){return u.default.state.user.info.mobile},hidePhone:function(){var n=u.default.state.user.info.mobile;return n?"".concat(n.substring(0,3),"****").concat(n.substring(7,11)):"暂无手机号码"},isAuthPhoneCode:function(){return u.default.getters.isAuthPhoneCode}},methods:{onEditPhone:function(){var e=this;return d(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.code){t.next=2;break}return t.abrupt("return",n.$u.toast("请输入验证码"));case 2:if(n.$u.test.mobile(e.newPhone)){t.next=4;break}return t.abrupt("return",n.$u.toast("请输入正确的新手机号"));case 4:if(!e.isAuthPhoneCode){t.next=9;break}return t.next=7,u.default.dispatch("editPhoneInfo",[e.newPhone,e.code]);case 7:t.next=11;break;case 9:return t.next=11,u.default.dispatch("bindPhoneInfo",[e.newPhone,e.code]);case 11:return t.next=13,(0,r.showToast)({title:"修改成功!"});case 13:(0,r.navigateBack)();case 14:case"end":return t.stop()}}),t)})))()}},watch:{},onLoad:function(){this.isAuthPhoneCode?n.setNavigationBarTitle({title:"修改手机号"}):n.setNavigationBarTitle({title:"绑定手机号"})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){n.stopPullDownRefresh()},onReachBottom:function(){}});e.default=s}).call(this,t("543d")["default"])},"03ae":function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return o}));var o={uField:function(){return t.e("node-modules/uview-ui/components/u-field/u-field").then(t.bind(null,"c732"))},customCodeInput:function(){return t.e("components/customs/custom-code-input").then(t.bind(null,"502a"))},customFixedFooter:function(){return t.e("components/customs/custom-fixed-footer").then(t.bind(null,"707a"))},uButton:function(){return t.e("node-modules/uview-ui/components/u-button/u-button").then(t.bind(null,"d9ad"))}},u=function(){var n=this,e=n.$createElement;n._self._c},r=[]},"283c":function(n,e,t){"use strict";(function(n){t("6cdc");var e=o(t("edc2"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"28e4":function(n,e,t){},"9d1d":function(n,e,t){"use strict";t.r(e);var o=t("0215"),u=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(r);e["default"]=u.a},c314:function(n,e,t){"use strict";var o=t("28e4"),u=t.n(o);u.a},edc2:function(n,e,t){"use strict";t.r(e);var o=t("03ae"),u=t("9d1d");for(var r in u)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return u[n]}))}(r);t("c314");var i,c=t("f0c5"),a=Object(c["a"])(u["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);e["default"]=a.exports}},[["283c","common/runtime","common/vendor"]]]);