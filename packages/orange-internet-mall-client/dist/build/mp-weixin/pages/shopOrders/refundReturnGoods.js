(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopOrders/refundReturnGoods"],{"2d46":function(e,n,t){},"5f76":function(e,n,t){"use strict";(function(e){t("6cdc");var n=o(t("8338"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},8338:function(e,n,t){"use strict";t.r(n);var o=t("e814"),r=t("c1f5");for(var d in r)["default"].indexOf(d)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(d);t("efa8");var u,i=t("f0c5"),a=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);n["default"]=a.exports},c1f5:function(e,n,t){"use strict";t.r(n);var o=t("f0cc"),r=t.n(o);for(var d in o)["default"].indexOf(d)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(d);n["default"]=r.a},e814:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return d})),t.d(n,"a",(function(){return o}));var o={uCard:function(){return t.e("node-modules/uview-ui/components/u-card/u-card").then(t.bind(null,"d505"))},uImage:function(){return t.e("node-modules/uview-ui/components/u-image/u-image").then(t.bind(null,"9df5"))},uField:function(){return t.e("node-modules/uview-ui/components/u-field/u-field").then(t.bind(null,"c732"))},customTextarea:function(){return t.e("components/customs/custom-textarea").then(t.bind(null,"9ff4"))},uUpload:function(){return t.e("node-modules/uview-ui/components/u-upload/u-upload").then(t.bind(null,"eea8"))},uIcon:function(){return t.e("node-modules/uview-ui/components/u-icon/u-icon").then(t.bind(null,"f86b"))},unionBlank:function(){return t.e("components/unions/union-blank").then(t.bind(null,"2902"))},uButton:function(){return t.e("node-modules/uview-ui/components/u-button/u-button").then(t.bind(null,"d9ad"))}},r=function(){var e=this,n=e.$createElement,t=(e._self._c,{background:e.$hexColor["--color-primary"]});e.$mp.data=Object.assign({},{$root:{a0:t}})},d=[]},efa8:function(e,n,t){"use strict";var o=t("2d46"),r=t.n(o);r.a},f0cc:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=s(t("4795")),r=s(t("66fd")),d=t("79f6"),u=t("d257"),i=t("a6f4"),a=s(t("0613"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,n,t,o,r,d,u){try{var i=e[d](u),a=i.value}catch(s){return void t(s)}i.done?n(a):Promise.resolve(a).then(o,r)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var d=e.apply(n,t);function u(e){c(d,o,r,u,i,"next",e)}function i(e){c(d,o,r,u,i,"throw",e)}u(void 0)}))}}var l=r.default.extend({components:{},data:function(){return{price:"",form:{images:[]},exchangeInstructions:"",goodsOrderInfo:{},type:0,goodsId:0,orderId:0,orderItemId:0,actionUrl:d.httpConfig.baseURL,requestHeader:d.httpConfig.header,addressInfo:{},afterSalesId:"",modify:!1,fileList:[]}},computed:{},setup:function(){var e=(0,i.computed)((function(){return a.default.getters.hexColor}));return{$hexColor:e}},methods:{onAfterEachUpload:function(e){var n=e.map((function(e){var n,t,o;return(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t||null===(o=t.path)||void 0===o?void 0:o.show)||e.url}));-1===n.findIndex((function(e){return!e}))&&(this.form.images=n.filter((function(e){return e})))},onFilterOutNumber:function(){},inputPriceEvent:function(e){Number(e)>Number(this.goodsOrderInfo.goods_price*this.goodsOrderInfo.goods_num)&&(this.price="")},onSendRight:function(){var e=this;return f(o.default.mark((function n(){var t;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.modify){n.next=5;break}return n.next=3,(0,d.reqApplyRight)({id:e.afterSalesId,type:e.type,order_id:e.orderId,order_item_id:e.orderItemId,shop_user_apply_reason:e.exchangeInstructions,images:e.form.images,goods_id:e.goodsId,refund_money:e.price});case 3:n.next=12;break;case 5:if(!e.afterSalesId){n.next=10;break}return n.next=8,(0,d.reqApplyProtectionAgain)({id:e.afterSalesId,type:e.type,order_id:e.orderId,order_item_id:e.orderItemId,shop_user_apply_reason:e.exchangeInstructions,images:e.form.images,goods_id:e.goodsId,refund_money:e.price});case 8:n.next=12;break;case 10:return n.next=12,(0,d.reqApplyRight)({type:e.type,order_id:e.orderId,order_item_id:e.orderItemId,shop_user_apply_reason:e.exchangeInstructions,images:e.form.images,goods_id:e.goodsId,refund_money:e.price});case 12:return t=e,n.next=15,(0,u.showToast)({title:"提交成功!",mask:!0,success:function(){setTimeout((function(){(0,u.redirectTo)("/pages/shopOrders/sprotectionRightDetail",{orderId:t.orderId,shopId:t.orderItemId})}),1500)}});case 15:case"end":return n.stop()}}),n)})))()},getGoodsDetail:function(e,n){var t=this;return f(o.default.mark((function r(){var u,i,a,s;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t.modify){o.next=12;break}return o.next=3,(0,d.reqLegitimateDetail)(e,n);case 3:u=o.sent,i=u.data,t.goodsOrderInfo=i.data.orderGoods[0],t.exchangeInstructions=i.data.afterSales.shop_user_apply_reason,t.price=i.data.afterSales.refund_money,t.addressInfo=i.data,JSON.parse(i.data.afterSales.images).forEach((function(e){t.fileList.push({url:e})})),o.next=18;break;case 12:return o.next=14,(0,d.reqGetOrderDetial)(e,n);case 14:a=o.sent,s=a.data,t.goodsOrderInfo=s.data.order[0].orderGoods[0],t.addressInfo=s.data.order[0];case 18:case"end":return o.stop()}}),r)})))()}},watch:{},onLoad:function(e){this.modify=!!e.modify&&e.modify,this.type=e.type,this.orderId=e.orderId,this.orderItemId=e.goodsOrderId,this.goodsId=e.goodsId,this.afterSalesId=e.afterSalesId,this.getGoodsDetail(e.orderId,e.goodsOrderId)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){e.stopPullDownRefresh()},onReachBottom:function(){}});n.default=l}).call(this,t("543d")["default"])}},[["5f76","common/runtime","common/vendor"]]]);